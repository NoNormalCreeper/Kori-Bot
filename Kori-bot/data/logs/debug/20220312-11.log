[36mATRI[0m | 03-12 11:20:31 | INFO apscheduler >> Adding job tentatively -- it will be properly scheduled when the scheduler starts
[36mATRI[0m | 03-12 11:20:31 | SUCCESS plugin.manager >> Succeeded to import "chat"
[36mATRI[0m | 03-12 11:20:31 | SUCCESS plugin.manager >> Succeeded to import "wife"
[36mATRI[0m | 03-12 11:20:31 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_chess"
[36mATRI[0m | 03-12 11:20:31 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_apscheduler"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_what2eat-2"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_abbrreply"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_localstore"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_chatrecorder"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_withdraw"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "saying"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_caiyunai"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_repeater"
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_songpicker2"
[36mATRI[0m | 03-12 11:20:32 | INFO src >> global_config:driver='~fastapi' host=IPv4Address('127.0.0.1') port=9165 log_level='INFO' api_timeout=30.0 superusers={'2560359315'} nickname={'Kori', 'Kori Bot', 'bot'} command_start={'!', 'ï¼', '/'} command_sep={' ', '.'} session_expire_timeout=datetime.timedelta(seconds=120) pretty_derby_flag=True morning_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_morning/resource/' repeater_minlen=1 statistical_path='data/statistical/' arknights_flag=True hoshizora_flag=True max_bet_fold=10000 http_port=5700 statistical_black_model=['nonebot_plugin_repeater'] eating_limit=5 server_status_only_superusers='False' touhou_flag=True what2eat_path='./src/plugins/nonebot_plugin_what2eat-2/resource/' touhou_old_flag=False qweather_apikey='ae2434efa50048cdb5e92ecb9a1c6b14' sweet_illusion_flag=True einstein_flag=True setu_cd=180 statistical_black_priority=[] read_qq_groups=[277620613, 937760225, 958866763] debug='True' qweather_apitype=0 environment='prod' genshin_flag=True azure_flag=True granblue_fantasy_flag=True dir='~/Project/Kori-Bot/Kori-Bot' vtuber_flag=True proxies_http='http://127.0.0.1:20171' groups_id=[] asoul_flag=True liqingge_flag=True server_status_per_cpu='True' punishing_flag=True fortune_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_fortune/resource/' read_inform_time=[{'HOUR': 7, 'MINUTE': 30}] onmyoji_flag=True caiyunai_apikey='62142754f02461188d58b88f' pcr_flag=True sakura_flag=True dc4_flag=False read_qq_friends=[0, 0]
[36mATRI[0m | 03-12 11:20:32 | INFO src >> plugin_config:plugin_setting='default' pretty_derby_flag=True morning_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_morning/resource/' driver='~fastapi' session_expire_timeout=datetime.timedelta(seconds=120) repeater_minlen=1 statistical_path='data/statistical/' arknights_flag=True hoshizora_flag=True max_bet_fold=10000 http_port=5700 statistical_black_model=['nonebot_plugin_repeater'] eating_limit=5 server_status_only_superusers='False' touhou_flag=True what2eat_path='./src/plugins/nonebot_plugin_what2eat-2/resource/' api_timeout=30.0 touhou_old_flag=False qweather_apikey='ae2434efa50048cdb5e92ecb9a1c6b14' sweet_illusion_flag=True einstein_flag=True setu_cd=180 statistical_black_priority=[] log_level='INFO' host=IPv4Address('127.0.0.1') read_qq_groups=[277620613, 937760225, 958866763] debug='True' qweather_apitype=0 environment='prod' genshin_flag=True azure_flag=True granblue_fantasy_flag=True dir='~/Project/Kori-Bot/Kori-Bot' vtuber_flag=True proxies_http='http://127.0.0.1:20171' superusers={'2560359315'} groups_id=[] asoul_flag=True liqingge_flag=True server_status_per_cpu='True' punishing_flag=True fortune_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_fortune/resource/' read_inform_time=[{'HOUR': 7, 'MINUTE': 30}] port=9165 command_start={'!', 'ï¼', '/'} nickname={'Kori', 'Kori Bot', 'bot'} onmyoji_flag=True caiyunai_apikey='62142754f02461188d58b88f' pcr_flag=True sakura_flag=True dc4_flag=False read_qq_friends=[0, 0] command_sep={' ', '.'}
[36mATRI[0m | 03-12 11:20:32 | INFO src >> id:0,time:{'HOUR': 7, 'MINUTE': 30}
[36mATRI[0m | 03-12 11:20:32 | SUCCESS plugin.manager >> Succeeded to import "memes_from_feiyucans_space"
[36mATRI[0m | 03-12 11:20:34 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_memes"
[36mATRI[0m | 03-12 11:20:34 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_todo"
[36mATRI[0m | 03-12 11:20:34 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_logo"
[36mATRI[0m | 03-12 11:20:34 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_apscheduler"
[36mATRI[0m | 03-12 11:20:34 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_wordcloud"
[36mATRI[0m | 03-12 11:20:34 | SUCCESS plugin.manager >> Succeeded to import "test"
[36mATRI[0m | 03-12 11:20:35 | SUCCESS plugin.manager >> Succeeded to import "text2pic"
[36mATRI[0m | 03-12 11:20:35 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_heweather"
[36mATRI[0m | 03-12 11:20:35 | SUCCESS plugin.manager >> Succeeded to import "trigger_memes_from_feiyucans_space"
[36mATRI[0m | 03-12 11:20:35 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_morning"
[36mATRI[0m | 03-12 11:20:36 | SUCCESS plugin.manager >> Succeeded to import "admin_tools"
[36mATRI[0m | 03-12 11:20:36 | SUCCESS plugin.manager >> Succeeded to import "ATRI-2"
[36mATRI[0m | 03-12 11:20:36 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_analysis_bilibili"
[36mATRI[0m | 03-12 11:20:36 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_datastore"
[36mATRI[0m | 03-12 11:20:36 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_htmlrender"
[36mATRI[0m | 03-12 11:20:42 | SUCCESS plugin.manager >> Succeeded to import "atri_setu"
[36mATRI[0m | 03-12 11:20:42 | ERROR plugin.manager >> Failed to import "nonebot_plugin_statistical"
Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 19, in run_bot
    module = importlib.import_module(module_name)
             â”‚         â”‚             â”” 'bot'
             â”‚         â”” <function import_module at 0x7fd957b2b940>
             â”” <module 'importlib' from '/usr/local/python3/lib/python3.8/importlib/__init__.py'>
  File "/usr/local/python3/lib/python3.8/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           â”‚          â”‚           â”‚    â”‚        â”‚        â”” 0
           â”‚          â”‚           â”‚    â”‚        â”” None
           â”‚          â”‚           â”‚    â”” 0
           â”‚          â”‚           â”” 'bot'
           â”‚          â”” <function _gcd_import at 0x7fd957c59430>
           â”” <module 'importlib._bootstrap' (frozen)>
  File "<frozen importlib._bootstrap>", line 1014, in _gcd_import
  File "<frozen importlib._bootstrap>", line 991, in _find_and_load
  File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 671, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 783, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed

  File "./bot.py", line 29, in <module>
    nonebot.load_plugins("src/plugins")
    â”‚       â”” <function load_plugins at 0x7fd94d83b820>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>

  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/plugin/load.py", line 39, in load_plugins
    return manager.load_all_plugins()
           â”‚       â”” <function PluginManager.load_all_plugins at 0x7fd94d8363a0>
           â”” <nonebot.plugin.manager.PluginManager object at 0x7fd9461b2af0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/plugin/manager.py", line 128, in load_all_plugins
    return set(
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/plugin/manager.py", line 129, in <genexpr>
    filter(None, (self.load_plugin(name) for name in self.list_plugins()))
                  â”‚    â”‚           â”‚         â”‚       â”‚    â”” <function PluginManager.list_plugins at 0x7fd94d836280>
                  â”‚    â”‚           â”‚         â”‚       â”” <nonebot.plugin.manager.PluginManager object at 0x7fd9461b2af0>
                  â”‚    â”‚           â”‚         â”” 'nonebot_plugin_statistical'
                  â”‚    â”‚           â”” 'nonebot_plugin_statistical'
                  â”‚    â”” <function PluginManager.load_plugin at 0x7fd94d836310>
                  â”” <nonebot.plugin.manager.PluginManager object at 0x7fd9461b2af0>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/plugin/manager.py", line 106, in load_plugin
    module = importlib.import_module(
             â”‚         â”” <function import_module at 0x7fd957b2b940>
             â”” <module 'importlib' from '/usr/local/python3/lib/python3.8/importlib/__init__.py'>
  File "/usr/local/python3/lib/python3.8/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           â”‚          â”‚           â”‚    â”‚        â”‚        â”” 0
           â”‚          â”‚           â”‚    â”‚        â”” None
           â”‚          â”‚           â”‚    â”” 0
           â”‚          â”‚           â”” 'src.plugins.nonebot_plugin_statistical'
           â”‚          â”” <function _gcd_import at 0x7fd957c59430>
           â”” <module 'importlib._bootstrap' (frozen)>
  File "<frozen importlib._bootstrap>", line 1014, in _gcd_import
  File "<frozen importlib._bootstrap>", line 991, in _find_and_load
  File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 671, in _load_unlocked
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/plugin/manager.py", line 194, in exec_module
    super().exec_module(module)
                        â”” <module 'src.plugins.nonebot_plugin_statistical' from './src/plugins/nonebot_plugin_statistical/__init__.py'>
  File "<frozen importlib._bootstrap_external>", line 783, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed

  File "./src/plugins/nonebot_plugin_statistical/__init__.py", line 1, in <module>
    from .statistical_hook import *

  File "./src/plugins/nonebot_plugin_statistical/statistical_hook.py", line 7, in <module>
    from .config import save_data, get_prefix_group_count_dict, get_prefix_user_count_dict, \

  File "./src/plugins/nonebot_plugin_statistical/config.py", line 149, in <module>
    plugin2cmd: dict = json.load(f)
                       â”‚    â”‚    â”” <_io.TextIOWrapper name='/root/Projects/Kori-Bot/Kori-bot/data/statistical/plugin2cmd.json' mode='r' encoding='utf8'>
                       â”‚    â”” <built-in function load>
                       â”” <module 'ujson' from '/usr/local/python3/lib/python3.8/site-packages/ujson.cpython-38-x86_64-linux-gnu.so'>

ValueError: Expected object or value
[36mATRI[0m | 03-12 11:20:42 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_localstore"
[36mATRI[0m | 03-12 11:20:42 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_biliav"
[36mATRI[0m | 03-12 11:20:42 | SUCCESS plugin.manager >> Succeeded to import "help"
[36mATRI[0m | 03-12 11:20:42 | INFO src >> global_config:driver='~fastapi' host=IPv4Address('127.0.0.1') port=9165 log_level='INFO' api_timeout=30.0 superusers={'2560359315'} nickname={'Kori', 'Kori Bot', 'bot'} command_start={'!', 'ï¼', '/'} command_sep={' ', '.'} session_expire_timeout=datetime.timedelta(seconds=120) pretty_derby_flag=True morning_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_morning/resource/' repeater_minlen=1 statistical_path='data/statistical/' arknights_flag=True hoshizora_flag=True max_bet_fold=10000 http_port=5700 statistical_black_model=['nonebot_plugin_repeater'] eating_limit=5 server_status_only_superusers='False' touhou_flag=True what2eat_path='./src/plugins/nonebot_plugin_what2eat-2/resource/' touhou_old_flag=False qweather_apikey='ae2434efa50048cdb5e92ecb9a1c6b14' sweet_illusion_flag=True einstein_flag=True setu_cd=180 statistical_black_priority=[] read_qq_groups=[277620613, 937760225, 958866763] debug='True' qweather_apitype=0 environment='prod' genshin_flag=True azure_flag=True granblue_fantasy_flag=True dir='~/Project/Kori-Bot/Kori-Bot' vtuber_flag=True proxies_http='http://127.0.0.1:20171' groups_id=[] asoul_flag=True liqingge_flag=True server_status_per_cpu='True' punishing_flag=True fortune_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_fortune/resource/' read_inform_time=[{'HOUR': 7, 'MINUTE': 30}] onmyoji_flag=True caiyunai_apikey='62142754f02461188d58b88f' pcr_flag=True sakura_flag=True dc4_flag=False read_qq_friends=[0, 0]
[36mATRI[0m | 03-12 11:20:42 | INFO src >> plugin_config:plugin_setting='default' pretty_derby_flag=True morning_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_morning/resource/' driver='~fastapi' session_expire_timeout=datetime.timedelta(seconds=120) repeater_minlen=1 statistical_path='data/statistical/' arknights_flag=True hoshizora_flag=True max_bet_fold=10000 http_port=5700 statistical_black_model=['nonebot_plugin_repeater'] eating_limit=5 server_status_only_superusers='False' touhou_flag=True what2eat_path='./src/plugins/nonebot_plugin_what2eat-2/resource/' api_timeout=30.0 touhou_old_flag=False qweather_apikey='ae2434efa50048cdb5e92ecb9a1c6b14' sweet_illusion_flag=True einstein_flag=True setu_cd=180 statistical_black_priority=[] log_level='INFO' host=IPv4Address('127.0.0.1') read_qq_groups=[277620613, 937760225, 958866763] debug='True' qweather_apitype=0 environment='prod' genshin_flag=True azure_flag=True granblue_fantasy_flag=True dir='~/Project/Kori-Bot/Kori-Bot' vtuber_flag=True proxies_http='http://127.0.0.1:20171' superusers={'2560359315'} groups_id=[] asoul_flag=True liqingge_flag=True server_status_per_cpu='True' punishing_flag=True fortune_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_fortune/resource/' read_inform_time=[{'HOUR': 7, 'MINUTE': 30}] port=9165 command_start={'!', 'ï¼', '/'} nickname={'Kori', 'Kori Bot', 'bot'} onmyoji_flag=True caiyunai_apikey='62142754f02461188d58b88f' pcr_flag=True sakura_flag=True dc4_flag=False read_qq_friends=[0, 0] command_sep={' ', '.'}
[36mATRI[0m | 03-12 11:20:42 | INFO src >> id:0,time:{'HOUR': 7, 'MINUTE': 30}
[36mATRI[0m | 03-12 11:20:42 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_read_60s"
[36mATRI[0m | 03-12 11:20:44 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_fortune"
[36mATRI[0m | 03-12 11:20:44 | INFO src >> global_config:driver='~fastapi' host=IPv4Address('127.0.0.1') port=9165 log_level='INFO' api_timeout=30.0 superusers={'2560359315'} nickname={'Kori', 'Kori Bot', 'bot'} command_start={'!', 'ï¼', '/'} command_sep={' ', '.'} session_expire_timeout=datetime.timedelta(seconds=120) pretty_derby_flag=True morning_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_morning/resource/' repeater_minlen=1 statistical_path='data/statistical/' arknights_flag=True hoshizora_flag=True max_bet_fold=10000 http_port=5700 statistical_black_model=['nonebot_plugin_repeater'] eating_limit=5 server_status_only_superusers='False' touhou_flag=True what2eat_path='./src/plugins/nonebot_plugin_what2eat-2/resource/' touhou_old_flag=False qweather_apikey='ae2434efa50048cdb5e92ecb9a1c6b14' sweet_illusion_flag=True einstein_flag=True setu_cd=180 statistical_black_priority=[] read_qq_groups=[277620613, 937760225, 958866763] debug='True' qweather_apitype=0 environment='prod' genshin_flag=True azure_flag=True granblue_fantasy_flag=True dir='~/Project/Kori-Bot/Kori-Bot' vtuber_flag=True proxies_http='http://127.0.0.1:20171' groups_id=[] asoul_flag=True liqingge_flag=True server_status_per_cpu='True' punishing_flag=True fortune_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_fortune/resource/' read_inform_time=[{'HOUR': 7, 'MINUTE': 30}] onmyoji_flag=True caiyunai_apikey='62142754f02461188d58b88f' pcr_flag=True sakura_flag=True dc4_flag=False read_qq_friends=[0, 0]
[36mATRI[0m | 03-12 11:20:44 | INFO src >> plugin_config:plugin_setting='default' pretty_derby_flag=True morning_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_morning/resource/' driver='~fastapi' session_expire_timeout=datetime.timedelta(seconds=120) repeater_minlen=1 statistical_path='data/statistical/' arknights_flag=True hoshizora_flag=True max_bet_fold=10000 http_port=5700 statistical_black_model=['nonebot_plugin_repeater'] eating_limit=5 server_status_only_superusers='False' touhou_flag=True what2eat_path='./src/plugins/nonebot_plugin_what2eat-2/resource/' api_timeout=30.0 touhou_old_flag=False qweather_apikey='ae2434efa50048cdb5e92ecb9a1c6b14' sweet_illusion_flag=True einstein_flag=True setu_cd=180 statistical_black_priority=[] log_level='INFO' host=IPv4Address('127.0.0.1') read_qq_groups=[277620613, 937760225, 958866763] debug='True' qweather_apitype=0 environment='prod' genshin_flag=True azure_flag=True granblue_fantasy_flag=True dir='~/Project/Kori-Bot/Kori-Bot' vtuber_flag=True proxies_http='http://127.0.0.1:20171' superusers={'2560359315'} groups_id=[] asoul_flag=True liqingge_flag=True server_status_per_cpu='True' punishing_flag=True fortune_path='/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_fortune/resource/' read_inform_time=[{'HOUR': 7, 'MINUTE': 30}] port=9165 command_start={'!', 'ï¼', '/'} nickname={'Kori', 'Kori Bot', 'bot'} onmyoji_flag=True caiyunai_apikey='62142754f02461188d58b88f' pcr_flag=True sakura_flag=True dc4_flag=False read_qq_friends=[0, 0] command_sep={' ', '.'}
[36mATRI[0m | 03-12 11:20:44 | INFO src >> id:0,time:{'HOUR': 7, 'MINUTE': 30}
[36mATRI[0m | 03-12 11:20:44 | SUCCESS plugin.manager >> Succeeded to import "whitenight_from_feiyucans_space"
[36mATRI[0m | 03-12 11:20:44 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_epicfree"
[36mATRI[0m | 03-12 11:20:44 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_emojimix"
[36mATRI[0m | 03-12 11:20:47 | WARNING nonebot >> Duplicated prefix rule "!lottery"
[36mATRI[0m | 03-12 11:20:47 | WARNING nonebot >> Duplicated prefix rule "ï¼lottery"
[36mATRI[0m | 03-12 11:20:47 | WARNING nonebot >> Duplicated prefix rule "/lottery"
[36mATRI[0m | 03-12 11:20:47 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_russian"
[36mATRI[0m | 03-12 11:20:47 | SUCCESS plugin.manager >> Succeeded to import "cp"
[36mATRI[0m | 03-12 11:20:48 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_roll"
[36mATRI[0m | 03-12 11:20:48 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_remake"
[36mATRI[0m | 03-12 11:20:48 | SUCCESS plugin.manager >> Succeeded to import "ping"
[36mATRI[0m | 03-12 11:20:51 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_petpet"
[36mATRI[0m | 03-12 11:20:52 | SUCCESS plugin.manager >> Succeeded to import "wolfram"
[36mATRI[0m | 03-12 11:20:52 | SUCCESS plugin.manager >> Succeeded to import "atri_plugin_status"
[36mATRI[0m | 03-12 11:20:52 | SUCCESS plugin.manager >> Succeeded to import "nonebot_plugin_code"
[36mATRI[0m | 03-12 11:20:52 | SUCCESS nonebot >> Running NoneBot...
[36mATRI[0m | 03-12 11:20:52 | DEBUG nonebot.internal.driver.driver >> Loaded adapters: OneBot V11
[36mATRI[0m | 03-12 11:20:52 | INFO uvicorn >> Started server process [2457]
[36mATRI[0m | 03-12 11:20:52 | INFO uvicorn >> Waiting for application startup.
[36mATRI[0m | 03-12 11:20:52 | INFO ATRI >> Scheduler Started.
[36mATRI[0m | 03-12 11:20:53 | INFO nonebot_plugin_htmlrender >> Browser Started.
[36mATRI[0m | 03-12 11:20:53 | INFO src >> Scheduler Started
[36mATRI[0m | 03-12 11:20:53 | INFO nonebot_plugin_datastore >> æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ
[36mATRI[0m | 03-12 11:20:53 | INFO src >> æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ
[36mATRI[0m | 03-12 11:20:55 | INFO src >> Browser Started.
[36mATRI[0m | 03-12 11:20:55 | INFO uvicorn >> Application startup complete.
[36mATRI[0m | 03-12 11:20:55 | INFO uvicorn >> Uvicorn running on http://127.0.0.1:9165 (Press CTRL+C to quit)
[36mATRI[0m | 03-12 11:20:58 | INFO uvicorn >> ('127.0.0.1', 45680) - "WebSocket /onebot/v11/ws/" [accepted]
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> OneBot V11 | Bot 507346814 connected
[36mATRI[0m | 03-12 11:20:58 | INFO websockets >> connection open
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 381733579 from 594352301@[ç¾¤:2222191] "åˆå‡ºé—®é¢˜äº†[CQ:face,id=5]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1640495709 from 594352301@[ç¾¤:2222191] "è¿™æ€Žä¹ˆå›žäº‹å‘€[CQ:face,id=32]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -6066178 from 594352301@[ç¾¤:2222191] "ä»£ç "
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2002493592 from 594352301@[ç¾¤:2222191] "[CQ:image,file=5fc16bf8fc0909caa7fe305e1d98d046.image,url=https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2168538649-5FC16BF8FC0909CAA7FE305E1D98D046/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 296554194 from 594352301@[ç¾¤:2222191] "[CQ:image,file=5ef49d8b0147fc213092b84f174ad98a.image,url=https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2927092429-5EF49D8B0147FC213092B84F174AD98A/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1722433092 from 645539484@[ç¾¤:2222191] "è¦çœ‹math.hé‡Œæœ‰æ²¡æœ‰è¿™å‡½æ•°"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -166386731 from 1756449233@[ç¾¤:2222191] "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -129179814 from 963046537@[ç¾¤:937760225] " å¥¹å‹¾å¼•æˆ‘æ€Žä¹ˆåŠž"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 101219121 from 963046537@[ç¾¤:937760225] "[CQ:forward,id=WXbjQYsR0zNNqgr8BDS8M0b5ueDhOtW4zh8vnXprzIoy3Vj7SjknU7G7si42GlHK]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1896827815 from 963046537@[ç¾¤:937760225] "å®Œäº†å®Œäº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -402253283 from 963046537@[ç¾¤:937760225] "[CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2679133325-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1627313525 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=2a91182255ae9e4e98878a87840f86a6.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2613229514-2A91182255AE9E4E98878A87840F86A6/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 23445288 from 963046537@[ç¾¤:937760225] "å®Œäº†å®¶äººä»¬"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1986170814 from 963046537@[ç¾¤:937760225] "[CQ:image,file=0379636bddb00222a599adaf2a4d74e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2377617958-0379636BDDB00222A599ADAF2A4D74E3/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -278143484 from 963046537@[ç¾¤:937760225] "å®Œè›‹äº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1737691502 from 963046537@[ç¾¤:937760225] "å¥¹åˆè¯•æŽ¢æˆ‘"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 148108035 from 963046537@[ç¾¤:937760225] "å®Œäº†å®Œäº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 2144650133 from 2560359315@[ç¾¤:937760225] "åˆ«é‚£ä¹ˆæ•æ„Ÿ"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 521357936 from 963046537@[ç¾¤:937760225] "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1746172646 from 2560359315@[ç¾¤:937760225] "äººå®¶åªæ˜¯æ­£å¸¸èŠå¤©"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -249746596 from 2560359315@[ç¾¤:937760225] "ä½ å°±ä¹±æƒ³"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2045109302 from 963046537@[ç¾¤:937760225] "å•Šå¯¹å¯¹å¯¹"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 410947177 from 963046537@[ç¾¤:937760225] "å¯¹å¯¹å¯¹"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1870249727 from 963046537@[ç¾¤:937760225] "æœ‰ç‚¹çŒä¸åŠé˜²äº†å®¶äººä»¬"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -160370875 from 2560359315@[ç¾¤:937760225] "ä½ å’‹é‚£ä¹ˆè‡ªä¿¡ï¼ˆ"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2122850349 from 963046537@[ç¾¤:937760225] "ã€‚"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 298369602 from 963046537@[ç¾¤:937760225] "ä¸èƒ½å‘å‡ºæ¥"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1724904148 from 963046537@[ç¾¤:937760225] "ä¸ç„¶çœŸæˆäº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -820798706 from 963046537@[ç¾¤:937760225] "[CQ:image,file=0379636bddb00222a599adaf2a4d74e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3157374596-0379636BDDB00222A599ADAF2A4D74E3/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1206604904 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=27e4ac7b4638bfdb53a0f198b84351be.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2796056680-27E4AC7B4638BFDB53A0F198B84351BE/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 555612706 from 963046537@[ç¾¤:937760225] "å®Œäº†å®Œäº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1444596404 from 963046537@[ç¾¤:937760225] "å¥¹ç›´æŽ¥å¼€å¤§äº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -931242217 from 963046537@[ç¾¤:937760225] "[CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2991467973-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1082560639 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=a640c811cb7d5664e7a8dc4c2e6b3349.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3173209188-A640C811CB7D5664E7A8DC4C2E6B3349/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2129521853 from 1337831451@[ç¾¤:2222191] "[CQ:image,file=c8ff50c6c7864219c87fd9e1bc0c1c73.image,url=https://gchat.qpic.cn/gchatpic_new/1337831451/204222191-2767661233-C8FF50C6C7864219C87FD9E1BC0C1C73/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 2136389416 from 1337831451@[ç¾¤:2222191] "æœ‰å¤§ä½¬ä»¬éœ€è¦å—"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 139560894 from 1337831451@[ç¾¤:2222191] "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1856449020 from 3080837002@[ç¾¤:2222191] "è£…opencvçš„æ—¶å€™cmakeä¸€ç›´æŠ¥é”™æ€Žä¹ˆåŠž"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -429922670 from 3080837002@[ç¾¤:2222191] "å¤§ä½¬æŽ¨èä¸ªæ•™ç¨‹å§"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 2017162033 from 3080837002@[ç¾¤:2222191] "æˆ‘ä¸€ç›´æžä¸æ‡‚æ€Žä¹ˆç¼–è¯‘"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [notice.group_increase.approve]: {'time': 1647052058, 'self_id': 507346814, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 3507778089, 'group_id': 958866763, 'operator_id': 0}
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1744162195 from 1020936395@[ç¾¤:277620613] "/feiyucans"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 16999383 from 2560359315@[ç¾¤:277620613] "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1979994945 from 2560359315@[ç¾¤:277620613] "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -396310814 from 2560359315@[ç¾¤:277620613] "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 276922 from 2560359315@[ç¾¤:962699166] "æ€Žä¹ˆå¥½ä¹…ä¸è§è‹¦åŠ›è›‡äº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1996687660 from 2560359315@[ç¾¤:962699166] "ä¸­è€ƒåŽ»äº†ï¼Ÿ"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 644890171 from 1617678696@[ç¾¤:937760225] "!æ—©"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1366757037 from 1617678696@[ç¾¤:937760225] "å•Š"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1043852484 from 1617678696@[ç¾¤:937760225] "åæŽ‰äº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1227938902 from 963046537@[ç¾¤:937760225] "ã€‚"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -704075185 from 2560359315@[ç¾¤:937760225] "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1592812839 from 2560359315@[ç¾¤:937760225] "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 939969379 from 2560359315@[ç¾¤:937760225] "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1325530101 from 963046537@[ç¾¤:937760225] "èµ·è¿™ä¹ˆæ™š"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -781881770 from 963046537@[ç¾¤:937760225] " ã€‚ã€‚"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1503502656 from 1617678696@[ç¾¤:937760225] "ä¸æ˜¯"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1063980922 from 1617678696@[ç¾¤:937760225] "æ—©ä¸Šå¿˜è®°äº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1215053804 from 2560359315@[ç¾¤:937760225] "å°è¯•ç ´è§£çŽ„å­¦çš„é£ŽæŽ§"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -657251715 from 2560359315@[ç¾¤:937760225] "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1345056021 from 1617678696@[ç¾¤:937760225] "ç ´è§£é£ŽæŽ§ï¼ˆåˆ’æŽ‰"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -47842932 from 2560359315@[ç¾¤:937760225] "åº”è¯¥æ˜¯ç§èŠçš„æ—¶å€™è¢«æ£€æµ‹åˆ°äº†"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1977431782 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=1350664ae9c0333a54d835a7acc1c464.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3133488814-1350664AE9C0333A54D835A7ACC1C464/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 321624224 from 1617678696@[ç¾¤:937760225] "æ”¶è´­è…¾è®¯ï¼ˆé’©"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1680648246 from 1617678696@[ç¾¤:937760225] "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2168538649-5FC16BF8FC0909CAA7FE305E1D98D046/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2927092429-5EF49D8B0147FC213092B84F174AD98A/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2679133325-4E994F1332634EBDD46B4A939FD704E3/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2613229514-2A91182255AE9E4E98878A87840F86A6/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2377617958-0379636BDDB00222A599ADAF2A4D74E3/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3157374596-0379636BDDB00222A599ADAF2A4D74E3/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2796056680-27E4AC7B4638BFDB53A0F198B84351BE/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:58 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:58 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:58 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2991467973-4E994F1332634EBDD46B4A939FD704E3/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -95928939 from 2560359315@[ç¾¤:937760225] "ä¸æ¸…æ¥š"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.utils >> OneBot V11 | Calling API get_msg
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 340155577 from 963046537@[ç¾¤:937760225] "xswl"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1665231919 from 963046537@[ç¾¤:937760225] "[CQ:image,file=acaa7956c4321ea46433772c57a98347.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2398579527-ACAA7956C4321EA46433772C57A98347/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.utils >> OneBot V11 | Calling API get_msg
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2064039640 from 963046537@[ç¾¤:937760225] "æ±‚åŠ©ä¸€ä¸‹"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -465647411 from 1617678696@[ç¾¤:937760225] "å•Šè¿™"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1824917413 from 1617678696@[ç¾¤:937760225] "é‚£æ²¡äº‹äº†"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 170961377 from 963046537@[ç¾¤:937760225] "å¦‚ä½•å’Œå¥³æœ‹å‹èŠå¤©"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [notice.group_recall]: {'time': 1647052493, 'self_id': 507346814, 'post_type': 'notice', 'notice_type': 'group_recall', 'user_id': 963046537, 'group_id': 937760225, 'operator_id': 963046537, 'message_id': 170961377}
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 2100795767 from 2560359315@[ç¾¤:937760225] "åŠ å¥½å‹ä¹‹åŽçš„ä¸€ä¸ªä¸ä¼š"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -481096492 from 963046537@[ç¾¤:937760225] "å¦‚ä½•å’Œé—ºèœœèŠå¤©"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1806418878 from 963046537@[ç¾¤:937760225] "[CQ:image,file=f05b0d3daad3da9df77ad015476f19d6.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2380302095-F05B0D3DAAD3DA9DF77AD015476F19D6/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 224226808 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=8595f73f4b4db8b7f0bb083f0d751db4.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2804430082-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 2052742510 from 1617678696@[ç¾¤:937760225] "[CQ:image,file=5e7b8360773b5e1dde36b4fc1466fb03.image,url=https://gchat.qpic.cn/gchatpic_new/1617678696/937760225-2691657647-5E7B8360773B5E1DDE36B4FC1466FB03/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -354074369 from 963046537@[ç¾¤:937760225] "ã€‚ã€‚ã€‚"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1646104471 from 963046537@[ç¾¤:937760225] "[CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2190839201-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1417716214 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=27e4ac7b4638bfdb53a0f198b84351be.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2284340588-27E4AC7B4638BFDB53A0F198B84351BE/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -596087140 from 963046537@[ç¾¤:937760225] "æ±‚åŠ©ä¸€ä¸‹"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1165049638 from 2560359315@[ç¾¤:937760225] "æ­£å¸¸èŠ"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -301311850 from 3531890582@[ç¾¤:962699166] "æ²¡"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1727174656 from 3531890582@[ç¾¤:962699166] "åœ¨å†™æ–°botï¼ˆç¬¬ä¸‰å‘ç¬‘æ­»"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 124386723 from 3531890582@[ç¾¤:962699166] "[CQ:at,qq=3479060093]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 846598064 from 963046537@[ç¾¤:937760225] "ã€‚"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1408067053 from 2560359315@[ç¾¤:937760225] "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡æœ‰æƒ³æ³•ï¼Œæ­£å¸¸èŠ"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -619337083 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=2a91182255ae9e4e98878a87840f86a6.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3191104855-2A91182255AE9E4E98878A87840F86A6/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1109195583 from 963046537@[ç¾¤:937760225] "[CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3163171316-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 891014057 from 963046537@[ç¾¤:937760225] "æè¿™æè¿™å‘¢"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1515923912 from 963046537@[ç¾¤:937760225] "[CQ:image,file=58310610291a8796bd3c672435bb3b06.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2370656985-58310610291A8796BD3C672435BB3B06/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -761010514 from 1617678696@[ç¾¤:937760225] "æˆ‘è§‰å¾—ä¸èƒ½ä¸»åŠ¨åŽ»é—®"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1886309685 from 2560359315@[ç¾¤:962699166] "[CQ:image,file=f747280c8a030eda8b8eb6942bf4759a.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/962699166-2835169818-F747280C8A030EDA8B8EB6942BF4759A/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1302040757 from 963046537@[ç¾¤:937760225] "çœŸå°±"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3173209188-A640C811CB7D5664E7A8DC4C2E6B3349/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/1337831451/204222191-2767661233-C8FF50C6C7864219C87FD9E1BC0C1C73/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3133488814-1350664AE9C0333A54D835A7ACC1C464/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.utils >> OneBot V11 | Calling API get_msg
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -983343139 from 1617678696@[ç¾¤:937760225] "åæ­£æˆ‘ä¸»åŠ¨åŽ»é—®ä¼šå†·åœº"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.utils >> OneBot V11 | Calling API get_msg
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 728579825 from 963046537@[ç¾¤:937760225] "ã€‚ã€‚ã€‚"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1257657518 from 1617678696@[ç¾¤:937760225] "å°±å¾ˆå°¬"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1039230012 from 2560359315@[ç¾¤:937760225] "ðŸ¤”"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.utils >> OneBot V11 | Calling API get_msg
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 738261736 from 2560359315@[ç¾¤:937760225] "ç¡®å®ž"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1128274055 from 963046537@[ç¾¤:937760225] "æœ‰æ•…äº‹"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -877078545 from 963046537@[ç¾¤:937760225] "è¯¶"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1723253624 from 1617678696@[ç¾¤:937760225] "ä¸æ˜¯"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -296874978 from 2560359315@[ç¾¤:937760225] "è¿™ä¸å¾ˆæ­£å¸¸"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 2001165732 from 2560359315@[ç¾¤:937760225] "ç”·äººå˜›"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 4222258 from 1617678696@[ç¾¤:937760225] "ç¡®å®ž"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1641744239 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=907817ad6a524200601145e70dbd3599.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2553104269-907817AD6A524200601145E70DBD3599/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -383531001 from 1617678696@[ç¾¤:937760225] "ï¼Ÿ"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1881840061 from 963046537@[ç¾¤:937760225] "å•§"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 120432939 from 963046537@[ç¾¤:937760225] "æ²¡æƒ³åˆ°å•Š"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1751993158 from 963046537@[ç¾¤:937760225] "ä½ ä»¬å±…ç„¶æ˜¯è¿™ç§äºº"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -527072212 from 2560359315@[ç¾¤:937760225] "ï¼Ÿ"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2142106167 from 1617678696@[ç¾¤:937760225] "ä½ è¯´æ˜¯"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -145408673 from 1617678696@[ç¾¤:937760225] "é‚£å°±æ˜¯å§"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1851550949 from 2560359315@[ç¾¤:937760225] "æˆ‘åªæ˜¯ç»™ä½ æä¾›ç‚¹ç»éªŒï¼Œæ€Žä¹ˆäº†"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 425417843 from 1617678696@[ç¾¤:937760225] "[CQ:image,file=d43f83914e823871b619808d7d13e9de.image,url=https://gchat.qpic.cn/gchatpic_new/1617678696/937760225-2648389393-D43F83914E823871B619808D7D13E9DE/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2025862704 from 2560359315@[ç¾¤:937760225] "ä½ è¯´æ˜¯"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1637831655 from 3531890582@[ç¾¤:962699166] "[CQ:image,file=1ad2a1c474fa3399239b3c5020cd23b4.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2197073066-1AD2A1C474FA3399239B3C5020CD23B4/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -264701626 from 2560359315@[ç¾¤:937760225] "é‚£å°±æ˜¯å§"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1764862204 from 2560359315@[ç¾¤:937760225] "[CQ:image,file=8e0ea6c6a8da64697723209f7c8e3037.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2586860279-8E0EA6C6A8DA64697723209F7C8E3037/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 255607719 from 1183338091@[ç¾¤:2222191] "https://blog.csdn.net/qq_42642142/article/details/112474678"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 506894442 from 963046537@[ç¾¤:937760225] "[CQ:image,file=0f502745f1b026f1ba40b6588a1e58d4.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3205504141-0F502745F1B026F1BA40B6588A1E58D4/0?term=3,subType=7]"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1774906851 from 1183338091@[ç¾¤:2222191] "https://www.dazhuanlan.com/cquake/topics/1372771"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -516808053 from 1981925360@[ç¾¤:2222191] "è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2398579527-ACAA7956C4321EA46433772C57A98347/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2380302095-F05B0D3DAAD3DA9DF77AD015476F19D6/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2804430082-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:20:59 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:20:59 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:20:59 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/1617678696/937760225-2691657647-5E7B8360773B5E1DDE36B4FC1466FB03/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2190839201-4E994F1332634EBDD46B4A939FD704E3/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2284340588-27E4AC7B4638BFDB53A0F198B84351BE/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3191104855-2A91182255AE9E4E98878A87840F86A6/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3163171316-4E994F1332634EBDD46B4A939FD704E3/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2370656985-58310610291A8796BD3C672435BB3B06/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/962699166-2835169818-F747280C8A030EDA8B8EB6942BF4759A/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function handle at 0x7fd925e66040>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=Event, required=True), ModelField(name='matcher', type=Matcher, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1905082138 from 1183338091@[ç¾¤:2222191] "è£…OpenCVæ•™ç¨‹å•Š"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 109711244 from 1981925360@[ç¾¤:2222191] "[CQ:image,file=32812c784aedf2a71c4741749d0ba769.image,url=https://gchat.qpic.cn/gchatpic_new/1981925360/204222191-3099593500-32812C784AEDF2A71C4741749D0BA769/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1716356713 from 1981925360@[ç¾¤:2222191] "è¿›ä¸åŽ»"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 290109183 from 1183338091@[ç¾¤:2222191] "è¿›ç¬¬ä¸€ä¸ª"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2008815803 from 1183338091@[ç¾¤:2222191] "csdnçš„"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 249541000 from 3479060093@[ç¾¤:962699166] "[CQ:image,file=62c3aa99f9ee6b80b8499ce25fd3fa34.image,url=https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-3071721245-62C3AA99F9EE6B80B8499CE25FD3FA34/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 2044231966 from 3479060093@[ç¾¤:962699166] "åœ¨åŠªåŠ›èžå…¥å·çŽ‹çš„ä¸–ç•Œ"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -627391026 from 3531890582@[ç¾¤:962699166] "[CQ:image,file=6eb82bffc4316419b147bd4a47623bed.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2619038822-6EB82BFFC4316419B147BD4A47623BED/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1382156968 from 3531890582@[ç¾¤:962699166] "å®Œäº†ï¼Œåˆç–¯ä¸€ä¸ª"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 882156770 from 3479060093@[ç¾¤:962699166] "ä¸Šå‘¨ä¸€å †äººè½¬å­¦åˆ°è¥¿å®‰åŽ»äº†"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1133745268 from 3479060093@[ç¾¤:962699166] "ä¸ðŸ”’äº†"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -571014697 from 3479060093@[ç¾¤:962699166] "å¼€å·"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1620576652 from 1020936395@[ç¾¤:277620613] "å“¦å“¦å“¦"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1427099327 from 2577117205@[ç¾¤:962699166] "[CQ:image,file=9fdb6c1f2c2cff5014fed3afa0fbca8c.image,url=https://gchat.qpic.cn/gchatpic_new/2577117205/962699166-3155042442-9FDB6C1F2C2CFF5014FED3AFA0FBCA8C/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 871981307 from 3531890582@[ç¾¤:962699166] "[CQ:image,file=01040ff633438a6dac5651df05bff264.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2558476899-01040FF633438A6DAC5651DF05BFF264/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.utils >> OneBot V11 | Calling API get_msg
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -733917700 from 2560359315@[ç¾¤:962699166] "æˆ‘ä»¬è€ƒå‰å‡ ä¸ªæœˆå€’æ˜¯æœ‰å¾ˆå¤šäººé€€å­¦"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1555661462 from 2560359315@[ç¾¤:962699166] "ç›´æŽ¥å¾…å®¶é‡Œï¼Œä¸æ¥äº†"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1014893425 from 3531890582@[ç¾¤:962699166] "è‰è‰è‰"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1266236391 from 3531890582@[ç¾¤:962699166] "åˆä¸‰ï¼Œé€€å­¦å°±GGäº†"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 764384675 from 2560359315@[ç¾¤:962699166] "æ˜¯çš„"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1518904629 from 2560359315@[ç¾¤:962699166] "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -991154026 from 3531890582@[ç¾¤:962699166] "ï¼ˆï¼Ÿä¹‰åŠ¡æ•™è‚²è¿˜èƒ½æ”¾å¼ƒçš„ï¼Œè‰"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1276444672 from 2560359315@[ç¾¤:962699166] "è¿˜æœ‰äº›ç›´æŽ¥åŽ»æ‰¾èŒæ ¡æˆ–è€…ç§ç«‹å­¦æ ¡"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 719475130 from 2560359315@[ç¾¤:962699166] "æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šï¼ˆ"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1575313708 from 2560359315@[ç¾¤:962699166] "è¿˜æœ‰äº›å¥½åƒåŽ»é‚£ç§å…¨æ—¥åˆ¶çš„æœºæž„æ¶è¡¥äº†"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -849707843 from 2560359315@[ç¾¤:962699166] "[CQ:image,file=8595f73f4b4db8b7f0bb083f0d751db4.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/962699166-3219757331-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1168290773 from 3531890582@[ç¾¤:962699166] "[CQ:image,file=2664c8ad2bd4f408f3bfa0749ca9c631.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2378517162-2664C8AD2BD4F408F3BFA0749CA9C631/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -391338164 from 3531890582@[ç¾¤:962699166] "è¡¥ä¸ªé¬¼...å­¦æ ¡æ•™æˆ‘å¥½å¤šäº†..."
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1616144422 from 3479060093@[ç¾¤:962699166] "åœ°åŒºå·®å¼‚æ€§"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 111330912 from 3479060093@[ç¾¤:962699166] "æˆ‘åœ¨æ²³å—"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:00 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1906702070 from 3479060093@[ç¾¤:962699166] "é™•è¥¿è¥¿å®‰çš„é«˜è€ƒå¦‚æžœæ˜¯ç®€å•éš¾åº¦çš„è¯ æ²³å—å°±æ˜¯åœ°ç‹±çº§éš¾åº¦"
[36mATRI[0m | 03-12 11:21:00 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2553104269-907817AD6A524200601145E70DBD3599/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/1617678696/937760225-2648389393-D43F83914E823871B619808D7D13E9DE/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2197073066-1AD2A1C474FA3399239B3C5020CD23B4/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2586860279-8E0EA6C6A8DA64697723209F7C8E3037/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3205504141-0F502745F1B026F1BA40B6588A1E58D4/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -272538795 from 3479060093@[ç¾¤:962699166] "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•è¥¿å°±å¯ä»¥ä¸Š211äº†"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1731832893 from 3479060093@[ç¾¤:962699166] "[CQ:image,file=62c3aa99f9ee6b80b8499ce25fd3fa34.image,url=https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-2399661590-62C3AA99F9EE6B80B8499CE25FD3FA34/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 30343801 from 3531890582@[ç¾¤:962699166] "..."
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1992831727 from 1429954079@[ç¾¤:962699166] "éª‚éª‚å’§å’§ å±±ä¸œæœ‰å¯èƒ½çœ‹åˆ°500+è¿˜æ˜¯ä¸Šå¤§ä¸“çš„å±€é¢[CQ:face,id=264]"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -428396674 from 3531890582@[ç¾¤:962699166] "[CQ:image,file=7b1319e7b40d787a7d6d17f3c3d980b7.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2485294569-7B1319E7B40D787A7D6D17F3C3D980B7/0?term=3,subType=0]æˆ‘å¹¿ä¸œGGï¼ŒåŽ‹æ ¹æ²¡å‡ ä¸ªå¤§å­¦"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1854922776 from 3531890582@[ç¾¤:962699166] "ï¼ˆå¥½çš„"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -239626739 from 3479060093@[ç¾¤:962699166] "ã€Šæ²¡å‡ ä¸ªå¤§å­¦ã€‹"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2035243365 from 3479060093@[ç¾¤:962699166] "ç»™ä½ è®²ä¸ªç¬‘è¯"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 532281121 from 3479060093@[ç¾¤:962699166] "éƒ‘å·žå¤§å­¦"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1757333431 from 3531890582@[ç¾¤:962699166] "...ï¼Ÿ"
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/1981925360/204222191-3099593500-32812C784AEDF2A71C4741749D0BA769/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-3071721245-62C3AA99F9EE6B80B8499CE25FD3FA34/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2619038822-6EB82BFFC4316419B147BD4A47623BED/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2577117205/962699166-3155042442-9FDB6C1F2C2CFF5014FED3AFA0FBCA8C/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2558476899-01040FF633438A6DAC5651DF05BFF264/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/2560359315/962699166-3219757331-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2378517162-2664C8AD2BD4F408F3BFA0749CA9C631/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:01 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:01 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-2399661590-62C3AA99F9EE6B80B8499CE25FD3FA34/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2485294569-7B1319E7B40D787A7D6D17F3C3D980B7/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -201428546 from 2560359315@[ç¾¤:937760225] "è²Œä¼¼æ˜¯ä¸´æ—¶ä¼šè¯ä¼šæ£€æµ‹"
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:02 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1924199165 from 2560359315@[ç¾¤:937760225] "è¿™ä¸ªæˆ‘æ˜¨æ™šå°±åœ¨ç­–åˆ’äº†ï¼ˆ"
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:02 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1527237246 from 963046537@[ç¾¤:937760225] "[CQ:at,qq=1617678696] æœ‰æ•…äº‹"
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:02 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -379085681 from 2560359315@[ç¾¤:962699166] "å…·ä½“è¯´è¯´ï¼Ÿ"
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:02 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1550454375 from 963046537@[ç¾¤:937760225] "[CQ:at,qq=1617678696] çœ‹æƒ…å†µçš„"
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:02 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1157517421 from 2560359315@[ç¾¤:962699166] "è½¬å­¦ï¼Ÿï¼Ÿ"
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.LifecycleMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.LifecycleMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:02 | DEBUG src.plugins.nonebot_plugin_repeater >> åˆå‡ºé—®é¢˜äº†[CQ:face,id=5]
[36mATRI[0m | 03-12 11:21:02 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:02 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:02 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:02 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.GroupIncreaseNoticeEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.GroupIncreaseNoticeEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿™æ€Žä¹ˆå›žäº‹å‘€[CQ:face,id=32]
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä»£ç 
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> è¦çœ‹math.hé‡Œæœ‰æ²¡æœ‰è¿™å‡½æ•°
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >>  å¥¹å‹¾å¼•æˆ‘æ€Žä¹ˆåŠž
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:forward,id=WXbjQYsR0zNNqgr8BDS8M0b5ueDhOtW4zh8vnXprzIoy3Vj7SjknU7G7si42GlHK]
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:forward
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å®Œäº†å®Œäº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å®Œäº†å®¶äººä»¬
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å®Œè›‹äº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¥¹åˆè¯•æŽ¢æˆ‘
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å®Œäº†å®Œäº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å•Šå¯¹å¯¹å¯¹
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¯¹å¯¹å¯¹
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æœ‰ç‚¹çŒä¸åŠé˜²äº†å®¶äººä»¬
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ã€‚
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸èƒ½å‘å‡ºæ¥
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸ç„¶çœŸæˆäº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å®Œäº†å®Œäº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¥¹ç›´æŽ¥å¼€å¤§äº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> åˆ«é‚£ä¹ˆæ•æ„Ÿ
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> äººå®¶åªæ˜¯æ­£å¸¸èŠå¤©
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä½ å°±ä¹±æƒ³
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä½ å’‹é‚£ä¹ˆè‡ªä¿¡ï¼ˆ
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.GroupRecallNoticeEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.GroupRecallNoticeEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æœ‰å¤§ä½¬ä»¬éœ€è¦å—
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> è£…opencvçš„æ—¶å€™cmakeä¸€ç›´æŠ¥é”™æ€Žä¹ˆåŠž
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¤§ä½¬æŽ¨èä¸ªæ•™ç¨‹å§
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æˆ‘ä¸€ç›´æžä¸æ‡‚æ€Žä¹ˆç¼–è¯‘
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> !æ—©
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å•Š
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> åæŽ‰äº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ã€‚
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> èµ·è¿™ä¹ˆæ™š
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >>  ã€‚ã€‚
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸æ˜¯
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ—©ä¸Šå¿˜è®°äº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ç ´è§£é£ŽæŽ§ï¼ˆåˆ’æŽ‰
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ”¶è´­è…¾è®¯ï¼ˆé’©
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä½†äº‹ä»¶å¤„ç†æ²¡å¼€
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ€Žä¹ˆå¥½ä¹…ä¸è§è‹¦åŠ›è›‡äº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸­è€ƒåŽ»äº†ï¼Ÿ
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä½†äº‹ä»¶å¤„ç†æ²¡å¼€
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å°è¯•ç ´è§£çŽ„å­¦çš„é£ŽæŽ§
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> åº”è¯¥æ˜¯ç§èŠçš„æ—¶å€™è¢«æ£€æµ‹åˆ°äº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> xswl
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ±‚åŠ©ä¸€ä¸‹
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å•Šè¿™
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> é‚£æ²¡äº‹äº†
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¦‚ä½•å’Œå¥³æœ‹å‹èŠå¤©
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¦‚ä½•å’Œé—ºèœœèŠå¤©
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ã€‚ã€‚ã€‚
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ±‚åŠ©ä¸€ä¸‹
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ²¡
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> åœ¨å†™æ–°botï¼ˆç¬¬ä¸‰å‘ç¬‘æ­»
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:at,qq=3479060093]
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:at
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ã€‚
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æè¿™æè¿™å‘¢
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æˆ‘è§‰å¾—ä¸èƒ½ä¸»åŠ¨åŽ»é—®
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> çœŸå°±
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸æ¸…æ¥š
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> åŠ å¥½å‹ä¹‹åŽçš„ä¸€ä¸ªä¸ä¼š
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ­£å¸¸èŠ
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡æœ‰æƒ³æ³•ï¼Œæ­£å¸¸èŠ
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> åæ­£æˆ‘ä¸»åŠ¨åŽ»é—®ä¼šå†·åœº
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ã€‚ã€‚ã€‚
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å°±å¾ˆå°¬
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æœ‰æ•…äº‹
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> è¯¶
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸æ˜¯
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ç¡®å®ž
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ï¼Ÿ
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> å•§
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> æ²¡æƒ³åˆ°å•Š
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:03 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> ä½ ä»¬å±…ç„¶æ˜¯è¿™ç§äºº
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:03 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:03 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ä½ è¯´æ˜¯
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> é‚£å°±æ˜¯å§
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> https://blog.csdn.net/qq_42642142/article/details/112474678
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> https://www.dazhuanlan.com/cquake/topics/1372771
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿™æ˜¯ä»€ä¹ˆï¼Ÿ
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ðŸ¤”
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ç¡®å®ž
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿™ä¸å¾ˆæ­£å¸¸
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ç”·äººå˜›
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ï¼Ÿ
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> æˆ‘åªæ˜¯ç»™ä½ æä¾›ç‚¹ç»éªŒï¼Œæ€Žä¹ˆäº†
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ä½ è¯´æ˜¯
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> é‚£å°±æ˜¯å§
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è£…OpenCVæ•™ç¨‹å•Š
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿›ä¸åŽ»
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿›ç¬¬ä¸€ä¸ª
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> csdnçš„
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> åœ¨åŠªåŠ›èžå…¥å·çŽ‹çš„ä¸–ç•Œ
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> å®Œäº†ï¼Œåˆç–¯ä¸€ä¸ª
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸Šå‘¨ä¸€å †äººè½¬å­¦åˆ°è¥¿å®‰åŽ»äº†
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ä¸ðŸ”’äº†
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> å¼€å·
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> å“¦å“¦å“¦
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è‰è‰è‰
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> åˆä¸‰ï¼Œé€€å­¦å°±GGäº†
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ï¼ˆï¼Ÿä¹‰åŠ¡æ•™è‚²è¿˜èƒ½æ”¾å¼ƒçš„ï¼Œè‰
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è¡¥ä¸ªé¬¼...å­¦æ ¡æ•™æˆ‘å¥½å¤šäº†...
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> åœ°åŒºå·®å¼‚æ€§
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> æˆ‘åœ¨æ²³å—
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> é™•è¥¿è¥¿å®‰çš„é«˜è€ƒå¦‚æžœæ˜¯ç®€å•éš¾åº¦çš„è¯ æ²³å—å°±æ˜¯åœ°ç‹±çº§éš¾åº¦
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> æˆ‘ä»¬è€ƒå‰å‡ ä¸ªæœˆå€’æ˜¯æœ‰å¾ˆå¤šäººé€€å­¦
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> ç›´æŽ¥å¾…å®¶é‡Œï¼Œä¸æ¥äº†
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> æ˜¯çš„
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿˜æœ‰äº›ç›´æŽ¥åŽ»æ‰¾èŒæ ¡æˆ–è€…ç§ç«‹å­¦æ ¡
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šï¼ˆ
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿˜æœ‰äº›å¥½åƒåŽ»é‚£ç§å…¨æ—¥åˆ¶çš„æœºæž„æ¶è¡¥äº†
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:04 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:04 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:04 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function good_morning at 0x7fd925e66ee0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.utils >> OneBot V11 | Calling API get_group_member_info
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•è¥¿å°±å¯ä»¥ä¸Š211äº†
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> ...
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> éª‚éª‚å’§å’§ å±±ä¸œæœ‰å¯èƒ½çœ‹åˆ°500+è¿˜æ˜¯ä¸Šå¤§ä¸“çš„å±€é¢[CQ:face,id=264]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> ï¼ˆå¥½çš„
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> ã€Šæ²¡å‡ ä¸ªå¤§å­¦ã€‹
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> ç»™ä½ è®²ä¸ªç¬‘è¯
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> éƒ‘å·žå¤§å­¦
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> ...ï¼Ÿ
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:at,qq=1617678696] æœ‰æ•…äº‹
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:at
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:at,qq=1617678696] çœ‹æƒ…å†µçš„
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:at
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> è²Œä¼¼æ˜¯ä¸´æ—¶ä¼šè¯ä¼šæ£€æµ‹
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> è¿™ä¸ªæˆ‘æ˜¨æ™šå°±åœ¨ç­–åˆ’äº†ï¼ˆ
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> å…·ä½“è¯´è¯´ï¼Ÿ
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> è½¬å­¦ï¼Ÿï¼Ÿ
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=27e4ac7b4638bfdb53a0f198b84351be.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2796056680-27E4AC7B4638BFDB53A0F198B84351BE/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=0379636bddb00222a599adaf2a4d74e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2377617958-0379636BDDB00222A599ADAF2A4D74E3/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=0379636bddb00222a599adaf2a4d74e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3157374596-0379636BDDB00222A599ADAF2A4D74E3/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3157374596-0379636BDDB00222A599ADAF2A4D74E3/0?term=3,cache=true,proxy=true]
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2991467973-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2679133325-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2679133325-4E994F1332634EBDD46B4A939FD704E3/0?term=3,cache=true,proxy=true]
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=a640c811cb7d5664e7a8dc4c2e6b3349.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3173209188-A640C811CB7D5664E7A8DC4C2E6B3349/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=1350664ae9c0333a54d835a7acc1c464.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3133488814-1350664AE9C0333A54D835A7ACC1C464/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:05 | ERROR nonebot >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 153, in _check_matcher
    await _run_matcher(Matcher, bot, event, state, stack, dependency_cache)
          â”‚            â”‚        â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3099' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚            â”‚        â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8d3f340>
          â”‚            â”‚        â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚            â”‚        â”‚    â”” GroupMessageEvent(time=1647048014, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
          â”‚            â”‚        â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚            â”” <Matcher from è€å©†, type=message, priority=1, temp=False>
          â”” <function _run_matcher at 0x7fd9468e3700>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 202, in _run_matcher
    await matcher.run(bot, event, state, stack, dependency_cache)
          â”‚       â”‚   â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3099' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚       â”‚   â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8d3f340>
          â”‚       â”‚   â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚       â”‚   â”‚    â”” GroupMessageEvent(time=1647048014, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
          â”‚       â”‚   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚       â”” <function Matcher.run at 0x7fd948ae3c10>
          â”” <Matcher from è€å©†, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 668, in run
    await self.simple_run(bot, event, state, stack, dependency_cache)
          â”‚    â”‚          â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3099' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚    â”‚          â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8d3f340>
          â”‚    â”‚          â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚    â”‚          â”‚    â”” GroupMessageEvent(time=1647048014, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
          â”‚    â”‚          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚    â”” <function Matcher.simple_run at 0x7fd948ae3b80>
          â”” <Matcher from è€å©†, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 635, in simple_run
    await handler(
          â”” <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048014, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function _tietie_superuser at 0x7fd932f63790>
                 â”” <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=...

  File "./src/plugins/wife/__init__.py", line 34, in _tietie_superuser
    await tietie_superuser.finish(Message(result))
          â”‚                â”‚      â”‚       â”” [MessageSegment(type='at', data={'qq': '2560359315'}), MessageSegment(type='image', data={'file': 'https://cdn.jsdelivr.net/g...
          â”‚                â”‚      â”” <class 'nonebot.adapters.onebot.v11.message.Message'>
          â”‚                â”” <classmethod object at 0x7fd948adec40>
          â”” <Matcher from è€å©†, type=message, priority=1, temp=False>

  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 464, in finish
    await cls.send(message, **kwargs)
          â”‚   â”‚    â”‚          â”” {}
          â”‚   â”‚    â”” [MessageSegment(type='at', data={'qq': '2560359315'}), MessageSegment(type='image', data={'file': 'https://cdn.jsdelivr.net/g...
          â”‚   â”” <classmethod object at 0x7fd948adebe0>
          â”” <Matcher from è€å©†, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 449, in send
    return await bot.send(event=event, message=_message, **kwargs)
                 â”‚   â”‚          â”‚              â”‚           â”” {}
                 â”‚   â”‚          â”‚              â”” [MessageSegment(type='at', data={'qq': '2560359315'}), MessageSegment(type='image', data={'file': 'https://cdn.jsdelivr.net/g...
                 â”‚   â”‚          â”” GroupMessageEvent(time=1647048014, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
                 â”‚   â”” <function Bot.send at 0x7fd9468e3c10>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 247, in send
    return await self.__class__.send_handler(self, event, message, **kwargs)
                 â”‚    â”‚                      â”‚     â”‚      â”‚          â”” {}
                 â”‚    â”‚                      â”‚     â”‚      â”” [MessageSegment(type='at', data={'qq': '2560359315'}), MessageSegment(type='image', data={'file': 'https://cdn.jsdelivr.net/g...
                 â”‚    â”‚                      â”‚     â”” GroupMessageEvent(time=1647048014, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
                 â”‚    â”‚                      â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                 â”‚    â”” <attribute '__class__' of 'object' objects>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 175, in send
    return await bot.send_msg(**params)
                 â”‚              â”” {'user_id': 2560359315, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='at', data={'qq': '25...
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 208, in call_api
    return await super().call_api(api, **data)
                                  â”‚      â”” {'user_id': 2560359315, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='at', data={'qq': '25...
                                  â”” 'send_msg'
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 117, in call_api
    raise exception
          â”” <ActionFailed data=None, echo={'seq': 1}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 94, in call_api
    result = await self.adapter._call_api(self, api, **data)
                   â”‚    â”‚       â”‚         â”‚     â”‚      â”” {'user_id': 2560359315, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='at', data={'qq': '25...
                   â”‚    â”‚       â”‚         â”‚     â”” 'send_msg'
                   â”‚    â”‚       â”‚         â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                   â”‚    â”‚       â”” <function Adapter._call_api at 0x7fd9468f1040>
                   â”‚    â”” <nonebot.adapters.onebot.v11.adapter.Adapter object at 0x7fd9469d3a30>
                   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/adapter.py", line 107, in _call_api
    return _handle_api_result(
           â”” <function _handle_api_result at 0x7fd946977670>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/utils.py", line 81, in _handle_api_result
    raise ActionFailed(**result)
          â”‚              â”” {'data': None, 'echo': {'seq': 1}, 'msg': 'SEND_MSG_API_ERROR', 'retcode': 100, 'status': 'failed', 'wording': 'è¯·å‚è€ƒ go-cqhttp...
          â”” <class 'nonebot.adapters.onebot.v11.exception.ActionFailed'>

nonebot.adapters.onebot.v11.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 1}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:05 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=c8ff50c6c7864219c87fd9e1bc0c1c73.image,url=https://gchat.qpic.cn/gchatpic_new/1337831451/204222191-2767661233-C8FF50C6C7864219C87FD9E1BC0C1C73/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:05 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:05 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:06 | DEBUG ATRI.exceptions >> A bug has been cumming!!! Track ID: 2z79k3BX
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_private_msg
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:06 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=5ef49d8b0147fc213092b84f174ad98a.image,url=https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2927092429-5EF49D8B0147FC213092B84F174AD98A/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:06 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:06 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:06 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:06 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=5fc16bf8fc0909caa7fe305e1d98d046.image,url=https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2168538649-5FC16BF8FC0909CAA7FE305E1D98D046/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:06 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:06 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:06 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:06 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | ERROR nonebot >> Running matcher <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 153, in _check_matcher
    await _run_matcher(Matcher, bot, event, state, stack, dependency_cache)
          â”‚            â”‚        â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-6165' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚            â”‚        â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d89ee790>
          â”‚            â”‚        â”‚    â”‚      â”” {'_prefix': {'command': ('feiyucan',), 'raw_command': '/feiyucan', 'command_arg': [MessageSegment(type='text', data={'text': ...
          â”‚            â”‚        â”‚    â”” GroupMessageEvent(time=1647052130, self_id=507346814, post_type='message', sub_type='normal', user_id=1020936395, message_typ...
          â”‚            â”‚        â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚            â”” <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False>
          â”” <function _run_matcher at 0x7fd9468e3700>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 202, in _run_matcher
    await matcher.run(bot, event, state, stack, dependency_cache)
          â”‚       â”‚   â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-6165' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚       â”‚   â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d89ee790>
          â”‚       â”‚   â”‚    â”‚      â”” {'_prefix': {'command': ('feiyucan',), 'raw_command': '/feiyucan', 'command_arg': [MessageSegment(type='text', data={'text': ...
          â”‚       â”‚   â”‚    â”” GroupMessageEvent(time=1647052130, self_id=507346814, post_type='message', sub_type='normal', user_id=1020936395, message_typ...
          â”‚       â”‚   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚       â”” <function Matcher.run at 0x7fd948ae3c10>
          â”” <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 668, in run
    await self.simple_run(bot, event, state, stack, dependency_cache)
          â”‚    â”‚          â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-6165' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚    â”‚          â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d89ee790>
          â”‚    â”‚          â”‚    â”‚      â”” {'_prefix': {'command': ('feiyucan',), 'raw_command': '/feiyucan', 'command_arg': [MessageSegment(type='text', data={'text': ...
          â”‚    â”‚          â”‚    â”” GroupMessageEvent(time=1647052130, self_id=507346814, post_type='message', sub_type='normal', user_id=1020936395, message_typ...
          â”‚    â”‚          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚    â”” <function Matcher.simple_run at 0x7fd948ae3b80>
          â”” <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 635, in simple_run
    await handler(
          â”” <Dependent call=<function handle at 0x7fd925e66040>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'bot': <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>, 'event': GroupMessageEvent(time=1647052130, self_id=5...
                 â”‚    â”” <function handle at 0x7fd925e66040>
                 â”” <Dependent call=<function handle at 0x7fd925e66040>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name...

  File "./src/plugins/trigger_memes_from_feiyucans_space.py", line 48, in handle
    await feiyucan.finish(message=Message(pic_ti))
          â”‚        â”‚              â”‚       â”” '#é²±é±¼ æ˜¨æ—¥æœ€ä½³#\n2022-03-11 15:07:56\nfrom bilibili:é²±é±¼ç½å¤´app\n[CQ:image,file=https://i0.hdslb.com/bfs/album/02053f225cf50351d01af7b...
          â”‚        â”‚              â”” <class 'nonebot.adapters.onebot.v11.message.Message'>
          â”‚        â”” <classmethod object at 0x7fd948adec40>
          â”” <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False>

  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 464, in finish
    await cls.send(message, **kwargs)
          â”‚   â”‚    â”‚          â”” {}
          â”‚   â”‚    â”” [MessageSegment(type='text', data={'text': '#é²±é±¼ æ˜¨æ—¥æœ€ä½³#\n2022-03-11 15:07:56\nfrom bilibili:é²±é±¼ç½å¤´app\n'}), MessageSegment(type='...
          â”‚   â”” <classmethod object at 0x7fd948adebe0>
          â”” <Matcher from src.plugins.trigger_memes_from_feiyucans_space, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 449, in send
    return await bot.send(event=event, message=_message, **kwargs)
                 â”‚   â”‚          â”‚              â”‚           â”” {}
                 â”‚   â”‚          â”‚              â”” [MessageSegment(type='text', data={'text': '#é²±é±¼ æ˜¨æ—¥æœ€ä½³#\n2022-03-11 15:07:56\nfrom bilibili:é²±é±¼ç½å¤´app\n'}), MessageSegment(type='...
                 â”‚   â”‚          â”” GroupMessageEvent(time=1647052130, self_id=507346814, post_type='message', sub_type='normal', user_id=1020936395, message_typ...
                 â”‚   â”” <function Bot.send at 0x7fd9468e3c10>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 247, in send
    return await self.__class__.send_handler(self, event, message, **kwargs)
                 â”‚    â”‚                      â”‚     â”‚      â”‚          â”” {}
                 â”‚    â”‚                      â”‚     â”‚      â”” [MessageSegment(type='text', data={'text': '#é²±é±¼ æ˜¨æ—¥æœ€ä½³#\n2022-03-11 15:07:56\nfrom bilibili:é²±é±¼ç½å¤´app\n'}), MessageSegment(type='...
                 â”‚    â”‚                      â”‚     â”” GroupMessageEvent(time=1647052130, self_id=507346814, post_type='message', sub_type='normal', user_id=1020936395, message_typ...
                 â”‚    â”‚                      â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                 â”‚    â”” <attribute '__class__' of 'object' objects>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 175, in send
    return await bot.send_msg(**params)
                 â”‚              â”” {'user_id': 1020936395, 'group_id': 277620613, 'message_type': 'group', 'message': [MessageSegment(type='text', data={'text':...
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 208, in call_api
    return await super().call_api(api, **data)
                                  â”‚      â”” {'user_id': 1020936395, 'group_id': 277620613, 'message_type': 'group', 'message': [MessageSegment(type='text', data={'text':...
                                  â”” 'send_msg'
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 117, in call_api
    raise exception
          â”” <ActionFailed data=None, echo={'seq': 7}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 94, in call_api
    result = await self.adapter._call_api(self, api, **data)
                   â”‚    â”‚       â”‚         â”‚     â”‚      â”” {'user_id': 1020936395, 'group_id': 277620613, 'message_type': 'group', 'message': [MessageSegment(type='text', data={'text':...
                   â”‚    â”‚       â”‚         â”‚     â”” 'send_msg'
                   â”‚    â”‚       â”‚         â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                   â”‚    â”‚       â”” <function Adapter._call_api at 0x7fd9468f1040>
                   â”‚    â”” <nonebot.adapters.onebot.v11.adapter.Adapter object at 0x7fd9469d3a30>
                   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/adapter.py", line 107, in _call_api
    return _handle_api_result(
           â”” <function _handle_api_result at 0x7fd946977670>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/utils.py", line 81, in _handle_api_result
    raise ActionFailed(**result)
          â”‚              â”” {'data': None, 'echo': {'seq': 7}, 'msg': 'SEND_MSG_API_ERROR', 'retcode': 100, 'status': 'failed', 'wording': 'è¯·å‚è€ƒ go-cqhttp...
          â”” <class 'nonebot.adapters.onebot.v11.exception.ActionFailed'>

nonebot.adapters.onebot.v11.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 7}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG ATRI.exceptions >> A bug has been cumming!!! Track ID: q59azBQ3
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_private_msg
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=acaa7956c4321ea46433772c57a98347.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2398579527-ACAA7956C4321EA46433772C57A98347/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=f05b0d3daad3da9df77ad015476f19d6.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2380302095-F05B0D3DAAD3DA9DF77AD015476F19D6/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=8595f73f4b4db8b7f0bb083f0d751db4.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2804430082-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=5e7b8360773b5e1dde36b4fc1466fb03.image,url=https://gchat.qpic.cn/gchatpic_new/1617678696/937760225-2691657647-5E7B8360773B5E1DDE36B4FC1466FB03/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2190839201-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=27e4ac7b4638bfdb53a0f198b84351be.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2284340588-27E4AC7B4638BFDB53A0F198B84351BE/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=2a91182255ae9e4e98878a87840f86a6.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3191104855-2A91182255AE9E4E98878A87840F86A6/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=4e994f1332634ebdd46b4a939fd704e3.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3163171316-4E994F1332634EBDD46B4A939FD704E3/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=58310610291a8796bd3c672435bb3b06.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2370656985-58310610291A8796BD3C672435BB3B06/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=f747280c8a030eda8b8eb6942bf4759a.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/962699166-2835169818-F747280C8A030EDA8B8EB6942BF4759A/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:07 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:07 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=907817ad6a524200601145e70dbd3599.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2553104269-907817AD6A524200601145E70DBD3599/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=d43f83914e823871b619808d7d13e9de.image,url=https://gchat.qpic.cn/gchatpic_new/1617678696/937760225-2648389393-D43F83914E823871B619808D7D13E9DE/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=1ad2a1c474fa3399239b3c5020cd23b4.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2197073066-1AD2A1C474FA3399239B3C5020CD23B4/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=8e0ea6c6a8da64697723209f7c8e3037.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2586860279-8E0EA6C6A8DA64697723209F7C8E3037/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=0f502745f1b026f1ba40b6588a1e58d4.image,url=https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3205504141-0F502745F1B026F1BA40B6588A1E58D4/0?term=3,subType=7]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=32812c784aedf2a71c4741749d0ba769.image,url=https://gchat.qpic.cn/gchatpic_new/1981925360/204222191-3099593500-32812C784AEDF2A71C4741749D0BA769/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=62c3aa99f9ee6b80b8499ce25fd3fa34.image,url=https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-3071721245-62C3AA99F9EE6B80B8499CE25FD3FA34/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=6eb82bffc4316419b147bd4a47623bed.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2619038822-6EB82BFFC4316419B147BD4A47623BED/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=9fdb6c1f2c2cff5014fed3afa0fbca8c.image,url=https://gchat.qpic.cn/gchatpic_new/2577117205/962699166-3155042442-9FDB6C1F2C2CFF5014FED3AFA0FBCA8C/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=01040ff633438a6dac5651df05bff264.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2558476899-01040FF633438A6DAC5651DF05BFF264/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=8595f73f4b4db8b7f0bb083f0d751db4.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/962699166-3219757331-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=2664c8ad2bd4f408f3bfa0749ca9c631.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2378517162-2664C8AD2BD4F408F3BFA0749CA9C631/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=62c3aa99f9ee6b80b8499ce25fd3fa34.image,url=https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-2399661590-62C3AA99F9EE6B80B8499CE25FD3FA34/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=7b1319e7b40d787a7d6d17f3c3d980b7.image,url=https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2485294569-7B1319E7B40D787A7D6D17F3C3D980B7/0?term=3,subType=0]æˆ‘å¹¿ä¸œGGï¼ŒåŽ‹æ ¹æ²¡å‡ ä¸ªå¤§å­¦
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:08 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:08 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:08 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:09 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:09 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=2a91182255ae9e4e98878a87840f86a6.image,url=https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2613229514-2A91182255AE9E4E98878A87840F86A6/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:21:09 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:09 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:09 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:09 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:10 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:10 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:10 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:10 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False> running complete
[36mATRI[0m | 03-12 11:21:10 | ERROR nonebot >> Running matcher <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False> failed.
Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 153, in _check_matcher
    await _run_matcher(Matcher, bot, event, state, stack, dependency_cache)
          â”‚            â”‚        â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-6183' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚            â”‚        â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8c0a880>
          â”‚            â”‚        â”‚    â”‚      â”” {'_prefix': {'command': ('æ—©',), 'raw_command': '!æ—©', 'command_arg': []}}
          â”‚            â”‚        â”‚    â”” GroupMessageEvent(time=1647052322, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, message_typ...
          â”‚            â”‚        â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚            â”” <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False>
          â”” <function _run_matcher at 0x7fd9468e3700>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 202, in _run_matcher
    await matcher.run(bot, event, state, stack, dependency_cache)
          â”‚       â”‚   â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-6183' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚       â”‚   â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8c0a880>
          â”‚       â”‚   â”‚    â”‚      â”” {'_prefix': {'command': ('æ—©',), 'raw_command': '!æ—©', 'command_arg': []}}
          â”‚       â”‚   â”‚    â”” GroupMessageEvent(time=1647052322, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, message_typ...
          â”‚       â”‚   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚       â”” <function Matcher.run at 0x7fd948ae3c10>
          â”” <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 668, in run
    await self.simple_run(bot, event, state, stack, dependency_cache)
          â”‚    â”‚          â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-6183' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚    â”‚          â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8c0a880>
          â”‚    â”‚          â”‚    â”‚      â”” {'_prefix': {'command': ('æ—©',), 'raw_command': '!æ—©', 'command_arg': []}}
          â”‚    â”‚          â”‚    â”” GroupMessageEvent(time=1647052322, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, message_typ...
          â”‚    â”‚          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚    â”” <function Matcher.simple_run at 0x7fd948ae3b80>
          â”” <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 635, in simple_run
    await handler(
          â”” <Dependent call=<function good_morning at 0x7fd925e66ee0>, params=[ModelField(name='bot', type=Bot, required=True), ModelFiel...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'bot': <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>, 'event': GroupMessageEvent(time=1647052322, self_id=5...
                 â”‚    â”” <function good_morning at 0x7fd925e66ee0>
                 â”” <Dependent call=<function good_morning at 0x7fd925e66ee0>, params=[ModelField(name='bot', type=Bot, required=True), ModelFiel...

  File "./src/plugins/nonebot_plugin_morning/__init__.py", line 61, in good_morning
    await morning.finish(message=msg, at_sender=True)
          â”‚       â”‚              â”” 'æ—©å®‰æˆåŠŸï¼ä½ çš„ç¡çœ æ—¶é•¿ä¸º11æ—¶18åˆ†5ç§’ï¼Œ\nä½ æ˜¯ä»Šå¤©ç¬¬3ä¸ªèµ·åºŠçš„å°‘å¥³ï¼'
          â”‚       â”” <classmethod object at 0x7fd948adec40>
          â”” <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False>

  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 464, in finish
    await cls.send(message, **kwargs)
          â”‚   â”‚    â”‚          â”” {'at_sender': True}
          â”‚   â”‚    â”” 'æ—©å®‰æˆåŠŸï¼ä½ çš„ç¡çœ æ—¶é•¿ä¸º11æ—¶18åˆ†5ç§’ï¼Œ\nä½ æ˜¯ä»Šå¤©ç¬¬3ä¸ªèµ·åºŠçš„å°‘å¥³ï¼'
          â”‚   â”” <classmethod object at 0x7fd948adebe0>
          â”” <Matcher from src.plugins.nonebot_plugin_morning, type=message, priority=11, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 449, in send
    return await bot.send(event=event, message=_message, **kwargs)
                 â”‚   â”‚          â”‚              â”‚           â”” {'at_sender': True}
                 â”‚   â”‚          â”‚              â”” 'æ—©å®‰æˆåŠŸï¼ä½ çš„ç¡çœ æ—¶é•¿ä¸º11æ—¶18åˆ†5ç§’ï¼Œ\nä½ æ˜¯ä»Šå¤©ç¬¬3ä¸ªèµ·åºŠçš„å°‘å¥³ï¼'
                 â”‚   â”‚          â”” GroupMessageEvent(time=1647052322, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, message_typ...
                 â”‚   â”” <function Bot.send at 0x7fd9468e3c10>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 247, in send
    return await self.__class__.send_handler(self, event, message, **kwargs)
                 â”‚    â”‚                      â”‚     â”‚      â”‚          â”” {'at_sender': True}
                 â”‚    â”‚                      â”‚     â”‚      â”” 'æ—©å®‰æˆåŠŸï¼ä½ çš„ç¡çœ æ—¶é•¿ä¸º11æ—¶18åˆ†5ç§’ï¼Œ\nä½ æ˜¯ä»Šå¤©ç¬¬3ä¸ªèµ·åºŠçš„å°‘å¥³ï¼'
                 â”‚    â”‚                      â”‚     â”” GroupMessageEvent(time=1647052322, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, message_typ...
                 â”‚    â”‚                      â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                 â”‚    â”” <attribute '__class__' of 'object' objects>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 175, in send
    return await bot.send_msg(**params)
                 â”‚              â”” {'user_id': 1617678696, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='at', data={'qq': '16...
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 208, in call_api
    return await super().call_api(api, **data)
                                  â”‚      â”” {'user_id': 1617678696, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='at', data={'qq': '16...
                                  â”” 'send_msg'
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 117, in call_api
    raise exception
          â”” <ActionFailed data=None, echo={'seq': 12}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 94, in call_api
    result = await self.adapter._call_api(self, api, **data)
                   â”‚    â”‚       â”‚         â”‚     â”‚      â”” {'user_id': 1617678696, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='at', data={'qq': '16...
                   â”‚    â”‚       â”‚         â”‚     â”” 'send_msg'
                   â”‚    â”‚       â”‚         â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                   â”‚    â”‚       â”” <function Adapter._call_api at 0x7fd9468f1040>
                   â”‚    â”” <nonebot.adapters.onebot.v11.adapter.Adapter object at 0x7fd9469d3a30>
                   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/adapter.py", line 107, in _call_api
    return _handle_api_result(
           â”” <function _handle_api_result at 0x7fd946977670>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/utils.py", line 81, in _handle_api_result
    raise ActionFailed(**result)
          â”‚              â”” {'data': None, 'echo': {'seq': 12}, 'msg': 'SEND_MSG_API_ERROR', 'retcode': 100, 'status': 'failed', 'wording': 'è¯·å‚è€ƒ go-cqhtt...
          â”” <class 'nonebot.adapters.onebot.v11.exception.ActionFailed'>

nonebot.adapters.onebot.v11.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 12}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
[36mATRI[0m | 03-12 11:21:11 | DEBUG ATRI.exceptions >> A bug has been cumming!!! Track ID: rNoJnlj0
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_private_msg
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:11 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:11 | ERROR nonebot >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> failed.
Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 153, in _check_matcher
    await _run_matcher(Matcher, bot, event, state, stack, dependency_cache)
          â”‚            â”‚        â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3150' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚            â”‚        â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8da8affa0>
          â”‚            â”‚        â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚            â”‚        â”‚    â”” GroupMessageEvent(time=1647048590, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚            â”‚        â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚            â”” <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
          â”” <function _run_matcher at 0x7fd9468e3700>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 202, in _run_matcher
    await matcher.run(bot, event, state, stack, dependency_cache)
          â”‚       â”‚   â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3150' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚       â”‚   â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8da8affa0>
          â”‚       â”‚   â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚       â”‚   â”‚    â”” GroupMessageEvent(time=1647048590, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚       â”‚   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚       â”” <function Matcher.run at 0x7fd948ae3c10>
          â”” <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 668, in run
    await self.simple_run(bot, event, state, stack, dependency_cache)
          â”‚    â”‚          â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3150' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚    â”‚          â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8da8affa0>
          â”‚    â”‚          â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚    â”‚          â”‚    â”” GroupMessageEvent(time=1647048590, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚    â”‚          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚    â”” <function Matcher.simple_run at 0x7fd948ae3b80>
          â”” <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 635, in simple_run
    await handler(
          â”” <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(na...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'bot': <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>, 'event': GroupMessageEvent(time=1647048590, self_id=5...
                 â”‚    â”” <function repeater at 0x7fd93143fdc0>
                 â”” <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(na...

  File "./src/plugins/nonebot_plugin_repeater/__init__.py", line 66, in repeater
    await bot.send(event, data)
          â”‚   â”‚    â”‚      â”” MessageSegment(type='image', data={'file': 'https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3157374596-0379636BDDB0022...
          â”‚   â”‚    â”” GroupMessageEvent(time=1647048590, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚   â”” <function Bot.send at 0x7fd9468e3c10>
          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>

  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 247, in send
    return await self.__class__.send_handler(self, event, message, **kwargs)
                 â”‚    â”‚                      â”‚     â”‚      â”‚          â”” {}
                 â”‚    â”‚                      â”‚     â”‚      â”” MessageSegment(type='image', data={'file': 'https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3157374596-0379636BDDB0022...
                 â”‚    â”‚                      â”‚     â”” GroupMessageEvent(time=1647048590, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
                 â”‚    â”‚                      â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                 â”‚    â”” <attribute '__class__' of 'object' objects>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 175, in send
    return await bot.send_msg(**params)
                 â”‚              â”” {'user_id': 963046537, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='image', data={'file':...
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 208, in call_api
    return await super().call_api(api, **data)
                                  â”‚      â”” {'user_id': 963046537, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='image', data={'file':...
                                  â”” 'send_msg'
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 117, in call_api
    raise exception
          â”” <ActionFailed data=None, echo={'seq': 10}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 94, in call_api
    result = await self.adapter._call_api(self, api, **data)
                   â”‚    â”‚       â”‚         â”‚     â”‚      â”” {'user_id': 963046537, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='image', data={'file':...
                   â”‚    â”‚       â”‚         â”‚     â”” 'send_msg'
                   â”‚    â”‚       â”‚         â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                   â”‚    â”‚       â”” <function Adapter._call_api at 0x7fd9468f1040>
                   â”‚    â”” <nonebot.adapters.onebot.v11.adapter.Adapter object at 0x7fd9469d3a30>
                   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/adapter.py", line 107, in _call_api
    return _handle_api_result(
           â”” <function _handle_api_result at 0x7fd946977670>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/utils.py", line 81, in _handle_api_result
    raise ActionFailed(**result)
          â”‚              â”” {'data': None, 'echo': {'seq': 10}, 'msg': 'SEND_MSG_API_ERROR', 'retcode': 100, 'status': 'failed', 'wording': 'è¯·å‚è€ƒ go-cqhtt...
          â”” <class 'nonebot.adapters.onebot.v11.exception.ActionFailed'>

nonebot.adapters.onebot.v11.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 10}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
[36mATRI[0m | 03-12 11:21:11 | DEBUG ATRI.exceptions >> A bug has been cumming!!! Track ID: zgUw6oKW
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_private_msg
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Stop event propagation
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:11 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:11 | ERROR nonebot >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> failed.
Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 153, in _check_matcher
    await _run_matcher(Matcher, bot, event, state, stack, dependency_cache)
          â”‚            â”‚        â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3096' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚            â”‚        â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8db28e0>
          â”‚            â”‚        â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚            â”‚        â”‚    â”” GroupMessageEvent(time=1647047972, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚            â”‚        â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚            â”” <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
          â”” <function _run_matcher at 0x7fd9468e3700>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 202, in _run_matcher
    await matcher.run(bot, event, state, stack, dependency_cache)
          â”‚       â”‚   â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3096' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚       â”‚   â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8db28e0>
          â”‚       â”‚   â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚       â”‚   â”‚    â”” GroupMessageEvent(time=1647047972, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚       â”‚   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚       â”” <function Matcher.run at 0x7fd948ae3c10>
          â”” <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 668, in run
    await self.simple_run(bot, event, state, stack, dependency_cache)
          â”‚    â”‚          â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-3096' coro=<_event_to_me() done, defined at /usr/local/...
          â”‚    â”‚          â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8db28e0>
          â”‚    â”‚          â”‚    â”‚      â”” {'_prefix': {'command': None, 'raw_command': None, 'command_arg': None}}
          â”‚    â”‚          â”‚    â”” GroupMessageEvent(time=1647047972, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚    â”‚          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚    â”” <function Matcher.simple_run at 0x7fd948ae3b80>
          â”” <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 635, in simple_run
    await handler(
          â”” <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(na...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'bot': <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>, 'event': GroupMessageEvent(time=1647047972, self_id=5...
                 â”‚    â”” <function repeater at 0x7fd93143fdc0>
                 â”” <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(na...

  File "./src/plugins/nonebot_plugin_repeater/__init__.py", line 66, in repeater
    await bot.send(event, data)
          â”‚   â”‚    â”‚      â”” MessageSegment(type='image', data={'file': 'https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2679133325-4E994F1332634EB...
          â”‚   â”‚    â”” GroupMessageEvent(time=1647047972, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
          â”‚   â”” <function Bot.send at 0x7fd9468e3c10>
          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>

  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 247, in send
    return await self.__class__.send_handler(self, event, message, **kwargs)
                 â”‚    â”‚                      â”‚     â”‚      â”‚          â”” {}
                 â”‚    â”‚                      â”‚     â”‚      â”” MessageSegment(type='image', data={'file': 'https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2679133325-4E994F1332634EB...
                 â”‚    â”‚                      â”‚     â”” GroupMessageEvent(time=1647047972, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, message_type...
                 â”‚    â”‚                      â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                 â”‚    â”” <attribute '__class__' of 'object' objects>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 175, in send
    return await bot.send_msg(**params)
                 â”‚              â”” {'user_id': 963046537, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='image', data={'file':...
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 208, in call_api
    return await super().call_api(api, **data)
                                  â”‚      â”” {'user_id': 963046537, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='image', data={'file':...
                                  â”” 'send_msg'
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 117, in call_api
    raise exception
          â”” <ActionFailed data=None, echo={'seq': 11}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 94, in call_api
    result = await self.adapter._call_api(self, api, **data)
                   â”‚    â”‚       â”‚         â”‚     â”‚      â”” {'user_id': 963046537, 'group_id': 937760225, 'message_type': 'group', 'message': [MessageSegment(type='image', data={'file':...
                   â”‚    â”‚       â”‚         â”‚     â”” 'send_msg'
                   â”‚    â”‚       â”‚         â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                   â”‚    â”‚       â”” <function Adapter._call_api at 0x7fd9468f1040>
                   â”‚    â”” <nonebot.adapters.onebot.v11.adapter.Adapter object at 0x7fd9469d3a30>
                   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/adapter.py", line 107, in _call_api
    return _handle_api_result(
           â”” <function _handle_api_result at 0x7fd946977670>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/utils.py", line 81, in _handle_api_result
    raise ActionFailed(**result)
          â”‚              â”” {'data': None, 'echo': {'seq': 11}, 'msg': 'SEND_MSG_API_ERROR', 'retcode': 100, 'status': 'failed', 'wording': 'è¯·å‚è€ƒ go-cqhtt...
          â”” <class 'nonebot.adapters.onebot.v11.exception.ActionFailed'>

nonebot.adapters.onebot.v11.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 11}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
[36mATRI[0m | 03-12 11:21:11 | DEBUG ATRI.exceptions >> A bug has been cumming!!! Track ID: Eg9Q3ObV
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_private_msg
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:11 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:11 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d833c5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:09.000000', 'message', 'group', '555612706', '[{"type": "text", "data": {"text": "å®Œäº†å®Œäº†"}}]', 'å®Œäº†å®Œäº†',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:09.000000', 'message', 'group', '555612706', '[{"type": "text", "data": {"text": "å®Œäº†å®Œäº†"}}]', 'å®Œäº†å®Œäº†',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8acce40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d82937d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d842c2c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:31:09.000000', 'message', 'group', '555612706', '[{"type": "text", "data": {"text": "å®Œäº†å®Œäº†"}}]', 'å®Œäº†å®Œäº†',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d85947a0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d85947a0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-42, stopped daemon 140568164198144)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef4e0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8872440>, <coroutine object _run_coro_with_catch at 0x7fd8d8596040>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8872840>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048669, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0e7af40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d821c940>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0e7af40>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d82937d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d821c940>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d821c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d821c3d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d821c3d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d821c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d821cb50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d821c8b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d821c8b0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d833c5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 31, 9, tzinfo=datetime.timezone.utc), 'platform': 'qq', '...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d833c5e0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d833c5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d833c5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d833c5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d833c5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:09.000000', 'message', 'group', '555612706', '[{"type": "text", "data": {"text": "å®Œäº†å®Œäº†"}}]', 'å®Œäº†å®Œäº†',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:09.000000', 'message', 'group', '555612706', '[{"type": "text", "data": {"text": "å®Œäº†å®Œäº†"}}]', 'å®Œäº†å®Œäº†',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8acce40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d82937d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d842c2c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:31:09.000000', 'message', 'group', '555612706', '[{"type": "text", "data": {"text": "å®Œäº†å®Œäº†"}}]', 'å®Œäº†å®Œäº†',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d85947a0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d85947a0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-42, stopped daemon 140568164198144)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d0f08df0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef4e0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:31:09.000000', 'message', 'group', '555612706', '[{"type": "text", "data": {"text": "å®Œäº†å®Œäº†"}}]', 'å®Œäº†å®Œäº†', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d158c6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:49.000000', 'message', 'group', '521357936', '[{"type": "text", "data": {"text": "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"}}]', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:49.000000', 'message', 'group', '521357936', '[{"type": "text", "data": {"text": "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"}}]', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88d49c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8558d50 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d842cac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:22:49.000000', 'message', 'group', '521357936', '[{"type": "text", "data": {"text": "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"}}]', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89782d0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89782d0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-27, started daemon 140568290088704)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d65d0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8d4e3c0>, <coroutine object _run_coro_with_catch at 0x7fd8d8d4e440>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8d4eac0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048169, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8638f10>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8638ee0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8638f10>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8558d50 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8638ee0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8638ee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8638850>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8638850>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8638ee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8638640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8638ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8638ac0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d158c6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 22, 49, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d158c6d0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d158c6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d158c6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d158c6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d158c6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:49.000000', 'message', 'group', '521357936', '[{"type": "text", "data": {"text": "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"}}]', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:49.000000', 'message', 'group', '521357936', '[{"type": "text", "data": {"text": "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"}}]', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88d49c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8558d50 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d842cac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:22:49.000000', 'message', 'group', '521357936', '[{"type": "text", "data": {"text": "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"}}]', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89782d0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89782d0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-27, started daemon 140568290088704)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d65d0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:22:49.000000', 'message', 'group', '521357936', '[{"type": "text", "data": {"text": "é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬"}}]', 'é«˜ä¸­ä¸‰å¹´ä¸è°ˆæ‹çˆ±å®¶äººä»¬', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d885d970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:19:23.000000', 'message', 'group', '101219121', '[{"type": "forward", "data": {"id": "WXbjQYsR0zNNqgr8B...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:19:23.000000', 'message', 'group', '101219121', '[{"type": "forward", "data": {"id": "WXbjQYsR0zNNqgr8B...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88d4740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d81a2b40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468a40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:19:23.000000', 'message', 'group', '101219121', '[{"type": "forward", "data": {"id": "WXbjQYsR0zNNqgr8B...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8978340>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8978340>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-15, stopped daemon 140568466269952)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b990>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8872e40>, <coroutine object _run_coro_with_catch at 0x7fd8d8cf2dc0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8d9c940>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647047963, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d885d2e0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d885d370>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d885d2e0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d81a2b40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d885d370>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d885d370>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d885d7c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d885d7c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d885d370>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d885d640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d885df70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d885df70>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d885d970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 19, 23, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d885d970>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d885d970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d885d970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d885d970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d885d970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:19:23.000000', 'message', 'group', '101219121', '[{"type": "forward", "data": {"id": "WXbjQYsR0zNNqgr8B...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:19:23.000000', 'message', 'group', '101219121', '[{"type": "forward", "data": {"id": "WXbjQYsR0zNNqgr8B...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88d4740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d81a2b40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468a40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:19:23.000000', 'message', 'group', '101219121', '[{"type": "forward", "data": {"id": "WXbjQYsR0zNNqgr8B...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8978340>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8978340>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-15, stopped daemon 140568466269952)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3c10>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b990>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:19:23.000000', 'message', 'group', '101219121', '[{"type": "forward", "data": {"id": "WXbjQYsR0zNNqgr8BDS8M0b5ueDhOtW4zh8vnXprzIoy3Vj7SjknU7G7si42GlHK"}}]', '', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d841b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:50:50.000000', 'message', 'group', '-166386731', '[{"type": "text", "data": {"text": "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"}...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:50:50.000000', 'message', 'group', '-166386731', '[{"type": "text", "data": {"text": "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"}...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8cc0cc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d1587e00 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d84680c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:50:50.000000', 'message', 'group', '-166386731', '[{"type": "text", "data": {"text": "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"}...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89783b0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89783b0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-11, stopped daemon 140568499840768)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b5d0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8aaf8c0>, <coroutine object _run_coro_with_catch at 0x7fd8d8aaf6c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8d87f40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647046250, self_id=507346814, post_type='message', sub_type='normal', user_id=1756449233, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d841b8b0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d841be20>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d841b8b0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d1587e00 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d841be20>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d841be20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d841bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d841bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d841be20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d841baf0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d841beb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d841beb0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d841b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1756449233', 'time': datetime.datetime(2022, 3, 12, 0, 50, 50, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d841b6d0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d841b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d841b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d841b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d841b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:50:50.000000', 'message', 'group', '-166386731', '[{"type": "text", "data": {"text": "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"}...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:50:50.000000', 'message', 'group', '-166386731', '[{"type": "text", "data": {"text": "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"}...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8cc0cc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d1587e00 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d84680c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:50:50.000000', 'message', 'group', '-166386731', '[{"type": "text", "data": {"text": "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"}...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89783b0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89783b0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-11, stopped daemon 140568499840768)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3640>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b5d0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 00:50:50.000000', 'message', 'group', '-166386731', '[{"type": "text", "data": {"text": "è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ"}}]', 'è¯·é—®æ ‘èŽ“æ´¾èƒ½æŽ¥å•¥æ ·çš„ç”µç£é”å•Šï¼Ÿ', '1756449233', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84acd90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:11.000000', 'message', 'group', '-2045109302', '[{"type": "text", "data": {"text": "å•Šå¯¹å¯¹å¯¹"}}]', 'å•Šå¯¹å¯¹å¯¹...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdad00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdad00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:11.000000', 'message', 'group', '-2045109302', '[{"type": "text", "data": {"text": "å•Šå¯¹å¯¹å¯¹"}}]', 'å•Šå¯¹å¯¹å¯¹...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdad00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80d1040>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8ac7720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468940>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:23:11.000000', 'message', 'group', '-2045109302', '[{"type": "text", "data": {"text": "å•Šå¯¹å¯¹å¯¹"}}]', 'å•Šå¯¹å¯¹å¯¹...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594490>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594490>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-30, stopped daemon 140568264910592)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d67b0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8596cc0>, <coroutine object _run_coro_with_catch at 0x7fd8d85966c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8596740>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048191, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8241880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8241940>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8241880>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8ac7720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8241940>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8241940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84ac040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84ac040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8241940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84acd60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84ac5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84ac5e0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84acd90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 23, 11, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84acd90>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84acd90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84acd90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84acd90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84acd90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:11.000000', 'message', 'group', '-2045109302', '[{"type": "text", "data": {"text": "å•Šå¯¹å¯¹å¯¹"}}]', 'å•Šå¯¹å¯¹å¯¹...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdad00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdad00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:11.000000', 'message', 'group', '-2045109302', '[{"type": "text", "data": {"text": "å•Šå¯¹å¯¹å¯¹"}}]', 'å•Šå¯¹å¯¹å¯¹...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdad00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80d1040>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8ac7720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468940>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:23:11.000000', 'message', 'group', '-2045109302', '[{"type": "text", "data": {"text": "å•Šå¯¹å¯¹å¯¹"}}]', 'å•Šå¯¹å¯¹å¯¹...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594490>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594490>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-30, stopped daemon 140568264910592)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552160>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d67b0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:23:11.000000', 'message', 'group', '-2045109302', '[{"type": "text", "data": {"text": "å•Šå¯¹å¯¹å¯¹"}}]', 'å•Šå¯¹å¯¹å¯¹', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84e4070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:08.000000', 'message', 'group', '-6066178', '[{"type": "text", "data": {"text": "ä»£ç "}}]', 'ä»£ç ', '594...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b812e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b812e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:08.000000', 'message', 'group', '-6066178', '[{"type": "text", "data": {"text": "ä»£ç "}}]', 'ä»£ç ', '594...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b812e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88e8b40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8da6930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d84685c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:14:08.000000', 'message', 'group', '-6066178', '[{"type": "text", "data": {"text": "ä»£ç "}}]', 'ä»£ç ', '594...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8bab730>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8bab730>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-7, stopped daemon 140568743098112)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b210>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fb9ec0>, <coroutine object _run_coro_with_catch at 0x7fd8d8319740>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8da6740c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647044048, self_id=507346814, post_type='message', sub_type='normal', user_id=594352301, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83031c0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8201fa0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83031c0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8da6930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8201fa0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8201fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84e47f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84e47f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8201fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84e4430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84e4280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84e4280>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84e4070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '594352301', 'time': datetime.datetime(2022, 3, 12, 0, 14, 8, tzinfo=datetime.timezone.utc), 'platform': 'qq', '...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84e4070>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84e4070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84e4070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84e4070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84e4070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:08.000000', 'message', 'group', '-6066178', '[{"type": "text", "data": {"text": "ä»£ç "}}]', 'ä»£ç ', '594...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b812e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b812e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:08.000000', 'message', 'group', '-6066178', '[{"type": "text", "data": {"text": "ä»£ç "}}]', 'ä»£ç ', '594...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b812e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88e8b40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8da6930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d84685c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:14:08.000000', 'message', 'group', '-6066178', '[{"type": "text", "data": {"text": "ä»£ç "}}]', 'ä»£ç ', '594...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8bab730>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8bab730>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-7, stopped daemon 140568743098112)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83a6be0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b210>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 00:14:08.000000', 'message', 'group', '-6066178', '[{"type": "text", "data": {"text": "ä»£ç "}}]', 'ä»£ç ', '594352301', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88a66d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:35.000000', 'message', 'group', '-2122850349', '[{"type": "text", "data": {"text": "ã€‚"}}]', 'ã€‚', '96...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdae80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdae80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:35.000000', 'message', 'group', '-2122850349', '[{"type": "text", "data": {"text": "ã€‚"}}]', 'ã€‚', '96...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdae80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80b7ac0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8c877d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8ae9c40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:29:35.000000', 'message', 'group', '-2122850349', '[{"type": "text", "data": {"text": "ã€‚"}}]', 'ã€‚', '96...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594570>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594570>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-36, stopped daemon 140568214554368)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d6e40>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8a74b40>, <coroutine object _run_coro_with_catch at 0x7fd8d8a74840>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8a740c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048575, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8909430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909f70>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8909430>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8c877d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909f70>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909f70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8909610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8909610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909f70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88a61c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88a6880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88a6880>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88a66d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 29, 35, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88a66d0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88a66d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88a66d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88a66d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88a66d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:35.000000', 'message', 'group', '-2122850349', '[{"type": "text", "data": {"text": "ã€‚"}}]', 'ã€‚', '96...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdae80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdae80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:35.000000', 'message', 'group', '-2122850349', '[{"type": "text", "data": {"text": "ã€‚"}}]', 'ã€‚', '96...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdae80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80b7ac0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8c877d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8ae9c40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:29:35.000000', 'message', 'group', '-2122850349', '[{"type": "text", "data": {"text": "ã€‚"}}]', 'ã€‚', '96...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594570>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594570>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-36, stopped daemon 140568214554368)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8552670>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d6e40>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:29:35.000000', 'message', 'group', '-2122850349', '[{"type": "text", "data": {"text": "ã€‚"}}]', 'ã€‚', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16a1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:50.000000', 'message', 'group', '23445288', '[{"type": "text", "data": {"text": "å®Œäº†å®¶äººä»¬"}}]', 'å®Œäº†å®¶äººä»¬'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:50.000000', 'message', 'group', '23445288', '[{"type": "text", "data": {"text": "å®Œäº†å®¶äººä»¬"}}]', 'å®Œäº†å®¶äººä»¬'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10293c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d17b3510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468240>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:20:50.000000', 'message', 'group', '23445288', '[{"type": "text", "data": {"text": "å®Œäº†å®¶äººä»¬"}}]', 'å®Œäº†å®¶äººä»¬'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d82ecf80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d82ecf80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-20, stopped daemon 140568348837632)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5be40>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8877640>, <coroutine object _run_coro_with_catch at 0x7fd8d8cf28c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8cf27c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048050, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d847dc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d847d910>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d847dc40>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d17b3510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d847d910>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d847d910>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d16a18b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d16a18b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d847d910>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d16a19d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d16a1160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d16a1160>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16a1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 20, 50, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16a1a90>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16a1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16a1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16a1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16a1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:50.000000', 'message', 'group', '23445288', '[{"type": "text", "data": {"text": "å®Œäº†å®¶äººä»¬"}}]', 'å®Œäº†å®¶äººä»¬'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:50.000000', 'message', 'group', '23445288', '[{"type": "text", "data": {"text": "å®Œäº†å®¶äººä»¬"}}]', 'å®Œäº†å®¶äººä»¬'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10293c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d17b3510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468240>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:20:50.000000', 'message', 'group', '23445288', '[{"type": "text", "data": {"text": "å®Œäº†å®¶äººä»¬"}}]', 'å®Œäº†å®¶äººä»¬'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d82ecf80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d82ecf80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-20, stopped daemon 140568348837632)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162bb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5be40>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:20:50.000000', 'message', 'group', '23445288', '[{"type": "text", "data": {"text": "å®Œäº†å®¶äººä»¬"}}]', 'å®Œäº†å®¶äººä»¬', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1622dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:17.000000', 'message', 'group', '410947177', '[{"type": "text", "data": {"text": "å¯¹å¯¹å¯¹"}}]', 'å¯¹å¯¹å¯¹', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdac40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdac40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:17.000000', 'message', 'group', '410947177', '[{"type": "text", "data": {"text": "å¯¹å¯¹å¯¹"}}]', 'å¯¹å¯¹å¯¹', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdac40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80d15c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d856d880 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8ae9540>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:23:17.000000', 'message', 'group', '410947177', '[{"type": "text", "data": {"text": "å¯¹å¯¹å¯¹"}}]', 'å¯¹å¯¹å¯¹', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594420>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594420>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-32, stopped daemon 140568248125184)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d6b70>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d85963c0>, <coroutine object _run_coro_with_catch at 0x7fd8d8596840>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8596240>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048197, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8544cd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8544a90>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8544cd0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d856d880 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8544a90>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8544a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8544100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8544100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8544a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d1622d60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1622850>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1622850>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1622dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 23, 17, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1622dc0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1622dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1622dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1622dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1622dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:17.000000', 'message', 'group', '410947177', '[{"type": "text", "data": {"text": "å¯¹å¯¹å¯¹"}}]', 'å¯¹å¯¹å¯¹', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdac40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdac40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:23:17.000000', 'message', 'group', '410947177', '[{"type": "text", "data": {"text": "å¯¹å¯¹å¯¹"}}]', 'å¯¹å¯¹å¯¹', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdac40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80d15c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d856d880 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8ae9540>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:23:17.000000', 'message', 'group', '410947177', '[{"type": "text", "data": {"text": "å¯¹å¯¹å¯¹"}}]', 'å¯¹å¯¹å¯¹', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594420>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594420>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-32, stopped daemon 140568248125184)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d6220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d6b70>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:23:17.000000', 'message', 'group', '410947177', '[{"type": "text", "data": {"text": "å¯¹å¯¹å¯¹"}}]', 'å¯¹å¯¹å¯¹', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176e2b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:25.000000', 'message', 'group', '1444596404', '[{"type": "text", "data": {"text": "å¥¹ç›´æŽ¥å¼€å¤§äº†"}}]', 'å¥¹ç›´æŽ¥...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:25.000000', 'message', 'group', '1444596404', '[{"type": "text", "data": {"text": "å¥¹ç›´æŽ¥å¼€å¤§äº†"}}]', 'å¥¹ç›´æŽ¥...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d15b9f40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f4db40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d842cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:31:25.000000', 'message', 'group', '1444596404', '[{"type": "text", "data": {"text": "å¥¹ç›´æŽ¥å¼€å¤§äº†"}}]', 'å¥¹ç›´æŽ¥...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d85940a0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d85940a0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-44, stopped daemon 140568147412736)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef6c0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8596ec0>, <coroutine object _run_coro_with_catch at 0x7fd8d8596540>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d85961c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048685, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88c8640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88c8ca0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88c8640>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0f4db40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d88c8ca0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88c8ca0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88c8040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88c8040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88c8ca0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d176e1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d176ef10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d176ef10>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176e2b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 31, 25, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176e2b0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176e2b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176e2b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176e2b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176e2b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:25.000000', 'message', 'group', '1444596404', '[{"type": "text", "data": {"text": "å¥¹ç›´æŽ¥å¼€å¤§äº†"}}]', 'å¥¹ç›´æŽ¥...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:31:25.000000', 'message', 'group', '1444596404', '[{"type": "text", "data": {"text": "å¥¹ç›´æŽ¥å¼€å¤§äº†"}}]', 'å¥¹ç›´æŽ¥...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bda640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d15b9f40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f4db40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d842cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:31:25.000000', 'message', 'group', '1444596404', '[{"type": "text", "data": {"text": "å¥¹ç›´æŽ¥å¼€å¤§äº†"}}]', 'å¥¹ç›´æŽ¥...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d85940a0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d85940a0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-44, stopped daemon 140568147412736)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8111280>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef6c0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:31:25.000000', 'message', 'group', '1444596404', '[{"type": "text", "data": {"text": "å¥¹ç›´æŽ¥å¼€å¤§äº†"}}]', 'å¥¹ç›´æŽ¥å¼€å¤§äº†', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8312520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:13:58.000000', 'message', 'group', '1640495709', '[{"type": "text", "data": {"text": "è¿™æ€Žä¹ˆå›žäº‹å‘€"}}, {"type...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:13:58.000000', 'message', 'group', '1640495709', '[{"type": "text", "data": {"text": "è¿™æ€Žä¹ˆå›žäº‹å‘€"}}, {"type...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88e89c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d879ef60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468840>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:13:58.000000', 'message', 'group', '1640495709', '[{"type": "text", "data": {"text": "è¿™æ€Žä¹ˆå›žäº‹å‘€"}}, {"type...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8978490>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8978490>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-5, stopped daemon 140568759883520)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b030>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0f53340>, <coroutine object _run_coro_with_catch at 0x7fd8d8aaf640>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d0f53ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647044038, self_id=507346814, post_type='message', sub_type='normal', user_id=594352301, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d835c7c0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d898b520>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d835c7c0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d879ef60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d898b520>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d898b520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d898b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d898b6d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d898b520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8312b50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8312730>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8312730>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8312520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '594352301', 'time': datetime.datetime(2022, 3, 12, 0, 13, 58, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8312520>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8312520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8312520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8312520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8312520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:13:58.000000', 'message', 'group', '1640495709', '[{"type": "text", "data": {"text": "è¿™æ€Žä¹ˆå›žäº‹å‘€"}}, {"type...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:13:58.000000', 'message', 'group', '1640495709', '[{"type": "text", "data": {"text": "è¿™æ€Žä¹ˆå›žäº‹å‘€"}}, {"type...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d82bc4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d88e89c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d879ef60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468840>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:13:58.000000', 'message', 'group', '1640495709', '[{"type": "text", "data": {"text": "è¿™æ€Žä¹ˆå›žäº‹å‘€"}}, {"type...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8978490>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8978490>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-5, stopped daemon 140568759883520)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83e21f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b5b030>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 00:13:58.000000', 'message', 'group', '1640495709', '[{"type": "text", "data": {"text": "è¿™æ€Žä¹ˆå›žäº‹å‘€"}}, {"type": "face", "data": {"id": "32"}}]', 'è¿™æ€Žä¹ˆå›žäº‹å‘€', '594352301', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d961d130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:56.000000', 'message', 'group', '-249746596', '[{"type": "text", "data": {"text": "ä½ å°±ä¹±æƒ³"}}]', 'ä½ å°±ä¹±æƒ³'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdaac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdaac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:56.000000', 'message', 'group', '-249746596', '[{"type": "text", "data": {"text": "ä½ å°±ä¹±æƒ³"}}]', 'ä½ å°±ä¹±æƒ³'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdaac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8648640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f0abf0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d164a740>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:22:56.000000', 'message', 'group', '-249746596', '[{"type": "text", "data": {"text": "ä½ å°±ä¹±æƒ³"}}]', 'ä½ å°±ä¹±æƒ³'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594340>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594340>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-50, stopped daemon 140568097056512)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80efc60>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8b560c0>, <coroutine object _run_coro_with_catch at 0x7fd8d8b56340>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8b56240>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048176, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8b3dd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b3d790>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8b3dd00>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0f0abf0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b3d790>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b3d790>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d961d640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d961d640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b3d790>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d961d580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d961d760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d961d760>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d961d130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 1, 22, 56, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d961d130>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d961d130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d961d130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d961d130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d961d130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:56.000000', 'message', 'group', '-249746596', '[{"type": "text", "data": {"text": "ä½ å°±ä¹±æƒ³"}}]', 'ä½ å°±ä¹±æƒ³'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdaac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdaac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:22:56.000000', 'message', 'group', '-249746596', '[{"type": "text", "data": {"text": "ä½ å°±ä¹±æƒ³"}}]', 'ä½ å°±ä¹±æƒ³'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8bdaac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8648640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f0abf0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d164a740>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:22:56.000000', 'message', 'group', '-249746596', '[{"type": "text", "data": {"text": "ä½ å°±ä¹±æƒ³"}}]', 'ä½ å°±ä¹±æƒ³'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d8594340>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d8594340>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-50, stopped daemon 140568097056512)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d837fca0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80efc60>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:22:56.000000', 'message', 'group', '-249746596', '[{"type": "text", "data": {"text": "ä½ å°±ä¹±æƒ³"}}]', 'ä½ å°±ä¹±æƒ³', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83a1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:47.000000', 'message', 'group', '1724904148', '[{"type": "text", "data": {"text": "ä¸ç„¶çœŸæˆäº†"}}]', 'ä¸ç„¶çœŸæˆ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d85a8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d85a8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:47.000000', 'message', 'group', '1724904148', '[{"type": "text", "data": {"text": "ä¸ç„¶çœŸæˆäº†"}}]', 'ä¸ç„¶çœŸæˆ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d85a8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80b7340>
           â”” <_AsyncIoGreenlet object at 0x7fd8d16479e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d80d1a40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:29:47.000000', 'message', 'group', '1724904148', '[{"type": "text", "data": {"text": "ä¸ç„¶çœŸæˆäº†"}}]', 'ä¸ç„¶çœŸæˆ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d85946c0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d85946c0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-39, stopped daemon 140568189376256)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef210>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8872ec0>, <coroutine object _run_coro_with_catch at 0x7fd8d8872ac0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d878fc40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048587, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d15764f0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15760d0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d15764f0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d16479e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d15760d0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15760d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83a1160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83a1160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15760d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83a10a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d83a1df0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d83a1df0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83a1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 29, 47, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83a1fa0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83a1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83a1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83a1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83a1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:47.000000', 'message', 'group', '1724904148', '[{"type": "text", "data": {"text": "ä¸ç„¶çœŸæˆäº†"}}]', 'ä¸ç„¶çœŸæˆ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d85a8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d85a8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:29:47.000000', 'message', 'group', '1724904148', '[{"type": "text", "data": {"text": "ä¸ç„¶çœŸæˆäº†"}}]', 'ä¸ç„¶çœŸæˆ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d85a8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80b7340>
           â”” <_AsyncIoGreenlet object at 0x7fd8d16479e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d80d1a40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:29:47.000000', 'message', 'group', '1724904148', '[{"type": "text", "data": {"text": "ä¸ç„¶çœŸæˆäº†"}}]', 'ä¸ç„¶çœŸæˆ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d85946c0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d85946c0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-39, stopped daemon 140568189376256)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15e00d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef210>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:29:47.000000', 'message', 'group', '1724904148', '[{"type": "text", "data": {"text": "ä¸ç„¶çœŸæˆäº†"}}]', 'ä¸ç„¶çœŸæˆäº†', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8843940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:21:38.000000', 'message', 'group', '-278143484', '[{"type": "text", "data": {"text": "å®Œè›‹äº†"}}]', 'å®Œè›‹äº†', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:21:38.000000', 'message', 'group', '-278143484', '[{"type": "text", "data": {"text": "å®Œè›‹äº†"}}]', 'å®Œè›‹äº†', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1029dc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f7f880 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468f40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:21:38.000000', 'message', 'group', '-278143484', '[{"type": "text", "data": {"text": "å®Œè›‹äº†"}}]', 'å®Œè›‹äº†', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89780a0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89780a0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-22, stopped daemon 140568332052224)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d6120>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d83a7740>, <coroutine object _run_coro_with_catch at 0x7fd8d8cf2140>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8cf25c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048098, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8372640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8372400>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8372640>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0f7f880 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8372400>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8372400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8372dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8372dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8372400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8843a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8843190>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8843190>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8843940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 21, 38, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8843940>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8843940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8843940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8843940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8843940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:21:38.000000', 'message', 'group', '-278143484', '[{"type": "text", "data": {"text": "å®Œè›‹äº†"}}]', 'å®Œè›‹äº†', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:21:38.000000', 'message', 'group', '-278143484', '[{"type": "text", "data": {"text": "å®Œè›‹äº†"}}]', 'å®Œè›‹äº†', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8b81dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1029dc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f7f880 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8468f40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:21:38.000000', 'message', 'group', '-278143484', '[{"type": "text", "data": {"text": "å®Œè›‹äº†"}}]', 'å®Œè›‹äº†', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89780a0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89780a0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-22, stopped daemon 140568332052224)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d17d6120>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:21:38.000000', 'message', 'group', '-278143484', '[{"type": "text", "data": {"text": "å®Œè›‹äº†"}}]', 'å®Œè›‹äº†', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | SUCCESS nonebot >> ONEBOT V11 507346814 | [notice.group_increase.approve]: {'time': 1647055272, 'self_id': 507346814, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 415841062, 'group_id': 958866763, 'operator_id': 0}
[36mATRI[0m | 03-12 11:21:12 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8812970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:31:56.000000', 'message', 'group', '1996687660', '[{"type": "text", "data": {"text": "ä¸­è€ƒåŽ»äº†ï¼Ÿ"}}]', 'ä¸­è€ƒåŽ»äº†...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d83434c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d83434c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:31:56.000000', 'message', 'group', '1996687660', '[{"type": "text", "data": {"text": "ä¸­è€ƒåŽ»äº†ï¼Ÿ"}}]', 'ä¸­è€ƒåŽ»äº†...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d83434c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d87dabc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8124eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d888ab40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:31:56.000000', 'message', 'group', '1996687660', '[{"type": "text", "data": {"text": "ä¸­è€ƒåŽ»äº†ï¼Ÿ"}}]', 'ä¸­è€ƒåŽ»äº†...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf490>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf490>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-93, started daemon 140567736170240)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85ab7b0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8038540>, <coroutine object _run_coro_with_catch at 0x7fd8d80383c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d85d6540>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052316, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8812dc0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812520>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8812dc0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8124eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812520>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8812fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8812fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8812d60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88123a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88123a0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8812970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 31, 56, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8812970>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8812970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8812970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8812970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8812970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:31:56.000000', 'message', 'group', '1996687660', '[{"type": "text", "data": {"text": "ä¸­è€ƒåŽ»äº†ï¼Ÿ"}}]', 'ä¸­è€ƒåŽ»äº†...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d83434c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d83434c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:31:56.000000', 'message', 'group', '1996687660', '[{"type": "text", "data": {"text": "ä¸­è€ƒåŽ»äº†ï¼Ÿ"}}]', 'ä¸­è€ƒåŽ»äº†...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d83434c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d87dabc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8124eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d888ab40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:31:56.000000', 'message', 'group', '1996687660', '[{"type": "text", "data": {"text": "ä¸­è€ƒåŽ»äº†ï¼Ÿ"}}]', 'ä¸­è€ƒåŽ»äº†...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf490>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf490>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-93, started daemon 140567736170240)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c13460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85ab7b0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:31:56.000000', 'message', 'group', '1996687660', '[{"type": "text", "data": {"text": "ä¸­è€ƒåŽ»äº†ï¼Ÿ"}}]', 'ä¸­è€ƒåŽ»äº†ï¼Ÿ', '2560359315', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86e6c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:47.000000', 'message', 'group', '1325530101', '[{"type": "text", "data": {"text": "èµ·è¿™ä¹ˆæ™š"}}]', 'èµ·è¿™ä¹ˆæ™š'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:47.000000', 'message', 'group', '1325530101', '[{"type": "text", "data": {"text": "èµ·è¿™ä¹ˆæ™š"}}]', 'èµ·è¿™ä¹ˆæ™š'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d877ba40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86f1670 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a9440>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:47.000000', 'message', 'group', '1325530101', '[{"type": "text", "data": {"text": "èµ·è¿™ä¹ˆæ™š"}}]', 'èµ·è¿™ä¹ˆæ™š'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bfd50>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bfd50>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-71, started daemon 140567920809728)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1210>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d88081c0>, <coroutine object _run_coro_with_catch at 0x7fd8d17a43c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d859dec0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052367, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d874ba60>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6100>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d874ba60>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d86f1670 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6100>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d86e6dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d86e6dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d86e68b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d86e6310>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d86e6310>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86e6c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 32, 47, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86e6c40>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86e6c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86e6c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86e6c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86e6c40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:47.000000', 'message', 'group', '1325530101', '[{"type": "text", "data": {"text": "èµ·è¿™ä¹ˆæ™š"}}]', 'èµ·è¿™ä¹ˆæ™š'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:47.000000', 'message', 'group', '1325530101', '[{"type": "text", "data": {"text": "èµ·è¿™ä¹ˆæ™š"}}]', 'èµ·è¿™ä¹ˆæ™š'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d877ba40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86f1670 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a9440>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:47.000000', 'message', 'group', '1325530101', '[{"type": "text", "data": {"text": "èµ·è¿™ä¹ˆæ™š"}}]', 'èµ·è¿™ä¹ˆæ™š'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bfd50>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bfd50>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-71, started daemon 140567920809728)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8bf19d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1210>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:32:47.000000', 'message', 'group', '1325530101', '[{"type": "text", "data": {"text": "èµ·è¿™ä¹ˆæ™š"}}]', 'èµ·è¿™ä¹ˆæ™š', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81c56d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:34:05.000000', 'message', 'group', '1680648246', '[{"type": "text", "data": {"text": "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"}}]', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:34:05.000000', 'message', 'group', '1680648246', '[{"type": "text", "data": {"text": "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"}}]', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10410c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d87faf60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a98c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:34:05.000000', 'message', 'group', '1680648246', '[{"type": "text", "data": {"text": "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"}}]', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d2b90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d2b90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-84, stopped daemon 140567811704576)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1e40>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fd8640>, <coroutine object _run_coro_with_catch at 0x7fd8d0fd8940>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d0fd83c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052445, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d1733be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d1733c70>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d1733be0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d87faf60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d1733c70>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d1733c70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d1733ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d1733ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d1733c70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d81c5ca0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1733100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1733100>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81c56d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1617678696', 'time': datetime.datetime(2022, 3, 12, 2, 34, 5, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81c56d0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81c56d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81c56d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81c56d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81c56d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:34:05.000000', 'message', 'group', '1680648246', '[{"type": "text", "data": {"text": "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"}}]', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:34:05.000000', 'message', 'group', '1680648246', '[{"type": "text", "data": {"text": "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"}}]', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10410c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d87faf60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a98c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:34:05.000000', 'message', 'group', '1680648246', '[{"type": "text", "data": {"text": "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"}}]', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d2b90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d2b90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-84, stopped daemon 140567811704576)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d10a7310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1e40>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:34:05.000000', 'message', 'group', '1680648246', '[{"type": "text", "data": {"text": "ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—"}}]', 'ï¼Ÿç§èŠä¼šè¢«æ£€æµ‹çš„å—', '1617678696', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d899c820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '-1592812839', '[{"type": "text", "data": {"text": "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"}}]'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '-1592812839', '[{"type": "text", "data": {"text": "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"}}]'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0fdf740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f9bb40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d85f0cc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '-1592812839', '[{"type": "text", "data": {"text": "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"}}]'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf570>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf570>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-97, stopped daemon 140567702599424)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85abb70>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d87fc3c0>, <coroutine object _run_coro_with_catch at 0x7fd8d87fc840>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d85c05c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052361, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8460790>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84606a0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8460790>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0f9bb40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d84606a0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84606a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8460610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8460610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84606a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d899c100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8460700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8460700>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d899c820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 32, 41, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d899c820>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d899c820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d899c820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d899c820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d899c820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '-1592812839', '[{"type": "text", "data": {"text": "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"}}]'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '-1592812839', '[{"type": "text", "data": {"text": "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"}}]'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0fdf740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f9bb40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d85f0cc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '-1592812839', '[{"type": "text", "data": {"text": "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"}}]'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf570>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf570>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-97, stopped daemon 140567702599424)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8499ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85abb70>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '-1592812839', '[{"type": "text", "data": {"text": "çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š"}}]', 'çŽ°åœ¨å¥¹çš„å·æŒ‚åœ¨æœåŠ¡å™¨ä¸Š', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a07070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:08:37.000000', 'message', 'group', '139560894', '[{"type": "text", "data": {"text": "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"}}]', 'éƒ½åªè°ƒ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:08:37.000000', 'message', 'group', '139560894', '[{"type": "text", "data": {"text": "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"}}]', 'éƒ½åªè°ƒ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1743140>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8351460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a91c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:08:37.000000', 'message', 'group', '139560894', '[{"type": "text", "data": {"text": "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"}}]', 'éƒ½åªè°ƒ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf180>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf180>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-57, stopped daemon 140568038307584)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d860a4e0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d82e2cc0>, <coroutine object _run_coro_with_catch at 0x7fd8d179aec0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d82e2640>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647050917, self_id=507346814, post_type='message', sub_type='normal', user_id=1337831451, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8085550>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8085e50>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8085550>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8351460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8085e50>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8085e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8085520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8085520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8085e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8a07550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8a07a60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8a07a60>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a07070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1337831451', 'time': datetime.datetime(2022, 3, 12, 2, 8, 37, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a07070>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a07070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a07070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a07070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a07070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:08:37.000000', 'message', 'group', '139560894', '[{"type": "text", "data": {"text": "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"}}]', 'éƒ½åªè°ƒ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:08:37.000000', 'message', 'group', '139560894', '[{"type": "text", "data": {"text": "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"}}]', 'éƒ½åªè°ƒ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1743140>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8351460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a91c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:08:37.000000', 'message', 'group', '139560894', '[{"type": "text", "data": {"text": "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"}}]', 'éƒ½åªè°ƒ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf180>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf180>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-57, stopped daemon 140568038307584)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8384310>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d860a4e0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:08:37.000000', 'message', 'group', '139560894', '[{"type": "text", "data": {"text": "éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡"}}]', 'éƒ½åªè°ƒè¯•è¿‡å‡ æ¬¡', '1337831451', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:12 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:12 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16c09a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:17.000000', 'message', 'group', '124386723', '[{"type": "at", "data": {"qq": "3479060093"}}]', '', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d89deee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d89deee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:17.000000', 'message', 'group', '124386723', '[{"type": "at", "data": {"qq": "3479060093"}}]', '', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d89deee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8ae9040>
           â”” <_AsyncIoGreenlet object at 0x7fd8d89b2460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d889e840>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:17.000000', 'message', 'group', '124386723', '[{"type": "at", "data": {"qq": "3479060093"}}]', '', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d0340>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d0340>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-128, stopped daemon 140567442425600)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8be1a80>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d80c5440>, <coroutine object _run_coro_with_catch at 0x7fd8d80c55c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d80c5340>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052577, self_id=507346814, post_type='message', sub_type='normal', user_id=3531890582, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d84d9a60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84d9310>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d84d9a60>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d89b2460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d84d9310>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84d9310>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84d9a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84d9a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84d9310>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d16c0130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d16c01f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d16c01f0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16c09a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3531890582', 'time': datetime.datetime(2022, 3, 12, 2, 36, 17, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16c09a0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16c09a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16c09a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16c09a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d16c09a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:17.000000', 'message', 'group', '124386723', '[{"type": "at", "data": {"qq": "3479060093"}}]', '', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d89deee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d89deee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:17.000000', 'message', 'group', '124386723', '[{"type": "at", "data": {"qq": "3479060093"}}]', '', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d89deee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8ae9040>
           â”” <_AsyncIoGreenlet object at 0x7fd8d89b2460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d889e840>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:17.000000', 'message', 'group', '124386723', '[{"type": "at", "data": {"qq": "3479060093"}}]', '', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d0340>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d0340>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-128, stopped daemon 140567442425600)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8c8f910>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8be1a80>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:36:17.000000', 'message', 'group', '124386723', '[{"type": "at", "data": {"qq": "3479060093"}}]', '', '3531890582', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d177ca30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:29:01.000000', 'message', 'group', '16999383', '[{"type": "text", "data": {"text": "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"}}]', 'å¥¹åœ¨ä¼‘å…»ç”Ÿ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:29:01.000000', 'message', 'group', '16999383', '[{"type": "text", "data": {"text": "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"}}]', 'å¥¹åœ¨ä¼‘å…»ç”Ÿ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d888a9c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d16ef3b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d888a2c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:29:01.000000', 'message', 'group', '16999383', '[{"type": "text", "data": {"text": "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"}}]', 'å¥¹åœ¨ä¼‘å…»ç”Ÿ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf260>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf260>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-86, stopped daemon 140567794919168)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85ab120>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d85bc140>, <coroutine object _run_coro_with_catch at 0x7fd8d0f06dc0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d85bcd40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052141, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8d137f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8d13b20>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8d137f0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d16ef3b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8d13b20>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8d13b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8d13760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8d13760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8d13b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8d13970>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8d13e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8d13e50>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d177ca30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 29, 1, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d177ca30>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d177ca30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d177ca30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d177ca30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d177ca30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:29:01.000000', 'message', 'group', '16999383', '[{"type": "text", "data": {"text": "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"}}]', 'å¥¹åœ¨ä¼‘å…»ç”Ÿ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:29:01.000000', 'message', 'group', '16999383', '[{"type": "text", "data": {"text": "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"}}]', 'å¥¹åœ¨ä¼‘å…»ç”Ÿ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836cf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d888a9c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d16ef3b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d888a2c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:29:01.000000', 'message', 'group', '16999383', '[{"type": "text", "data": {"text": "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"}}]', 'å¥¹åœ¨ä¼‘å…»ç”Ÿ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bf260>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bf260>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-86, stopped daemon 140567794919168)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d88a64f0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85ab120>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:29:01.000000', 'message', 'group', '16999383', '[{"type": "text", "data": {"text": "å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯"}}]', 'å¥¹åœ¨ä¼‘å…»ç”Ÿæ¯', '2560359315', '277620613')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87fd6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '939969379', '[{"type": "text", "data": {"text": "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"}}]', 'ä½†äº‹ä»¶...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '939969379', '[{"type": "text", "data": {"text": "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"}}]', 'ä½†äº‹ä»¶...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8625640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d171b7d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d82f93c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '939969379', '[{"type": "text", "data": {"text": "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"}}]', 'ä½†äº‹ä»¶...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89e7650>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89e7650>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-99, stopped daemon 140567685814016)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85abd50>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d87fca40>, <coroutine object _run_coro_with_catch at 0x7fd8d87fce40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d95e09c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052361, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d87ef640>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d87fdf70>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d87ef640>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d171b7d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d87fdf70>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d87fdf70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87fdb80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87fdb80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d87fdf70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87fd880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d87fdfd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d87fdfd0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87fd6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 32, 41, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87fd6a0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87fd6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87fd6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87fd6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87fd6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '939969379', '[{"type": "text", "data": {"text": "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"}}]', 'ä½†äº‹ä»¶...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '939969379', '[{"type": "text", "data": {"text": "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"}}]', 'ä½†äº‹ä»¶...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8625640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d171b7d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d82f93c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '939969379', '[{"type": "text", "data": {"text": "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"}}]', 'ä½†äº‹ä»¶...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89e7650>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89e7650>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-99, stopped daemon 140567685814016)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84416d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d85abd50>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:32:41.000000', 'message', 'group', '939969379', '[{"type": "text", "data": {"text": "ä½†äº‹ä»¶å¤„ç†æ²¡å¼€"}}]', 'ä½†äº‹ä»¶å¤„ç†æ²¡å¼€', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87431c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:45.000000', 'message', 'group', '-1302040757', '[{"type": "text", "data": {"text": "çœŸå°±"}}]', 'çœŸå°±', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:45.000000', 'message', 'group', '-1302040757', '[{"type": "text", "data": {"text": "çœŸå°±"}}]', 'çœŸå°±', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d889ec40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d882d9e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d104d340>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:45.000000', 'message', 'group', '-1302040757', '[{"type": "text", "data": {"text": "çœŸå°±"}}]', 'çœŸå°±', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4030>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4030>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-136, stopped daemon 140567375283968)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8381300>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d80de540>, <coroutine object _run_coro_with_catch at 0x7fd8d80de240>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d80def40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052605, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d82a4a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d82a4040>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d82a4a90>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d882d9e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d82a4040>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d82a4040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d82a4bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d82a4bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d82a4040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8743070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8743e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8743e50>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87431c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 36, 45, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87431c0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87431c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87431c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87431c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87431c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:45.000000', 'message', 'group', '-1302040757', '[{"type": "text", "data": {"text": "çœŸå°±"}}]', 'çœŸå°±', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:45.000000', 'message', 'group', '-1302040757', '[{"type": "text", "data": {"text": "çœŸå°±"}}]', 'çœŸå°±', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d889ec40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d882d9e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d104d340>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:45.000000', 'message', 'group', '-1302040757', '[{"type": "text", "data": {"text": "çœŸå°±"}}]', 'çœŸå°±', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4030>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4030>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-136, stopped daemon 140567375283968)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8337b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8381300>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:36:45.000000', 'message', 'group', '-1302040757', '[{"type": "text", "data": {"text": "çœŸå°±"}}]', 'çœŸå°±', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8865be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:22.000000', 'message', 'group', '-1408067053', '[{"type": "text", "data": {"text": "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:22.000000', 'message', 'group', '-1408067053', '[{"type": "text", "data": {"text": "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8a78440>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8115720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d889ecc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:22.000000', 'message', 'group', '-1408067053', '[{"type": "text", "data": {"text": "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d0f80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d0f80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-143, stopped daemon 140567316535040)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8381990>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fec240>, <coroutine object _run_coro_with_catch at 0x7fd8d0fec5c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d0fec840>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052582, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0f08be0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f08a90>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0f08be0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8115720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f08a90>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f08a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0f08ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0f08ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f08a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8865700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8865640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8865640>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8865be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 36, 22, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8865be0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8865be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8865be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8865be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8865be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:22.000000', 'message', 'group', '-1408067053', '[{"type": "text", "data": {"text": "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:22.000000', 'message', 'group', '-1408067053', '[{"type": "text", "data": {"text": "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8a78440>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8115720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d889ecc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:22.000000', 'message', 'group', '-1408067053', '[{"type": "text", "data": {"text": "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d0f80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d0f80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-143, stopped daemon 140567316535040)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fb20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8381990>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:36:22.000000', 'message', 'group', '-1408067053', '[{"type": "text", "data": {"text": "å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡æœ‰æƒ³æ³•ï¼Œæ­£å¸¸èŠ"}}]', 'å¦‚æžœä½ æœ‰æƒ³æ³•ï¼Œæˆ‘ä¸çŸ¥é“ï¼›å¦‚æžœä½ æ²¡æœ‰æƒ³æ³•ï¼Œæ­£å¸¸èŠ', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84c9130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:46.000000', 'message', 'group', '321624224', '[{"type": "text", "data": {"text": "æ”¶è´­è…¾è®¯ï¼ˆé’©"}}]', 'æ”¶è´­è…¾è®¯...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:46.000000', 'message', 'group', '321624224', '[{"type": "text", "data": {"text": "æ”¶è´­è…¾è®¯ï¼ˆé’©"}}]', 'æ”¶è´­è…¾è®¯...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d15b9ec0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8d9bf60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a9e40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:33:46.000000', 'message', 'group', '321624224', '[{"type": "text", "data": {"text": "æ”¶è´­è…¾è®¯ï¼ˆé’©"}}]', 'æ”¶è´­è…¾è®¯...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d2c70>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d2c70>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-81, stopped daemon 140567836882688)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1b70>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fd8c40>, <coroutine object _run_coro_with_catch at 0x7fd8d0fd8840>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d16fa240>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052426, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83e2940>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84c9730>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83e2940>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8d9bf60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d84c9730>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84c9730>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84c9a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84c9a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d84c9730>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84c9f70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84c9100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84c9100>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84c9130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1617678696', 'time': datetime.datetime(2022, 3, 12, 2, 33, 46, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84c9130>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84c9130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84c9130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84c9130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84c9130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:46.000000', 'message', 'group', '321624224', '[{"type": "text", "data": {"text": "æ”¶è´­è…¾è®¯ï¼ˆé’©"}}]', 'æ”¶è´­è…¾è®¯...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:46.000000', 'message', 'group', '321624224', '[{"type": "text", "data": {"text": "æ”¶è´­è…¾è®¯ï¼ˆé’©"}}]', 'æ”¶è´­è…¾è®¯...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d15b9ec0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8d9bf60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16a9e40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:33:46.000000', 'message', 'group', '321624224', '[{"type": "text", "data": {"text": "æ”¶è´­è…¾è®¯ï¼ˆé’©"}}]', 'æ”¶è´­è…¾è®¯...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d2c70>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d2c70>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-81, stopped daemon 140567836882688)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d16e7220>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1b70>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:33:46.000000', 'message', 'group', '321624224', '[{"type": "text", "data": {"text": "æ”¶è´­è…¾è®¯ï¼ˆé’©"}}]', 'æ”¶è´­è…¾è®¯ï¼ˆé’©', '1617678696', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8404af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:30.000000', 'message', 'group', '-1043852484', '[{"type": "text", "data": {"text": "åæŽ‰äº†"}}]', 'åæŽ‰äº†',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:30.000000', 'message', 'group', '-1043852484', '[{"type": "text", "data": {"text": "åæŽ‰äº†"}}]', 'åæŽ‰äº†',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8aafdc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d868feb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8afd3c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:30.000000', 'message', 'group', '-1043852484', '[{"type": "text", "data": {"text": "åæŽ‰äº†"}}]', 'åæŽ‰äº†',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bfb90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bfb90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-68, stopped daemon 140567945987840)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d860ae40>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d17a4dc0>, <coroutine object _run_coro_with_catch at 0x7fd8d17a4d40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d17a4540>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052350, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d81ccdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d81cc4f0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d81ccdc0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d868feb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d81cc4f0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d81cc4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d81ccf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d81ccf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d81cc4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8404e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8404370>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8404370>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8404af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1617678696', 'time': datetime.datetime(2022, 3, 12, 2, 32, 30, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8404af0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8404af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8404af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8404af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8404af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:30.000000', 'message', 'group', '-1043852484', '[{"type": "text", "data": {"text": "åæŽ‰äº†"}}]', 'åæŽ‰äº†',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:32:30.000000', 'message', 'group', '-1043852484', '[{"type": "text", "data": {"text": "åæŽ‰äº†"}}]', 'åæŽ‰äº†',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d836c040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8aafdc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d868feb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8afd3c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:32:30.000000', 'message', 'group', '-1043852484', '[{"type": "text", "data": {"text": "åæŽ‰äº†"}}]', 'åæŽ‰äº†',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89bfb90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89bfb90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-68, stopped daemon 140567945987840)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355b80>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d860ae40>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:32:30.000000', 'message', 'group', '-1043852484', '[{"type": "text", "data": {"text": "åæŽ‰äº†"}}]', 'åæŽ‰äº†', '1617678696', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0ea84c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:20.000000', 'message', 'group', '-657251715', '[{"type": "text", "data": {"text": "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"}}]...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343d00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343d00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:20.000000', 'message', 'group', '-657251715', '[{"type": "text", "data": {"text": "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"}}]...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343d00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80698c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d1755b40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87826c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:33:20.000000', 'message', 'group', '-657251715', '[{"type": "text", "data": {"text": "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"}}]...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89e7030>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89e7030>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-103, stopped daemon 140567652243200)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d89f5210>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d87fc640>, <coroutine object _run_coro_with_catch at 0x7fd8d87fc2c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d854a940>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052400, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0ea8f70>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0ea8100>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0ea8f70>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d1755b40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d0ea8100>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0ea8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0ea8f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0ea8f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0ea8100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0ea8a60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0ea8f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0ea8f40>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0ea84c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 33, 20, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0ea84c0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0ea84c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0ea84c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0ea84c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0ea84c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:20.000000', 'message', 'group', '-657251715', '[{"type": "text", "data": {"text": "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"}}]...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343d00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343d00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:33:20.000000', 'message', 'group', '-657251715', '[{"type": "text", "data": {"text": "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"}}]...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8343d00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80698c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d1755b40 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87826c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:33:20.000000', 'message', 'group', '-657251715', '[{"type": "text", "data": {"text": "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"}}]...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89e7030>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89e7030>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-103, stopped daemon 140567652243200)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8d61400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d89f5210>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:33:20.000000', 'message', 'group', '-657251715', '[{"type": "text", "data": {"text": "çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹"}}]', 'çœ‹æ¥å¾—æŠŠç§èŠçš„æƒé™é™åˆ¶ä¸€ä¸‹', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8323e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:38:10.000000', 'message', 'group', '-264701626', '[{"type": "text", "data": {"text": "é‚£å°±æ˜¯å§"}}]', 'é‚£å°±æ˜¯å§'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe41c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe41c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:38:10.000000', 'message', 'group', '-264701626', '[{"type": "text", "data": {"text": "é‚£å°±æ˜¯å§"}}]', 'é‚£å°±æ˜¯å§'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe41c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d83079c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d868c930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87da2c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:38:10.000000', 'message', 'group', '-264701626', '[{"type": "text", "data": {"text": "é‚£å°±æ˜¯å§"}}]', 'é‚£å°±æ˜¯å§'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101ab90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101ab90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-191, stopped daemon 140566913685248)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b11b70>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d1017ec0>, <coroutine object _run_coro_with_catch at 0x7fd8d10170c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d10174c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052690, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83233a0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8323ac0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83233a0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d868c930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8323ac0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8323ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8323460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8323460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8323ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8323d60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8323dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8323dc0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8323e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 38, 10, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8323e20>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8323e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8323e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8323e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8323e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:38:10.000000', 'message', 'group', '-264701626', '[{"type": "text", "data": {"text": "é‚£å°±æ˜¯å§"}}]', 'é‚£å°±æ˜¯å§'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe41c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe41c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:38:10.000000', 'message', 'group', '-264701626', '[{"type": "text", "data": {"text": "é‚£å°±æ˜¯å§"}}]', 'é‚£å°±æ˜¯å§'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe41c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d83079c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d868c930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87da2c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:38:10.000000', 'message', 'group', '-264701626', '[{"type": "text", "data": {"text": "é‚£å°±æ˜¯å§"}}]', 'é‚£å°±æ˜¯å§'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101ab90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101ab90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-191, stopped daemon 140566913685248)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d178ee20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b11b70>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:38:10.000000', 'message', 'group', '-264701626', '[{"type": "text", "data": {"text": "é‚£å°±æ˜¯å§"}}]', 'é‚£å°±æ˜¯å§', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d15761f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:35.000000', 'message', 'group', '1881840061', '[{"type": "text", "data": {"text": "å•§"}}]', 'å•§', '963...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:35.000000', 'message', 'group', '1881840061', '[{"type": "text", "data": {"text": "å•§"}}]', 'å•§', '963...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0ec96c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d854bd50 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d83071c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:35.000000', 'message', 'group', '1881840061', '[{"type": "text", "data": {"text": "å•§"}}]', 'å•§', '963...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101aa40>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101aa40>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-161, stopped daemon 140567165466368)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916b70>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d1693e40>, <coroutine object _run_coro_with_catch at 0x7fd8d8ae9240>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d17ecb40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052655, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d89094c0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909880>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d89094c0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d854bd50 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909880>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8909f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8909f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8909880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d86dfd30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d86dfa00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d86dfa00>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d15761f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 37, 35, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d15761f0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d15761f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d15761f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d15761f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d15761f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:35.000000', 'message', 'group', '1881840061', '[{"type": "text", "data": {"text": "å•§"}}]', 'å•§', '963...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:35.000000', 'message', 'group', '1881840061', '[{"type": "text", "data": {"text": "å•§"}}]', 'å•§', '963...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bd00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0ec96c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d854bd50 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d83071c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:35.000000', 'message', 'group', '1881840061', '[{"type": "text", "data": {"text": "å•§"}}]', 'å•§', '963...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101aa40>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101aa40>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-161, stopped daemon 140567165466368)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916b70>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:35.000000', 'message', 'group', '1881840061', '[{"type": "text", "data": {"text": "å•§"}}]', 'å•§', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81e6640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:18.000000', 'message', 'group', '-1723253624', '[{"type": "text", "data": {"text": "ä¸æ˜¯"}}]', 'ä¸æ˜¯', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:18.000000', 'message', 'group', '-1723253624', '[{"type": "text", "data": {"text": "ä¸æ˜¯"}}]', 'ä¸æ˜¯', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1578540>
           â”” <_AsyncIoGreenlet object at 0x7fd8d87553b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d830ba40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:18.000000', 'message', 'group', '-1723253624', '[{"type": "text", "data": {"text": "ä¸æ˜¯"}}]', 'ä¸æ˜¯', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101a180>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101a180>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-156, stopped daemon 140567207429888)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d89166c0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8307f40>, <coroutine object _run_coro_with_catch at 0x7fd8d8307c40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8307b40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052638, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d847d940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d9613700>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d847d940>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d87553b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d9613700>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d9613700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d96135e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d96135e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d9613700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d81e6e20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d81e63d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d81e63d0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81e6640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1617678696', 'time': datetime.datetime(2022, 3, 12, 2, 37, 18, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81e6640>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81e6640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81e6640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81e6640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d81e6640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:18.000000', 'message', 'group', '-1723253624', '[{"type": "text", "data": {"text": "ä¸æ˜¯"}}]', 'ä¸æ˜¯', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:18.000000', 'message', 'group', '-1723253624', '[{"type": "text", "data": {"text": "ä¸æ˜¯"}}]', 'ä¸æ˜¯', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1578540>
           â”” <_AsyncIoGreenlet object at 0x7fd8d87553b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d830ba40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:18.000000', 'message', 'group', '-1723253624', '[{"type": "text", "data": {"text": "ä¸æ˜¯"}}]', 'ä¸æ˜¯', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101a180>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101a180>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-156, stopped daemon 140567207429888)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d89166c0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:18.000000', 'message', 'group', '-1723253624', '[{"type": "text", "data": {"text": "ä¸æ˜¯"}}]', 'ä¸æ˜¯', '1617678696', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d9617670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:29.000000', 'message', 'group', '-383531001', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '161...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:29.000000', 'message', 'group', '-383531001', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '161...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0ec93c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d82b0eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d83075c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:29.000000', 'message', 'group', '-383531001', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '161...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101a960>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101a960>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-160, stopped daemon 140567173859072)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916a80>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8a64640>, <coroutine object _run_coro_with_catch at 0x7fd8d1693ec0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8a642c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052649, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8ce2250>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d833c4c0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8ce2250>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d82b0eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d833c4c0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d833c4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87a7820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87a7820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d833c4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83c87f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d83c8550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d83c8550>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d9617670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1617678696', 'time': datetime.datetime(2022, 3, 12, 2, 37, 29, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d9617670>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d9617670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d9617670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d9617670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d9617670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:29.000000', 'message', 'group', '-383531001', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '161...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:29.000000', 'message', 'group', '-383531001', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '161...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bc40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0ec93c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d82b0eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d83075c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:29.000000', 'message', 'group', '-383531001', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '161...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101a960>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101a960>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-160, stopped daemon 140567173859072)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83378b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916a80>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:29.000000', 'message', 'group', '-383531001', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '1617678696', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:13 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87713a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:48.000000', 'message', 'group', '-527072212', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '256...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe4340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe4340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:48.000000', 'message', 'group', '-527072212', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '256...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe4340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8877740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d102e9e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d10418c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:48.000000', 'message', 'group', '-527072212', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '256...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101ad50>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101ad50>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-186, stopped daemon 140566955648768)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b116c0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d10171c0>, <coroutine object _run_coro_with_catch at 0x7fd8d1017040>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d1017440>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052668, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8771a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8771130>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8771a90>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d102e9e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8771130>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8771130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87711f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87711f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8771130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8771310>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8771f70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8771f70>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87713a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 37, 48, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87713a0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87713a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87713a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87713a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87713a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:48.000000', 'message', 'group', '-527072212', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '256...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe4340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe4340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:48.000000', 'message', 'group', '-527072212', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '256...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0fe4340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8877740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d102e9e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d10418c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:48.000000', 'message', 'group', '-527072212', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '256...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101ad50>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101ad50>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-186, stopped daemon 140566955648768)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8843070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b116c0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:48.000000', 'message', 'group', '-527072212', '[{"type": "text", "data": {"text": "ï¼Ÿ"}}]', 'ï¼Ÿ', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1500070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 03:18:14.000000', 'message', 'group', '1757333431', '[{"type": "text", "data": {"text": "...ï¼Ÿ"}}]', '...ï¼Ÿ'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e9c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e9c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 03:18:14.000000', 'message', 'group', '1757333431', '[{"type": "text", "data": {"text": "...ï¼Ÿ"}}]', '...ï¼Ÿ'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e9c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8a196c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d80ea300 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87aa740>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 03:18:14.000000', 'message', 'group', '1757333431', '[{"type": "text", "data": {"text": "...ï¼Ÿ"}}]', '...ï¼Ÿ'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e9e650>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e9e650>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-255, stopped daemon 140566384944896)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff58a0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d88d4640>, <coroutine object _run_coro_with_catch at 0x7fd8d88d42c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8d6f6c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647055094, self_id=507346814, post_type='message', sub_type='normal', user_id=3531890582, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d1500a90>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d1500be0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d1500a90>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d80ea300 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d1500be0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d1500be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d1500ca0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d1500ca0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d1500be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d15003a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1500220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1500220>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1500070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3531890582', 'time': datetime.datetime(2022, 3, 12, 3, 18, 14, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1500070>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1500070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1500070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1500070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d1500070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 03:18:14.000000', 'message', 'group', '1757333431', '[{"type": "text", "data": {"text": "...ï¼Ÿ"}}]', '...ï¼Ÿ'...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e9c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e9c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 03:18:14.000000', 'message', 'group', '1757333431', '[{"type": "text", "data": {"text": "...ï¼Ÿ"}}]', '...ï¼Ÿ'...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e9c1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8a196c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d80ea300 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87aa740>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 03:18:14.000000', 'message', 'group', '1757333431', '[{"type": "text", "data": {"text": "...ï¼Ÿ"}}]', '...ï¼Ÿ'...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e9e650>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e9e650>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-255, stopped daemon 140566384944896)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84ec400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff58a0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 03:18:14.000000', 'message', 'group', '1757333431', '[{"type": "text", "data": {"text": "...ï¼Ÿ"}}]', '...ï¼Ÿ', '3531890582', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a34f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:38.000000', 'message', 'group', '120432939', '[{"type": "text", "data": {"text": "æ²¡æƒ³åˆ°å•Š"}}]', 'æ²¡æƒ³åˆ°å•Š',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:38.000000', 'message', 'group', '120432939', '[{"type": "text", "data": {"text": "æ²¡æƒ³åˆ°å•Š"}}]', 'æ²¡æƒ³åˆ°å•Š',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0ec9340>
           â”” <_AsyncIoGreenlet object at 0x7fd8d10099e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16f57c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:38.000000', 'message', 'group', '120432939', '[{"type": "text", "data": {"text": "æ²¡æƒ³åˆ°å•Š"}}]', 'æ²¡æƒ³åˆ°å•Š',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101ace0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101ace0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-164, stopped daemon 140567140288256)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916e40>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d17ece40>, <coroutine object _run_coro_with_catch at 0x7fd8d8ae9a40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8ae9340>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052658, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8210a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8210400>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8210a30>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d10099e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8210400>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8210400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8210c10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8210c10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8210400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8ca9100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8ca93a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8ca93a0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a34f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 37, 38, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a34f10>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a34f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a34f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a34f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8a34f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:38.000000', 'message', 'group', '120432939', '[{"type": "text", "data": {"text": "æ²¡æƒ³åˆ°å•Š"}}]', 'æ²¡æƒ³åˆ°å•Š',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:38.000000', 'message', 'group', '120432939', '[{"type": "text", "data": {"text": "æ²¡æƒ³åˆ°å•Š"}}]', 'æ²¡æƒ³åˆ°å•Š',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104bf40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0ec9340>
           â”” <_AsyncIoGreenlet object at 0x7fd8d10099e0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16f57c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:38.000000', 'message', 'group', '120432939', '[{"type": "text", "data": {"text": "æ²¡æƒ³åˆ°å•Š"}}]', 'æ²¡æƒ³åˆ°å•Š',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101ace0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101ace0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-164, stopped daemon 140567140288256)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d162b3d0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916e40>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:38.000000', 'message', 'group', '120432939', '[{"type": "text", "data": {"text": "æ²¡æƒ³åˆ°å•Š"}}]', 'æ²¡æƒ³åˆ°å•Š', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d89e8190>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:50:24.000000', 'message', 'group', '1518904629', '[{"type": "text", "data": {"text": "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"}}]', 'å°±æ˜¯...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e6e1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e6e1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:50:24.000000', 'message', 'group', '1518904629', '[{"type": "text", "data": {"text": "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"}}]', 'å°±æ˜¯...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e6e1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80741c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d83e1250 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8d6fac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:50:24.000000', 'message', 'group', '1518904629', '[{"type": "text", "data": {"text": "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"}}]', 'å°±æ˜¯...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e69110>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e69110>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-233, stopped daemon 140566569584384)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0f14300>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d17498c0>, <coroutine object _run_coro_with_catch at 0x7fd8d1749bc0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d1749cc0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647053424, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d89e8880>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d89e8b80>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d89e8880>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d83e1250 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d89e8b80>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d89e8b80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d89e8af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d89e8af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d89e8b80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d89e8130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d89e8f70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d89e8f70>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d89e8190>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 50, 24, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d89e8190>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d89e8190>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d89e8190>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d89e8190>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d89e8190>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:50:24.000000', 'message', 'group', '1518904629', '[{"type": "text", "data": {"text": "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"}}]', 'å°±æ˜¯...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e6e1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e6e1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:50:24.000000', 'message', 'group', '1518904629', '[{"type": "text", "data": {"text": "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"}}]', 'å°±æ˜¯...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e6e1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d80741c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d83e1250 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8d6fac0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:50:24.000000', 'message', 'group', '1518904629', '[{"type": "text", "data": {"text": "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"}}]', 'å°±æ˜¯...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e69110>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e69110>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-233, stopped daemon 140566569584384)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d896fa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0f14300>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:50:24.000000', 'message', 'group', '1518904629', '[{"type": "text", "data": {"text": "å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„"}}]', 'å°±æ˜¯ç›´æŽ¥æ”¾å¼ƒçš„', '2560359315', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8416160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:39:44.000000', 'message', 'group', '-1774906851', '[{"type": "text", "data": {"text": "https://www.dazh...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:39:44.000000', 'message', 'group', '-1774906851', '[{"type": "text", "data": {"text": "https://www.dazh...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0f3ee40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8774720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d882b140>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:39:44.000000', 'message', 'group', '-1774906851', '[{"type": "text", "data": {"text": "https://www.dazh...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101a260>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101a260>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-174, stopped daemon 140567056361216)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d82928a0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d82a30c0>, <coroutine object _run_coro_with_catch at 0x7fd8d82a37c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d82a39c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052784, self_id=507346814, post_type='message', sub_type='normal', user_id=1183338091, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d84c9eb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83e27c0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d84c9eb0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8774720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d83e27c0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83e27c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83e2640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83e2640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83e27c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84168e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84163a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84163a0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8416160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1183338091', 'time': datetime.datetime(2022, 3, 12, 2, 39, 44, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8416160>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8416160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8416160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8416160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8416160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:39:44.000000', 'message', 'group', '-1774906851', '[{"type": "text", "data": {"text": "https://www.dazh...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:39:44.000000', 'message', 'group', '-1774906851', '[{"type": "text", "data": {"text": "https://www.dazh...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0f3ee40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8774720 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d882b140>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:39:44.000000', 'message', 'group', '-1774906851', '[{"type": "text", "data": {"text": "https://www.dazh...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101a260>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101a260>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-174, stopped daemon 140567056361216)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d86862b0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d82928a0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:39:44.000000', 'message', 'group', '-1774906851', '[{"type": "text", "data": {"text": "https://www.dazhuanlan.com/cquake/topics/1372771"}}]', 'https://www.dazhuanlan.com/cquake/topics/1372771', '1183338091', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d80f1280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:56.000000', 'message', 'group', '-2142106167', '[{"type": "text", "data": {"text": "ä½ è¯´æ˜¯"}}]', 'ä½ è¯´æ˜¯',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10084c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10084c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:56.000000', 'message', 'group', '-2142106167', '[{"type": "text", "data": {"text": "ä½ è¯´æ˜¯"}}]', 'ä½ è¯´æ˜¯',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10084c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0f2cf40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f875c0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8625740>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:56.000000', 'message', 'group', '-2142106167', '[{"type": "text", "data": {"text": "ä½ è¯´æ˜¯"}}]', 'ä½ è¯´æ˜¯',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101af10>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101af10>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-168, stopped daemon 140567106717440)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8292300>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d164eb40>, <coroutine object _run_coro_with_catch at 0x7fd8d164e8c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d164e3c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052676, self_id=507346814, post_type='message', sub_type='normal', user_id=1617678696, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8279790>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d82796a0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8279790>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0f875c0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d82796a0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d82796a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d82796d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d82796d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d82796a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d16051f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1605f70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d1605f70>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d80f1280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1617678696', 'time': datetime.datetime(2022, 3, 12, 2, 37, 56, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d80f1280>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d80f1280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d80f1280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d80f1280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d80f1280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:56.000000', 'message', 'group', '-2142106167', '[{"type": "text", "data": {"text": "ä½ è¯´æ˜¯"}}]', 'ä½ è¯´æ˜¯',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10084c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10084c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:56.000000', 'message', 'group', '-2142106167', '[{"type": "text", "data": {"text": "ä½ è¯´æ˜¯"}}]', 'ä½ è¯´æ˜¯',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10084c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0f2cf40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f875c0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8625740>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:56.000000', 'message', 'group', '-2142106167', '[{"type": "text", "data": {"text": "ä½ è¯´æ˜¯"}}]', 'ä½ è¯´æ˜¯',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101af10>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101af10>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-168, stopped daemon 140567106717440)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83cd430>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8292300>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:56.000000', 'message', 'group', '-2142106167', '[{"type": "text", "data": {"text": "ä½ è¯´æ˜¯"}}]', 'ä½ è¯´æ˜¯', '1617678696', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83d98e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:02.000000', 'message', 'group', '728579825', '[{"type": "text", "data": {"text": "ã€‚ã€‚ã€‚"}}]', 'ã€‚ã€‚ã€‚', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:02.000000', 'message', 'group', '728579825', '[{"type": "text", "data": {"text": "ã€‚ã€‚ã€‚"}}]', 'ã€‚ã€‚ã€‚', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d16936c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f79460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16933c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:02.000000', 'message', 'group', '728579825', '[{"type": "text", "data": {"text": "ã€‚ã€‚ã€‚"}}]', 'ã€‚ã€‚ã€‚', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101adc0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101adc0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-147, stopped daemon 140567282964224)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8381d50>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8d7c6c0>, <coroutine object _run_coro_with_catch at 0x7fd8d8d7c5c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d104d040>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052622, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8337100>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83370a0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8337100>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0f79460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d83370a0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83370a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8337e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8337e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83370a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83d9e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84046a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84046a0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83d98e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 37, 2, tzinfo=datetime.timezone.utc), 'platform': 'qq', '...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83d98e0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83d98e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83d98e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83d98e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83d98e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:02.000000', 'message', 'group', '728579825', '[{"type": "text", "data": {"text": "ã€‚ã€‚ã€‚"}}]', 'ã€‚ã€‚ã€‚', '...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:02.000000', 'message', 'group', '728579825', '[{"type": "text", "data": {"text": "ã€‚ã€‚ã€‚"}}]', 'ã€‚ã€‚ã€‚', '...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1008280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d16936c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f79460 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16933c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:02.000000', 'message', 'group', '728579825', '[{"type": "text", "data": {"text": "ã€‚ã€‚ã€‚"}}]', 'ã€‚ã€‚ã€‚', '...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d101adc0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d101adc0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-147, stopped daemon 140567282964224)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1540d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8381d50>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:02.000000', 'message', 'group', '728579825', '[{"type": "text", "data": {"text": "ã€‚ã€‚ã€‚"}}]', 'ã€‚ã€‚ã€‚', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d893f3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:12.000000', 'message', 'group', '1905082138', '[{"type": "text", "data": {"text": "è£…OpenCVæ•™ç¨‹å•Š"}}]', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f7d8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f7d8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:12.000000', 'message', 'group', '1905082138', '[{"type": "text", "data": {"text": "è£…OpenCVæ•™ç¨‹å•Š"}}]', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f7d8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10233c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d88aceb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d95e0bc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:40:12.000000', 'message', 'group', '1905082138', '[{"type": "text", "data": {"text": "è£…OpenCVæ•™ç¨‹å•Š"}}]', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e69650>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e69650>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-193, stopped daemon 140566896899840)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d842a6c0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d17f9340>, <coroutine object _run_coro_with_catch at 0x7fd8d17f9d40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d17f99c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052812, self_id=507346814, post_type='message', sub_type='normal', user_id=1183338091, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0fc93a0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc9700>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0fc93a0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d88aceb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc9700>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc9700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d80a5310>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d80a5310>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc9700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d177cbb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d177c7c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d177c7c0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d893f3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1183338091', 'time': datetime.datetime(2022, 3, 12, 2, 40, 12, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d893f3a0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d893f3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d893f3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d893f3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d893f3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:12.000000', 'message', 'group', '1905082138', '[{"type": "text", "data": {"text": "è£…OpenCVæ•™ç¨‹å•Š"}}]', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f7d8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f7d8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:12.000000', 'message', 'group', '1905082138', '[{"type": "text", "data": {"text": "è£…OpenCVæ•™ç¨‹å•Š"}}]', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f7d8e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10233c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d88aceb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d95e0bc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:40:12.000000', 'message', 'group', '1905082138', '[{"type": "text", "data": {"text": "è£…OpenCVæ•™ç¨‹å•Š"}}]', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e69650>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e69650>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-193, stopped daemon 140566896899840)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8686b20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d842a6c0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:40:12.000000', 'message', 'group', '1905082138', '[{"type": "text", "data": {"text": "è£…OpenCVæ•™ç¨‹å•Š"}}]', 'è£…OpenCVæ•™ç¨‹å•Š', '1183338091', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d85524f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:58.000000', 'message', 'group', '1165049638', '[{"type": "text", "data": {"text": "æ­£å¸¸èŠ"}}]', 'æ­£å¸¸èŠ', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:58.000000', 'message', 'group', '1165049638', '[{"type": "text", "data": {"text": "æ­£å¸¸èŠ"}}]', 'æ­£å¸¸èŠ', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10105c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d880a510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8040bc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:35:58.000000', 'message', 'group', '1165049638', '[{"type": "text", "data": {"text": "æ­£å¸¸èŠ"}}]', 'æ­£å¸¸èŠ', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d0960>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d0960>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-142, stopped daemon 140567324927744)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d83818a0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fecc40>, <coroutine object _run_coro_with_catch at 0x7fd8d0fec6c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d0fec040>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052558, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8a120a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8a12280>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8a120a0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d880a510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8a12280>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8a12280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8a12b50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8a12b50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8a12280>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8552f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d85520a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d85520a0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d85524f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 35, 58, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d85524f0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d85524f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d85524f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d85524f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d85524f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:58.000000', 'message', 'group', '1165049638', '[{"type": "text", "data": {"text": "æ­£å¸¸èŠ"}}]', 'æ­£å¸¸èŠ', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:58.000000', 'message', 'group', '1165049638', '[{"type": "text", "data": {"text": "æ­£å¸¸èŠ"}}]', 'æ­£å¸¸èŠ', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d87cf820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d10105c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d880a510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8040bc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:35:58.000000', 'message', 'group', '1165049638', '[{"type": "text", "data": {"text": "æ­£å¸¸èŠ"}}]', 'æ­£å¸¸èŠ', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89d0960>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89d0960>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-142, stopped daemon 140567324927744)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8355a90>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d83818a0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:35:58.000000', 'message', 'group', '1165049638', '[{"type": "text", "data": {"text": "æ­£å¸¸èŠ"}}]', 'æ­£å¸¸èŠ', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d159aaf0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:23.000000', 'message', 'group', '2001165732', '[{"type": "text", "data": {"text": "ç”·äººå˜›"}}]', 'ç”·äººå˜›', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:23.000000', 'message', 'group', '2001165732', '[{"type": "text", "data": {"text": "ç”·äººå˜›"}}]', 'ç”·äººå˜›', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8b1eb40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86453b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8b1ecc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:23.000000', 'message', 'group', '2001165732', '[{"type": "text", "data": {"text": "ç”·äººå˜›"}}]', 'ç”·äººå˜›', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0fe1f10>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0fe1f10>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-183, stopped daemon 140566980826880)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b113f0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d1017a40>, <coroutine object _run_coro_with_catch at 0x7fd8d1017840>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d1749a40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052643, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d803b4c0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812700>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d803b4c0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d86453b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812700>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8812e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8812e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8812700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d159af40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d159a130>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d159a130>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d159aaf0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 37, 23, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d159aaf0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d159aaf0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d159aaf0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d159aaf0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d159aaf0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:23.000000', 'message', 'group', '2001165732', '[{"type": "text", "data": {"text": "ç”·äººå˜›"}}]', 'ç”·äººå˜›', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:23.000000', 'message', 'group', '2001165732', '[{"type": "text", "data": {"text": "ç”·äººå˜›"}}]', 'ç”·äººå˜›', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8b1eb40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86453b0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8b1ecc0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:23.000000', 'message', 'group', '2001165732', '[{"type": "text", "data": {"text": "ç”·äººå˜›"}}]', 'ç”·äººå˜›', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0fe1f10>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0fe1f10>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-183, stopped daemon 140566980826880)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fdf0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8b113f0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:23.000000', 'message', 'group', '2001165732', '[{"type": "text", "data": {"text": "ç”·äººå˜›"}}]', 'ç”·äººå˜›', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8b7ee50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:12.000000', 'message', 'group', '-1128274055', '[{"type": "text", "data": {"text": "æœ‰æ•…äº‹"}}]', 'æœ‰æ•…äº‹',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:12.000000', 'message', 'group', '-1128274055', '[{"type": "text", "data": {"text": "æœ‰æ•…äº‹"}}]', 'æœ‰æ•…äº‹',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8b1ea40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86cfa90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8b1ef40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:12.000000', 'message', 'group', '-1128274055', '[{"type": "text", "data": {"text": "æœ‰æ•…äº‹"}}]', 'æœ‰æ•…äº‹',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0fe1f80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0fe1f80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-152, stopped daemon 140567241000704)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916300>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d82f9040>, <coroutine object _run_coro_with_catch at 0x7fd8d8b1e540>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d82f9ac0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052632, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d15fa430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15fa940>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d15fa430>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d86cfa90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d15fa940>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15fa940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d15faa00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d15faa00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15fa940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d80a7490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d80a7ee0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d80a7ee0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8b7ee50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 37, 12, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8b7ee50>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8b7ee50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8b7ee50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8b7ee50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8b7ee50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:12.000000', 'message', 'group', '-1128274055', '[{"type": "text", "data": {"text": "æœ‰æ•…äº‹"}}]', 'æœ‰æ•…äº‹',...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:12.000000', 'message', 'group', '-1128274055', '[{"type": "text", "data": {"text": "æœ‰æ•…äº‹"}}]', 'æœ‰æ•…äº‹',...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d104b760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8b1ea40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86cfa90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8b1ef40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:12.000000', 'message', 'group', '-1128274055', '[{"type": "text", "data": {"text": "æœ‰æ•…äº‹"}}]', 'æœ‰æ•…äº‹',...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0fe1f80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0fe1f80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-152, stopped daemon 140567241000704)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d893fcd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8916300>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:12.000000', 'message', 'group', '-1128274055', '[{"type": "text", "data": {"text": "æœ‰æ•…äº‹"}}]', 'æœ‰æ•…äº‹', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87bf700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:30:55.000000', 'message', 'group', '-1206604904', '[{"type": "image", "data": {"file": "27e4ac7b4638bfd...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:30:55.000000', 'message', 'group', '-1206604904', '[{"type": "image", "data": {"file": "27e4ac7b4638bfd...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8a19840>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8582040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d84529c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:30:55.000000', 'message', 'group', '-1206604904', '[{"type": "image", "data": {"file": "27e4ac7b4638bfd...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e25810>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e25810>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-272, stopped daemon 140568231339776)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0eb08a0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d17f9440>, <coroutine object _run_coro_with_catch at 0x7fd8d830b4c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d830bdc0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048655, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d86a9460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86a9520>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d86a9460>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8582040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d86a9520>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86a9520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87bf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87bf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86a9520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d87bffa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d87bff40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d87bff40>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87bf700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 1, 30, 55, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87bf700>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87bf700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87bf700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87bf700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d87bf700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:30:55.000000', 'message', 'group', '-1206604904', '[{"type": "image", "data": {"file": "27e4ac7b4638bfd...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:30:55.000000', 'message', 'group', '-1206604904', '[{"type": "image", "data": {"file": "27e4ac7b4638bfd...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8a19840>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8582040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d84529c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:30:55.000000', 'message', 'group', '-1206604904', '[{"type": "image", "data": {"file": "27e4ac7b4638bfd...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e25810>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e25810>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-272, stopped daemon 140568231339776)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899fa00>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0eb08a0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:30:55.000000', 'message', 'group', '-1206604904', '[{"type": "image", "data": {"file": "27e4ac7b4638bfdb53a0f198b84351be.image", "url": "https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2796056680-27E4AC7B4638BFDB53A0F198B84351BE/0?term=3", "subType": "1"}}]', '', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cb1880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:25.000000', 'message', 'group', '296554194', '[{"type": "image", "data": {"file": "5ef49d8b0147fc213...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:25.000000', 'message', 'group', '296554194', '[{"type": "image", "data": {"file": "5ef49d8b0147fc213...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8040e40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0e2a930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8afdec0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:14:25.000000', 'message', 'group', '296554194', '[{"type": "image", "data": {"file": "5ef49d8b0147fc213...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e34f80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e34f80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-283, stopped daemon 140566158341888)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e273f0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8831440>, <coroutine object _run_coro_with_catch at 0x7fd8d8831ac0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d17c02c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647044065, self_id=507346814, post_type='message', sub_type='normal', user_id=594352301, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0fc9d00>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc92e0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0fc9d00>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0e2a930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc92e0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc92e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d10b1040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d10b1040>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0fc92e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8cb18b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8cb1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8cb1fa0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cb1880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '594352301', 'time': datetime.datetime(2022, 3, 12, 0, 14, 25, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cb1880>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cb1880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cb1880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cb1880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cb1880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:25.000000', 'message', 'group', '296554194', '[{"type": "image", "data": {"file": "5ef49d8b0147fc213...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:25.000000', 'message', 'group', '296554194', '[{"type": "image", "data": {"file": "5ef49d8b0147fc213...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8040e40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0e2a930 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8afdec0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:14:25.000000', 'message', 'group', '296554194', '[{"type": "image", "data": {"file": "5ef49d8b0147fc213...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e34f80>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e34f80>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-283, stopped daemon 140566158341888)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15ba3a0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e273f0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 00:14:25.000000', 'message', 'group', '296554194', '[{"type": "image", "data": {"file": "5ef49d8b0147fc213092b84f174ad98a.image", "url": "https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2927092429-5EF49D8B0147FC213092B84F174AD98A/0?term=3", "subType": "0"}}]', '', '594352301', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8d13bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:12.000000', 'message', 'group', '1133745268', '[{"type": "text", "data": {"text": "ä¸ðŸ”’äº†"}}]', 'ä¸ðŸ”’äº†', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f753a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f753a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:12.000000', 'message', 'group', '1133745268', '[{"type": "text", "data": {"text": "ä¸ðŸ”’äº†"}}]', 'ä¸ðŸ”’äº†', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f753a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d17df740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d10737d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d179a6c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:44:12.000000', 'message', 'group', '1133745268', '[{"type": "text", "data": {"text": "ä¸ðŸ”’äº†"}}]', 'ä¸ðŸ”’äº†', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e69b20>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e69b20>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-208, stopped daemon 140566771009280)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d10a8990>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d83073c0>, <coroutine object _run_coro_with_catch at 0x7fd8d842c040>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d842c3c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647053052, self_id=507346814, post_type='message', sub_type='normal', user_id=3479060093, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88cd0a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88cd520>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88cd0a0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d10737d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d88cd520>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88cd520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88cdeb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88cdeb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88cd520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0fb4f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0fb41c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0fb41c0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8d13bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3479060093', 'time': datetime.datetime(2022, 3, 12, 2, 44, 12, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8d13bb0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8d13bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8d13bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8d13bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8d13bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:12.000000', 'message', 'group', '1133745268', '[{"type": "text", "data": {"text": "ä¸ðŸ”’äº†"}}]', 'ä¸ðŸ”’äº†', ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f753a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f753a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:12.000000', 'message', 'group', '1133745268', '[{"type": "text", "data": {"text": "ä¸ðŸ”’äº†"}}]', 'ä¸ðŸ”’äº†', ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f753a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d17df740>
           â”” <_AsyncIoGreenlet object at 0x7fd8d10737d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d179a6c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:44:12.000000', 'message', 'group', '1133745268', '[{"type": "text", "data": {"text": "ä¸ðŸ”’äº†"}}]', 'ä¸ðŸ”’äº†', ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e69b20>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e69b20>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-208, stopped daemon 140566771009280)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d81c5fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d10a8990>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:44:12.000000', 'message', 'group', '1133745268', '[{"type": "text", "data": {"text": "ä¸ðŸ”’äº†"}}]', 'ä¸ðŸ”’äº†', '3479060093', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:14 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d82e1490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:53.000000', 'message', 'group', '1986170814', '[{"type": "image", "data": {"file": "0379636bddb00222...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c2e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c2e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:53.000000', 'message', 'group', '1986170814', '[{"type": "image", "data": {"file": "0379636bddb00222...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c2e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d961bd40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d85825c0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8452040>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:20:53.000000', 'message', 'group', '1986170814', '[{"type": "image", "data": {"file": "0379636bddb00222...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e25880>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e25880>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-273, stopped daemon 140566242268928)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0eb0990>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d15d35c0>, <coroutine object _run_coro_with_catch at 0x7fd8d15d3b40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8b62cc0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647048053, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8b17460>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b17f10>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8b17460>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d85825c0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b17f10>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b17f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8b17670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8b17670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8b17f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d82e1d30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d82e1eb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d82e1eb0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d82e1490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 1, 20, 53, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d82e1490>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d82e1490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d82e1490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d82e1490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d82e1490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:53.000000', 'message', 'group', '1986170814', '[{"type": "image", "data": {"file": "0379636bddb00222...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c2e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c2e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 01:20:53.000000', 'message', 'group', '1986170814', '[{"type": "image", "data": {"file": "0379636bddb00222...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e2c2e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d961bd40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d85825c0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8452040>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 01:20:53.000000', 'message', 'group', '1986170814', '[{"type": "image", "data": {"file": "0379636bddb00222...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e25880>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e25880>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-273, stopped daemon 140566242268928)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d899f460>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0eb0990>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 01:20:53.000000', 'message', 'group', '1986170814', '[{"type": "image", "data": {"file": "0379636bddb00222a599adaf2a4d74e3.image", "url": "https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2377617958-0379636BDDB00222A599ADAF2A4D74E3/0?term=3", "subType": "1"}}]', '', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ec070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:09.000000', 'message', 'group', '1527237246', '[{"type": "at", "data": {"qq": "1617678696"}}, {"type...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eaf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eaf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:09.000000', 'message', 'group', '1527237246', '[{"type": "at", "data": {"qq": "1617678696"}}, {"type...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eaf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1743540>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86ac040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d80de1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:09.000000', 'message', 'group', '1527237246', '[{"type": "at", "data": {"qq": "1617678696"}}, {"type...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0ed5c00>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0ed5c00>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-259, stopped daemon 140566351374080)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff5e40>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8b8aac0>, <coroutine object _run_coro_with_catch at 0x7fd8d8b8a1c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8b8a5c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052629, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0ea83d0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411b80>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0ea83d0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d86ac040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411b80>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411b80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84ec1f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84ec1f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411b80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d84ec640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84ecd60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d84ecd60>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ec070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 37, 9, tzinfo=datetime.timezone.utc), 'platform': 'qq', '...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ec070>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ec070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ec070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ec070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ec070>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:09.000000', 'message', 'group', '1527237246', '[{"type": "at", "data": {"qq": "1617678696"}}, {"type...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eaf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eaf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:37:09.000000', 'message', 'group', '1527237246', '[{"type": "at", "data": {"qq": "1617678696"}}, {"type...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eaf1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d1743540>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86ac040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d80de1c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:37:09.000000', 'message', 'group', '1527237246', '[{"type": "at", "data": {"qq": "1617678696"}}, {"type...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0ed5c00>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0ed5c00>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-259, stopped daemon 140566351374080)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8201e20>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff5e40>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:37:09.000000', 'message', 'group', '1527237246', '[{"type": "at", "data": {"qq": "1617678696"}}, {"type": "text", "data": {"text": " æœ‰æ•…äº‹"}}]', ' æœ‰æ•…äº‹', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8474430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:57:36.000000', 'message', 'group', '-272538795', '[{"type": "text", "data": {"text": "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:57:36.000000', 'message', 'group', '-272538795', '[{"type": "text", "data": {"text": "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8069ac0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8125a90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d80694c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:57:36.000000', 'message', 'group', '-272538795', '[{"type": "text", "data": {"text": "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e912d0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e912d0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-242, stopped daemon 140566494050048)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0f14b70>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d80cb740>, <coroutine object _run_coro_with_catch at 0x7fd8d16c1e40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d8b41c40>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647053856, self_id=507346814, post_type='message', sub_type='normal', user_id=3479060093, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8686f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8686760>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8686f10>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8125a90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8686760>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8686760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8686fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8686fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8686760>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d10a7100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d86865b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d86865b0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8474430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3479060093', 'time': datetime.datetime(2022, 3, 12, 2, 57, 36, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8474430>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8474430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8474430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8474430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8474430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:57:36.000000', 'message', 'group', '-272538795', '[{"type": "text", "data": {"text": "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:57:36.000000', 'message', 'group', '-272538795', '[{"type": "text", "data": {"text": "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8069ac0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8125a90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d80694c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:57:36.000000', 'message', 'group', '-272538795', '[{"type": "text", "data": {"text": "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e912d0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e912d0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-242, stopped daemon 140566494050048)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15d5370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0f14b70>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:57:36.000000', 'message', 'group', '-272538795', '[{"type": "text", "data": {"text": "åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•è¥¿å°±å¯ä»¥ä¸Š211äº†"}}]', 'åœ¨æ²³å—è€ƒä¸Šä¸€æœ¬çš„åˆ†å†å¤šåæ¥åˆ† åœ¨é™•è¥¿å°±å¯ä»¥ä¸Š211äº†', '3479060093', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running CalledAPI hook. Running cancelled!
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d10b1e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 03:21:07.332766', 'message', 'private', '-1885185892', '[{"type": "text", "data": {"text": "å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eb83a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eb83a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 03:21:07.332766', 'message', 'private', '-1885185892', '[{"type": "text", "data": {"text": "å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eb83a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8aca940>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8091510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d0f31140>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 03:21:07.332766', 'message', 'private', '-1885185892', '[{"type": "text", "data": {"text": "å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0eddea0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0eddea0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-257, stopped daemon 140566368159488)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff5a80>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 104, in call_api
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object record_send_msg at 0x7fd8d16f54c0>, <coroutine object record_send_msg at 0x7fd8d16f5a40>, <coroutine objec...
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 75, in record_send_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d95f02b0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d841e640>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d95f02b0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8091510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d841e640>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d841e640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d10b1d60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d10b1d60>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d841e640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d10b1fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d10b1be0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d10b1be0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d10b1e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '507346814', 'time': datetime.datetime(2022, 3, 12, 3, 21, 7, 332766), 'platform': 'qq', 'group_id': '', 'alt_me...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d10b1e80>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d10b1e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d10b1e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d10b1e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d10b1e80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 03:21:07.332766', 'message', 'private', '-1885185892', '[{"type": "text", "data": {"text": "å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eb83a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eb83a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 03:21:07.332766', 'message', 'private', '-1885185892', '[{"type": "text", "data": {"text": "å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0eb83a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8aca940>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8091510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d0f31140>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 03:21:07.332766', 'message', 'private', '-1885185892', '[{"type": "text", "data": {"text": "å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0eddea0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0eddea0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-257, stopped daemon 140566368159488)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8050370>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff5a80>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 03:21:07.332766', 'message', 'private', '-1885185892', '[{"type": "text", "data": {"text": "å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q59azBQ3"}}]', 'å‘œâ€”â€”å‡ºé”™äº†...è¿½è¸ª: q59azBQ3', '507346814', '')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8861e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 03:12:55.000000', 'message', 'group', '-2035243365', '[{"type": "text", "data": {"text": "ç»™ä½ è®²ä¸ªç¬‘è¯"}}]', 'ç»™ä½ ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 03:12:55.000000', 'message', 'group', '-2035243365', '[{"type": "text", "data": {"text": "ç»™ä½ è®²ä¸ªç¬‘è¯"}}]', 'ç»™ä½ ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d83a79c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d80d37d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87aa440>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 03:12:55.000000', 'message', 'group', '-2035243365', '[{"type": "text", "data": {"text": "ç»™ä½ è®²ä¸ªç¬‘è¯"}}]', 'ç»™ä½ ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e9e2d0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e9e2d0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-252, stopped daemon 140566410123008)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff55d0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8d6f4c0>, <coroutine object _run_coro_with_catch at 0x7fd8d807b640>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d807b7c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647054775, self_id=507346814, post_type='message', sub_type='normal', user_id=3479060093, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88611f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88610d0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88611f0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d80d37d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d88610d0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88610d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8861af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8861af0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88610d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8861550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8861a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8861a90>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8861e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3479060093', 'time': datetime.datetime(2022, 3, 12, 3, 12, 55, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8861e50>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8861e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8861e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8861e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8861e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 03:12:55.000000', 'message', 'group', '-2035243365', '[{"type": "text", "data": {"text": "ç»™ä½ è®²ä¸ªç¬‘è¯"}}]', 'ç»™ä½ ...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 03:12:55.000000', 'message', 'group', '-2035243365', '[{"type": "text", "data": {"text": "ç»™ä½ è®²ä¸ªç¬‘è¯"}}]', 'ç»™ä½ ...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e92f40>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d83a79c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d80d37d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d87aa440>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 03:12:55.000000', 'message', 'group', '-2035243365', '[{"type": "text", "data": {"text": "ç»™ä½ è®²ä¸ªç¬‘è¯"}}]', 'ç»™ä½ ...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e9e2d0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e9e2d0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-252, stopped daemon 140566410123008)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8be8fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0ff55d0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 03:12:55.000000', 'message', 'group', '-2035243365', '[{"type": "text", "data": {"text": "ç»™ä½ è®²ä¸ªç¬‘è¯"}}]', 'ç»™ä½ è®²ä¸ªç¬‘è¯', '3479060093', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176ea90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:09.000000', 'message', 'group', '-2002493592', '[{"type": "image", "data": {"file": "5fc16bf8fc0909c...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:09.000000', 'message', 'group', '-2002493592', '[{"type": "image", "data": {"file": "5fc16bf8fc0909c...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8840540>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0e38250 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d0fbec40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:14:09.000000', 'message', 'group', '-2002493592', '[{"type": "image", "data": {"file": "5fc16bf8fc0909c...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e42180>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e42180>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-285, stopped daemon 140566141556480)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e275d0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fbe8c0>, <coroutine object _run_coro_with_catch at 0x7fd8d0fbe9c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d0fbe840>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647044049, self_id=507346814, post_type='message', sub_type='normal', user_id=594352301, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d15ba7c0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15ba790>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d15ba7c0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0e38250 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d15ba790>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15ba790>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d176e8b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d176e8b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d15ba790>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d176e340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d176e790>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d176e790>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176ea90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '594352301', 'time': datetime.datetime(2022, 3, 12, 0, 14, 9, tzinfo=datetime.timezone.utc), 'platform': 'qq', '...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176ea90>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176ea90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176ea90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176ea90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d176ea90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:09.000000', 'message', 'group', '-2002493592', '[{"type": "image", "data": {"file": "5fc16bf8fc0909c...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 00:14:09.000000', 'message', 'group', '-2002493592', '[{"type": "image", "data": {"file": "5fc16bf8fc0909c...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0e3c340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8840540>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0e38250 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d0fbec40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 00:14:09.000000', 'message', 'group', '-2002493592', '[{"type": "image", "data": {"file": "5fc16bf8fc0909c...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e42180>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e42180>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-285, stopped daemon 140566141556480)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d17292e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e275d0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 00:14:09.000000', 'message', 'group', '-2002493592', '[{"type": "image", "data": {"file": "5fc16bf8fc0909caa7fe305e1d98d046.image", "url": "https://gchat.qpic.cn/gchatpic_new/594352301/204222191-2168538649-5FC16BF8FC0909CAA7FE305E1D98D046/0?term=3", "subType": "0"}}]', '', '594352301', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.GroupIncreaseNoticeEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.GroupIncreaseNoticeEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d824cd30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:29.000000', 'message', 'group', '-1646104471', '[{"type": "image", "data": {"file": "4e994f1332634eb...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10638e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10638e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:29.000000', 'message', 'group', '-1646104471', '[{"type": "image", "data": {"file": "4e994f1332634eb...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10638e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0f2c9c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8297f60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d1017940>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:35:29.000000', 'message', 'group', '-1646104471', '[{"type": "image", "data": {"file": "4e994f1332634eb...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d16e06c0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d16e06c0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-296, started daemon 140567123502848)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8be1210>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d174f640>, <coroutine object _run_coro_with_catch at 0x7fd8d174f440>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d174f6c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052529, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d899f9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8088490>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d899f9a0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8297f60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8088490>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8088490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d80885e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d80885e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8088490>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0f44160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0f44580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0f44580>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d824cd30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 35, 29, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d824cd30>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d824cd30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d824cd30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d824cd30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d824cd30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:29.000000', 'message', 'group', '-1646104471', '[{"type": "image", "data": {"file": "4e994f1332634eb...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10638e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10638e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:29.000000', 'message', 'group', '-1646104471', '[{"type": "image", "data": {"file": "4e994f1332634eb...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10638e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d0f2c9c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8297f60 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d1017940>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:35:29.000000', 'message', 'group', '-1646104471', '[{"type": "image", "data": {"file": "4e994f1332634eb...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d16e06c0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d16e06c0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-296, started daemon 140567123502848)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83c3100>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8be1210>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:35:29.000000', 'message', 'group', '-1646104471', '[{"type": "image", "data": {"file": "4e994f1332634ebdd46b4a939fd704e3.image", "url": "https://gchat.qpic.cn/gchatpic_new/963046537/937760225-2190839201-4E994F1332634EBDD46B4A939FD704E3/0?term=3", "subType": "1"}}]', '', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83ee5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:05.000000', 'message', 'group', '224226808', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:05.000000', 'message', 'group', '224226808', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d85507c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f88510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8550f40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:35:05.000000', 'message', 'group', '224226808', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d1538500>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d1538500>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-292, started daemon 140567576708864)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8292030>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d17f3d40>, <coroutine object _run_coro_with_catch at 0x7fd8d17f3c40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d17f3dc0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052505, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83ee430>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83ee160>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d83ee430>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d0f88510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d83ee160>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83ee160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83ee220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83ee220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d83ee160>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83ee4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d83eeb80>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d83eeb80>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83ee5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 35, 5, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83ee5e0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83ee5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83ee5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83ee5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d83ee5e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:05.000000', 'message', 'group', '224226808', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:35:05.000000', 'message', 'group', '224226808', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063460>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d85507c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d0f88510 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8550f40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:35:05.000000', 'message', 'group', '224226808', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d1538500>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d1538500>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-292, started daemon 140567576708864)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d1684070>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8292030>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:35:05.000000', 'message', 'group', '224226808', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f0bb083f0d751db4.image", "url": "https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-2804430082-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3", "subType": "1"}}]', '', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8289640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:25.000000', 'message', 'group', '-619337083', '[{"type": "image", "data": {"file": "2a91182255ae9e4e...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10630a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10630a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:25.000000', 'message', 'group', '-619337083', '[{"type": "image", "data": {"file": "2a91182255ae9e4e...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10630a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d842c640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8a15e00 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8c914c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:25.000000', 'message', 'group', '-619337083', '[{"type": "image", "data": {"file": "2a91182255ae9e4e...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e89960>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e89960>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-300, stopped daemon 140566107985664)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e27990>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d82e2540>, <coroutine object _run_coro_with_catch at 0x7fd8d82e29c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d82e26c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052585, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8834bb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8834fd0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8834bb0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8a15e00 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8834fd0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8834fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8a18820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8a18820>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8834fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8a18b50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8a18700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8a18700>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8289640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 36, 25, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8289640>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8289640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8289640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8289640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8289640>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:25.000000', 'message', 'group', '-619337083', '[{"type": "image", "data": {"file": "2a91182255ae9e4e...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10630a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10630a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:25.000000', 'message', 'group', '-619337083', '[{"type": "image", "data": {"file": "2a91182255ae9e4e...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d10630a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d842c640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8a15e00 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8c914c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:25.000000', 'message', 'group', '-619337083', '[{"type": "image", "data": {"file": "2a91182255ae9e4e...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e89960>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e89960>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-300, stopped daemon 140566107985664)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d841e550>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e27990>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:36:25.000000', 'message', 'group', '-619337083', '[{"type": "image", "data": {"file": "2a91182255ae9e4e98878a87840f86a6.image", "url": "https://gchat.qpic.cn/gchatpic_new/2560359315/937760225-3191104855-2A91182255AE9E4E98878A87840F86A6/0?term=3", "subType": "1"}}]', '', '2560359315', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ce550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:05.000000', 'message', 'group', '249541000', '[{"type": "image", "data": {"file": "62c3aa99f9ee6b80b...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f50700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f50700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:05.000000', 'message', 'group', '249541000', '[{"type": "image", "data": {"file": "62c3aa99f9ee6b80b...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f50700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d889e3c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d80b8eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16851c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:43:05.000000', 'message', 'group', '249541000', '[{"type": "image", "data": {"file": "62c3aa99f9ee6b80b...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4c00>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4c00>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-319, stopped daemon 140566838150912)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d89f5d50>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d8040b40>, <coroutine object _run_coro_with_catch at 0x7fd8d16cd7c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d859dbc0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052985, self_id=507346814, post_type='message', sub_type='normal', user_id=3479060093, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d874b730>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8474f10>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d874b730>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d80b8eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8474f10>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8474f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8904a00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8904a00>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8474f10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8201940>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88fdbe0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88fdbe0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ce550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3479060093', 'time': datetime.datetime(2022, 3, 12, 2, 43, 5, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ce550>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ce550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ce550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ce550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d84ce550>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:05.000000', 'message', 'group', '249541000', '[{"type": "image", "data": {"file": "62c3aa99f9ee6b80b...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f50700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f50700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:05.000000', 'message', 'group', '249541000', '[{"type": "image", "data": {"file": "62c3aa99f9ee6b80b...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d0f50700>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d889e3c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d80b8eb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16851c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:43:05.000000', 'message', 'group', '249541000', '[{"type": "image", "data": {"file": "62c3aa99f9ee6b80b...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4c00>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4c00>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-319, stopped daemon 140566838150912)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d95e0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d89f5d50>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:43:05.000000', 'message', 'group', '249541000', '[{"type": "image", "data": {"file": "62c3aa99f9ee6b80b8499ce25fd3fa34.image", "url": "https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-3071721245-62C3AA99F9EE6B80B8499CE25FD3FA34/0?term=3", "subType": "1"}}]', '', '3479060093', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8969610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:42.000000', 'message', 'group', '-1427099327', '[{"type": "image", "data": {"file": "9fdb6c1f2c2cff5...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:42.000000', 'message', 'group', '-1427099327', '[{"type": "image", "data": {"file": "9fdb6c1f2c2cff5...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8b8aa40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d81e4040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8b1e340>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:44:42.000000', 'message', 'group', '-1427099327', '[{"type": "image", "data": {"file": "9fdb6c1f2c2cff5...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d82edb20>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d82edb20>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-323, stopped daemon 140567551530752)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef120>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d164ad40>, <coroutine object _run_coro_with_catch at 0x7fd8d164a840>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d164adc0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647053082, self_id=507346814, post_type='message', sub_type='normal', user_id=2577117205, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8969ee0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8969e50>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d8969ee0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d81e4040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8969e50>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8969e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8969580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8969580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8969e50>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8969df0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8969d90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8969d90>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8969610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2577117205', 'time': datetime.datetime(2022, 3, 12, 2, 44, 42, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8969610>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8969610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8969610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8969610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8969610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:42.000000', 'message', 'group', '-1427099327', '[{"type": "image", "data": {"file": "9fdb6c1f2c2cff5...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:44:42.000000', 'message', 'group', '-1427099327', '[{"type": "image", "data": {"file": "9fdb6c1f2c2cff5...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24b20>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8b8aa40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d81e4040 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8b1e340>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:44:42.000000', 'message', 'group', '-1427099327', '[{"type": "image", "data": {"file": "9fdb6c1f2c2cff5...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d82edb20>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d82edb20>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-323, stopped daemon 140567551530752)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d83afa30>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef120>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:44:42.000000', 'message', 'group', '-1427099327', '[{"type": "image", "data": {"file": "9fdb6c1f2c2cff5014fed3afa0fbca8c.image", "url": "https://gchat.qpic.cn/gchatpic_new/2577117205/962699166-3155042442-9FDB6C1F2C2CFF5014FED3AFA0FBCA8C/0?term=3", "subType": "1"}}]', '', '2577117205', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f12e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:52:30.000000', 'message', 'group', '-1168290773', '[{"type": "image", "data": {"file": "2664c8ad2bd4f40...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:52:30.000000', 'message', 'group', '-1168290773', '[{"type": "image", "data": {"file": "2664c8ad2bd4f40...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8452640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d16477d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d104d8c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:52:30.000000', 'message', 'group', '-1168290773', '[{"type": "image", "data": {"file": "2664c8ad2bd4f40...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d82ed030>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d82ed030>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-329, stopped daemon 140565982095104)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d153f8a0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fcae40>, <coroutine object _run_coro_with_catch at 0x7fd8d0fcaac0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d0fca440>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647053550, self_id=507346814, post_type='message', sub_type='normal', user_id=3531890582, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88f11f0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88f1a90>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d88f11f0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d16477d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d88f1a90>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88f1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88f1cd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88f1cd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d88f1a90>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d88f1610>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88f1ca0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d88f1ca0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f12e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3531890582', 'time': datetime.datetime(2022, 3, 12, 2, 52, 30, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f12e0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f12e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f12e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f12e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f12e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:52:30.000000', 'message', 'group', '-1168290773', '[{"type": "image", "data": {"file": "2664c8ad2bd4f40...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:52:30.000000', 'message', 'group', '-1168290773', '[{"type": "image", "data": {"file": "2664c8ad2bd4f40...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d8452640>
           â”” <_AsyncIoGreenlet object at 0x7fd8d16477d0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d104d8c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:52:30.000000', 'message', 'group', '-1168290773', '[{"type": "image", "data": {"file": "2664c8ad2bd4f40...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d82ed030>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d82ed030>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-329, stopped daemon 140565982095104)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d97c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d153f8a0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:52:30.000000', 'message', 'group', '-1168290773', '[{"type": "image", "data": {"file": "2664c8ad2bd4f408f3bfa0749ca9c631.image", "url": "https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2378517162-2664C8AD2BD4F408F3BFA0749CA9C631/0?term=3", "subType": "0"}}]', '', '3531890582', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0f5e4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:22.000000', 'message', 'group', '-627391026', '[{"type": "image", "data": {"file": "6eb82bffc4316419...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:22.000000', 'message', 'group', '-627391026', '[{"type": "image", "data": {"file": "6eb82bffc4316419...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d104ddc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8ce01a0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d104d240>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:43:22.000000', 'message', 'group', '-627391026', '[{"type": "image", "data": {"file": "6eb82bffc4316419...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4b90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4b90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-321, stopped daemon 140568273303296)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef8a0>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d961b840>, <coroutine object _run_coro_with_catch at 0x7fd8d836e7c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d85c71c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647053002, self_id=507346814, post_type='message', sub_type='normal', user_id=3531890582, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0f5eca0>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f5eeb0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d0f5eca0>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8ce01a0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f5eeb0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f5eeb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0f5e220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0f5e220>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d0f5eeb0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d0f5edc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0f5e880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d0f5e880>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0f5e4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '3531890582', 'time': datetime.datetime(2022, 3, 12, 2, 43, 22, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0f5e4f0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0f5e4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0f5e4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0f5e4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d0f5e4f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:22.000000', 'message', 'group', '-627391026', '[{"type": "image", "data": {"file": "6eb82bffc4316419...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:43:22.000000', 'message', 'group', '-627391026', '[{"type": "image", "data": {"file": "6eb82bffc4316419...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8a24880>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d104ddc0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8ce01a0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d104d240>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:43:22.000000', 'message', 'group', '-627391026', '[{"type": "image", "data": {"file": "6eb82bffc4316419...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4b90>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4b90>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-321, stopped daemon 140568273303296)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9d60>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d80ef8a0>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:43:22.000000', 'message', 'group', '-627391026', '[{"type": "image", "data": {"file": "6eb82bffc4316419b147bd4a47623bed.image", "url": "https://gchat.qpic.cn/gchatpic_new/3531890582/962699166-2619038822-6EB82BFFC4316419B147BD4A47623BED/0?term=3", "subType": "0"}}]', '', '3531890582', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cc2a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:30.000000', 'message', 'group', '109711244', '[{"type": "image", "data": {"file": "32812c784aedf2a71...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd947273100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd947273100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:30.000000', 'message', 'group', '109711244', '[{"type": "image", "data": {"file": "32812c784aedf2a71...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd947273100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d882b3c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86ebeb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16854c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:40:30.000000', 'message', 'group', '109711244', '[{"type": "image", "data": {"file": "32812c784aedf2a71...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4b20>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4b20>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-318, stopped daemon 140567929202432)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1120>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d889ebc0>, <coroutine object _run_coro_with_catch at 0x7fd8d17f90c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d84739c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052830, self_id=507346814, post_type='message', sub_type='normal', user_id=1981925360, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d87d0520>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411fa0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d87d0520>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d86ebeb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411fa0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8997340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8997340>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d8411fa0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d172ff70>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d172f370>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d172f370>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cc2a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '1981925360', 'time': datetime.datetime(2022, 3, 12, 2, 40, 30, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cc2a30>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cc2a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cc2a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cc2a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d8cc2a30>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:30.000000', 'message', 'group', '109711244', '[{"type": "image", "data": {"file": "32812c784aedf2a71...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd947273100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd947273100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:40:30.000000', 'message', 'group', '109711244', '[{"type": "image", "data": {"file": "32812c784aedf2a71...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd947273100>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d882b3c0>
           â”” <_AsyncIoGreenlet object at 0x7fd8d86ebeb0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d16854c0>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:40:30.000000', 'message', 'group', '109711244', '[{"type": "image", "data": {"file": "32812c784aedf2a71...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4b20>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4b20>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-318, stopped daemon 140567929202432)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d84d9880>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d8ba1120>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:40:30.000000', 'message', 'group', '109711244', '[{"type": "image", "data": {"file": "32812c784aedf2a71c4741749d0ba769.image", "url": "https://gchat.qpic.cn/gchatpic_new/1981925360/204222191-3099593500-32812C784AEDF2A71C4741749D0BA769/0?term=3", "subType": "0"}}]', '', '1981925360', '2222191')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86947f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:28.000000', 'message', 'group', '1109195583', '[{"type": "image", "data": {"file": "4e994f1332634ebd...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:28.000000', 'message', 'group', '1109195583', '[{"type": "image", "data": {"file": "4e994f1332634ebd...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d870fd40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d885ea90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8cb6a40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:28.000000', 'message', 'group', '1109195583', '[{"type": "image", "data": {"file": "4e994f1332634ebd...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e898f0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e898f0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-301, stopped daemon 140566099592960)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e27a80>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d101e6c0>, <coroutine object _run_coro_with_catch at 0x7fd8d101ed40>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d82e2940>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647052588, self_id=507346814, post_type='message', sub_type='normal', user_id=963046537, me...
                 â”‚    â”” <function record_recv_msg at 0x7fd932837670>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd932837670>, params=[ModelField(name='event', type=MessageEvent, required=Tr...

  File "./src/plugins/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d86e6490>

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6c10>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d86e6490>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d885ea90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6c10>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6c10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d896b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d896b6a0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d86e6c10>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d86945e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8694fd0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d8694fd0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86947f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '963046537', 'time': datetime.datetime(2022, 3, 12, 2, 36, 28, tzinfo=datetime.timezone.utc), 'platform': 'qq', ...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86947f0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d8843340>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86947f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86947f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86947f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d86947f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:28.000000', 'message', 'group', '1109195583', '[{"type": "image", "data": {"file": "4e994f1332634ebd...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:36:28.000000', 'message', 'group', '1109195583', '[{"type": "image", "data": {"file": "4e994f1332634ebd...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d1063400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d870fd40>
           â”” <_AsyncIoGreenlet object at 0x7fd8d885ea90 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8cb6a40>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:36:28.000000', 'message', 'group', '1109195583', '[{"type": "image", "data": {"file": "4e994f1332634ebd...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d0e898f0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d0e898f0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-301, stopped daemon 140566099592960)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d15fa400>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0e27a80>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:36:28.000000', 'message', 'group', '1109195583', '[{"type": "image", "data": {"file": "4e994f1332634ebdd46b4a939fd704e3.image", "url": "https://gchat.qpic.cn/gchatpic_new/963046537/937760225-3163171316-4E994F1332634EBDD46B4A939FD704E3/0?term=3", "subType": "1"}}]', '', '963046537', '937760225')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | ERROR nonebot >> Error when running EventPostProcessors
Traceback (most recent call last):

  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f17f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:51:18.000000', 'message', 'group', '-849707843', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:51:18.000000', 'message', 'group', '-849707843', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d16ae240>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8c870f0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8760940>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:51:18.000000', 'message', 'group', '-849707843', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4ab0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4ab0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-328, stopped daemon 140566594762496)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0f14030>)

sqlite3.OperationalError: database is locked


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 349, in handle_event
    await asyncio.gather(*coros)
          â”‚       â”‚       â”” [<coroutine object _run_coro_with_catch at 0x7fd8d0fcac40>, <coroutine object _run_coro_with_catch at 0x7fd8d0fca2c0>]
          â”‚       â”” <function gather at 0x7fd94a03b0d0>
          â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 115, in _run_coro_with_catch
    return await coro
                 â”” <coroutine object Dependent.__call__ at 0x7fd8d0fca0c0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'event': GroupMessageEvent(time=1647053478, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, m...
                 â”‚    â”” <function record_recv_msg at 0x7fd9272dbdc0>
                 â”” <Dependent call=<function record_recv_msg at 0x7fd9272dbdc0>, params=[ModelField(name='event', type=MessageEvent, required=Tr...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot_plugin_chatrecorder/__init__.py", line 41, in record_recv_msg
    await session.commit()
          â”‚       â”” <function AsyncSession.commit at 0x7fd931ab2310>
          â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d95fe580>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in commit
    return await greenlet_spawn(self.sync_session.commit)
                 â”‚              â”‚    â”‚            â”” <function Session.commit at 0x7fd931b35b80>
                 â”‚              â”‚    â”” <sqlmodel.orm.session.Session object at 0x7fd8d95fedc0>
                 â”‚              â”” <sqlmodel.ext.asyncio.session.AsyncSession object at 0x7fd8d95fe580>
                 â”” <function greenlet_spawn at 0x7fd9325c58b0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 136, in greenlet_spawn
    result = context.switch(value)
             â”‚       â”‚      â”” None
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x7fd8d8c870f0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
    â”‚    â”‚                            â”‚    â”” True
    â”‚    â”‚                            â”” <sqlmodel.orm.session.Session object at 0x7fd8d95fedc0>
    â”‚    â”” None
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d95fedc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    â”‚    â”” <function SessionTransaction._prepare_impl at 0x7fd931b34a60>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8953400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    â”‚    â”” None
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d8953400>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x7fd931b399d0>
    â”” <sqlmodel.orm.session.Session object at 0x7fd8d95fedc0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x7fd931b34b80>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x7fd8d83955e0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    â”‚      â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util.compat' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x7fd931b2f1f0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d821c9d0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fd8d821c9d0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x7fd931b2faf0>
    â”” SaveUpdateAll(mapped class MessageRecord->chatrecorder_message_record)
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x7fd931b1f040>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py'>
    â”‚    â”” <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7fd932852f70>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x7fd931b1f670>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             â”‚          â”” <function Connection._execute_20 at 0x7fd9320285e0>
             â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f17f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           â”‚    â”‚     â”‚             â”‚               â”” {'compiled_cache': {(<sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>, ('0', <class 's...
           â”‚    â”‚     â”‚             â”” immutabledict({})
           â”‚    â”‚     â”” ({'user_id': '2560359315', 'time': datetime.datetime(2022, 3, 12, 2, 51, 18, tzinfo=datetime.timezone.utc), 'platform': 'qq',...
           â”‚    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f17f0>
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fd8d84de6d0>>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x7fd932028430>
           â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f17f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x7fd932028700>
          â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f17f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x7fd9320288b0>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f17f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
    â”‚    â”” <function raise_ at 0x7fd932806820>
    â”” <module 'sqlalchemy.util' from '/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x7fd931d67940>
    â”‚    â”” <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7fd9328c6d90>
    â”” <sqlalchemy.future.engine.Connection object at 0x7fd8d88f17f0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('qq', '2022-03-12 02:51:18.000000', 'message', 'group', '-849707843', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7...
    â”‚      â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚      â”” <function AsyncAdapt_aiosqlite_cursor.execute at 0x7fd93150ed30>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 100, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 229, in _handle_exception
    raise error
          â”” OperationalError('database is locked')
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 82, in execute
    self.await_(_cursor.execute(operation, parameters))
    â”‚    â”‚      â”‚       â”‚       â”‚          â”” ('qq', '2022-03-12 02:51:18.000000', 'message', 'group', '-849707843', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7...
    â”‚    â”‚      â”‚       â”‚       â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
    â”‚    â”‚      â”‚       â”” <function Cursor.execute at 0x7fd93149c940>
    â”‚    â”‚      â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
    â”‚    â”” <member 'await_' of 'AsyncAdapt_aiosqlite_cursor' objects>
    â”” <sqlalchemy.dialects.sqlite.aiosqlite.AsyncAdapt_aiosqlite_cursor object at 0x7fd8d8dae4c0>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 76, in await_only
    return current.driver.switch(awaitable)
           â”‚                     â”” <coroutine object Cursor.execute at 0x7fd8d16ae240>
           â”” <_AsyncIoGreenlet object at 0x7fd8d8c870f0 (otid=0x7fd9501fc380) dead>
  File "/usr/local/python3/lib/python3.8/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 129, in greenlet_spawn
    value = await result
                  â”” <coroutine object Connection.rollback at 0x7fd8d8760940>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 37, in execute
    await self._execute(self._cursor.execute, sql, parameters)
          â”‚    â”‚        â”‚    â”‚       â”‚        â”‚    â”” ('qq', '2022-03-12 02:51:18.000000', 'message', 'group', '-849707843', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7...
          â”‚    â”‚        â”‚    â”‚       â”‚        â”” 'INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group...
          â”‚    â”‚        â”‚    â”‚       â”” <method 'execute' of 'sqlite3.Cursor' objects>
          â”‚    â”‚        â”‚    â”” <sqlite3.Cursor object at 0x7fd8d89b4ab0>
          â”‚    â”‚        â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
          â”‚    â”” <function Cursor._execute at 0x7fd93149c8b0>
          â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/cursor.py", line 31, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
                 â”‚    â”‚     â”‚        â”‚    â”‚       â”” {}
                 â”‚    â”‚     â”‚        â”‚    â”” ('INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, grou...
                 â”‚    â”‚     â”‚        â”” <built-in method execute of sqlite3.Cursor object at 0x7fd8d89b4ab0>
                 â”‚    â”‚     â”” <function Connection._execute at 0x7fd9314ac8b0>
                 â”‚    â”” <Connection(Thread-328, stopped daemon 140566594762496)>
                 â”” <aiosqlite.cursor.Cursor object at 0x7fd8d8694f70>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 129, in _execute
    return await future
                 â”” <Future finished exception=OperationalError('database is locked')>
  File "/usr/local/python3/lib/python3.8/site-packages/aiosqlite/core.py", line 102, in run
    result = function()
             â”” functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd8d0f14030>)

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO chatrecorder_message_record (platform, time, type, detail_type, message_id, message, alt_message, user_id, group_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('qq', '2022-03-12 02:51:18.000000', 'message', 'group', '-849707843', '[{"type": "image", "data": {"file": "8595f73f4b4db8b7f0bb083f0d751db4.image", "url": "https://gchat.qpic.cn/gchatpic_new/2560359315/962699166-3219757331-8595F73F4B4DB8B7F0BB083F0D751DB4/0?term=3", "subType": "1"}}]', '', '2560359315', '962699166')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:15 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:15 | DEBUG src.plugins.nonebot_plugin_repeater >> /feiyucans
[36mATRI[0m | 03-12 11:21:15 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:15 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:15 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:15 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:18 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:18 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:23 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:23 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:26 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -153464300 from 1429954079@[ç¾¤:962699166] "å†ç»™ä½ ä»¬è®²ä¸ªç¬‘è¯ 22å¹´è€ƒç ”å›½å®¶çº¿å­”å­æ¥äº†ä¹Ÿå¾—è°ƒå‰‚"
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:26 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:26 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:26 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:26 | DEBUG src.plugins.nonebot_plugin_repeater >> å†ç»™ä½ ä»¬è®²ä¸ªç¬‘è¯ 22å¹´è€ƒç ”å›½å®¶çº¿å­”å­æ¥äº†ä¹Ÿå¾—è°ƒå‰‚
[36mATRI[0m | 03-12 11:21:26 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:26 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:26 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:26 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:28 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:28 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:33 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:33 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:38 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:38 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:43 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:43 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:45 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -12265517 from 3082098949@[ç¾¤:2222191] "[CQ:image,file=3a4bbc8df4ad0f5fd8a58e2d001d881a.image,url=https://gchat.qpic.cn/gchatpic_new/3082098949/204222191-2929167255-3A4BBC8DF4AD0F5FD8A58E2D001D881A/0?term=3,subType=0]"
[36mATRI[0m | 03-12 11:21:45 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:45 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:45 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:45 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:45 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3082098949/204222191-2929167255-3A4BBC8DF4AD0F5FD8A58E2D001D881A/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:21:48 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:48 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:50 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:50 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:50 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=3a4bbc8df4ad0f5fd8a58e2d001d881a.image,url=https://gchat.qpic.cn/gchatpic_new/3082098949/204222191-2929167255-3A4BBC8DF4AD0F5FD8A58E2D001D881A/0?term=3,subType=0]
[36mATRI[0m | 03-12 11:21:50 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:21:50 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:50 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:50 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:53 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:53 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:57 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2116197758 from 3531890582@[ç¾¤:962699166] "hhhhhh"
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:21:57 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:57 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:21:57 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:21:57 | DEBUG src.plugins.nonebot_plugin_repeater >> hhhhhh
[36mATRI[0m | 03-12 11:21:57 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:21:57 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:21:57 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:21:57 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:21:58 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:21:58 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:03 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:08 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:08 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:11 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 107915214 from 2560359315@[ç¾¤:277620613] "è´´è´´"
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:22:11 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:22:11 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:11 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:11 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:22:11 | INFO nonebot >> Event will be handled by <Matcher from é—²èŠ, type=message, priority=5, temp=False>
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.message >> Running matcher <Matcher from é—²èŠ, type=message, priority=5, temp=False>
[36mATRI[0m | 03-12 11:22:11 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _chat at 0x7fd932f81550>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:22:12 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:22:13 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:13 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:14 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 416559928 from 3531890582@[ç¾¤:962699166] "å¹¿ä¸œå¥½åƒçœŸæ²¡å§...ï¼Ÿï¼ˆ"
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:22:14 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:14 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:22:14 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:14 | DEBUG src.plugins.nonebot_plugin_repeater >> å¹¿ä¸œå¥½åƒçœŸæ²¡å§...ï¼Ÿï¼ˆ
[36mATRI[0m | 03-12 11:22:14 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:22:14 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:22:14 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:22:14 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:22:17 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:22:17 | INFO nonebot >> Matcher <Matcher from é—²èŠ, type=message, priority=5, temp=False> running complete
[36mATRI[0m | 03-12 11:22:17 | DEBUG nonebot.message >> Stop event propagation
[36mATRI[0m | 03-12 11:22:17 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:22:18 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:18 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:23 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:23 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:25 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1876100014 from 3479060093@[ç¾¤:962699166] "å¹¿ä¸œè¿˜æ²¡å•Š"
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:22:25 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:25 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:22:25 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:25 | DEBUG src.plugins.nonebot_plugin_repeater >> å¹¿ä¸œè¿˜æ²¡å•Š
[36mATRI[0m | 03-12 11:22:25 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:22:25 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:22:25 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:22:25 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:22:28 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:28 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:33 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1902745432 from 2560359315@[ç¾¤:277620613] "/ping"
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:22:33 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:22:33 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:33 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:33 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:33 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.ping, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.ping, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function ping_handle at 0x7fd8db4e18b0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=Event, required=True), ModelField(name='matcher', type=Matcher, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:33 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:22:38 | INFO nonebot >> Matcher <Matcher from src.plugins.ping, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:38 | ERROR nonebot >> Running matcher <Matcher from src.plugins.ping, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "/usr/bin/nb", line 8, in <module>
    sys.exit(main())
    â”‚   â”‚    â”” <ClickAliasedGroup main>
    â”‚   â”” <built-in function exit>
    â”” <module 'sys' (built-in)>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1128, in __call__
    return self.main(*args, **kwargs)
           â”‚    â”‚     â”‚       â”” {}
           â”‚    â”‚     â”” ()
           â”‚    â”” <function BaseCommand.main at 0x7fd94f977040>
           â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1053, in main
    rv = self.invoke(ctx)
         â”‚    â”‚      â”” <click.core.Context object at 0x7fd9501fd4f0>
         â”‚    â”” <function MultiCommand.invoke at 0x7fd94f97b0d0>
         â”” <ClickAliasedGroup main>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1659, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
           â”‚               â”‚       â”‚       â”‚      â”” <click.core.Context object at 0x7fd957aea370>
           â”‚               â”‚       â”‚       â”” <function Command.invoke at 0x7fd94f977af0>
           â”‚               â”‚       â”” <ClickAliasedCommand run>
           â”‚               â”” <click.core.Context object at 0x7fd957aea370>
           â”” <function MultiCommand.invoke.<locals>._process_result at 0x7fd9468a2a60>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 1395, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           â”‚   â”‚      â”‚    â”‚           â”‚   â”” {'file': 'bot.py', 'app': 'app'}
           â”‚   â”‚      â”‚    â”‚           â”” <click.core.Context object at 0x7fd957aea370>
           â”‚   â”‚      â”‚    â”” <function run at 0x7fd9469ce940>
           â”‚   â”‚      â”” <ClickAliasedCommand run>
           â”‚   â”” <function Context.invoke at 0x7fd94f9738b0>
           â”” <click.core.Context object at 0x7fd957aea370>
  File "/usr/local/python3/lib/python3.8/site-packages/click/core.py", line 754, in invoke
    return __callback(*args, **kwargs)
                       â”‚       â”” {'file': 'bot.py', 'app': 'app'}
                       â”” ()
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/commands/main.py", line 30, in run
    run_bot(file, app)
    â”‚       â”‚     â”” 'app'
    â”‚       â”” 'bot.py'
    â”” <function run_bot at 0x7fd9469be700>
  File "/usr/local/python3/lib/python3.8/site-packages/nb_cli/handlers/deploy.py", line 24, in run_bot
    nonebot.run(app=f"{module_name}:{app}")
    â”‚       â”” <function run at 0x7fd948ac39d0>
    â”” <module 'nonebot' from '/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/__init__.py", line 258, in run
    get_driver().run(*args, **kwargs)
    â”‚                 â”‚       â”” {'app': 'bot:app'}
    â”‚                 â”” ()
    â”” <function get_driver at 0x7fd948ac3550>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/drivers/fastapi.py", line 168, in run
    uvicorn.run(
    â”‚       â”” <function run at 0x7fd9467ca700>
    â”” <module 'uvicorn' from '/usr/local/python3/lib/python3.8/site-packages/uvicorn/__init__.py'>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    â”‚      â”” <function Server.run at 0x7fd9467caaf0>
    â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
  File "/usr/local/python3/lib/python3.8/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” None
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7fd9467cab80>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7fd8db3355b0>
           â”‚       â”” <function run at 0x7fd94c1ff4c0>
           â”” <module 'asyncio' from '/usr/local/python3/lib/python3.8/asyncio/__init__.py'>
  File "/usr/local/python3/lib/python3.8/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7fd8db3424c0>
           â”‚    â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”” <uvloop.Loop running=True closed=False debug=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 153, in _check_matcher
    await _run_matcher(Matcher, bot, event, state, stack, dependency_cache)
          â”‚            â”‚        â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-72699' coro=<_event_to_me() done, defined at /usr/local...
          â”‚            â”‚        â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8d13520>
          â”‚            â”‚        â”‚    â”‚      â”” {'_prefix': {'command': ('ping',), 'raw_command': '/ping', 'command_arg': []}}
          â”‚            â”‚        â”‚    â”” GroupMessageEvent(time=1647055353, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
          â”‚            â”‚        â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚            â”” <Matcher from src.plugins.ping, type=message, priority=1, temp=False>
          â”” <function _run_matcher at 0x7fd9468e3700>
> File "/usr/local/python3/lib/python3.8/site-packages/nonebot/message.py", line 202, in _run_matcher
    await matcher.run(bot, event, state, stack, dependency_cache)
          â”‚       â”‚   â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-72699' coro=<_event_to_me() done, defined at /usr/local...
          â”‚       â”‚   â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8d13520>
          â”‚       â”‚   â”‚    â”‚      â”” {'_prefix': {'command': ('ping',), 'raw_command': '/ping', 'command_arg': []}}
          â”‚       â”‚   â”‚    â”” GroupMessageEvent(time=1647055353, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
          â”‚       â”‚   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚       â”” <function Matcher.run at 0x7fd948ae3c10>
          â”” <Matcher from src.plugins.ping, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 668, in run
    await self.simple_run(bot, event, state, stack, dependency_cache)
          â”‚    â”‚          â”‚    â”‚      â”‚      â”‚      â”” {<function _event_to_me at 0x7fd948a670d0>: <Task finished name='Task-72699' coro=<_event_to_me() done, defined at /usr/local...
          â”‚    â”‚          â”‚    â”‚      â”‚      â”” <contextlib.AsyncExitStack object at 0x7fd8d8d13520>
          â”‚    â”‚          â”‚    â”‚      â”” {'_prefix': {'command': ('ping',), 'raw_command': '/ping', 'command_arg': []}}
          â”‚    â”‚          â”‚    â”” GroupMessageEvent(time=1647055353, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
          â”‚    â”‚          â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
          â”‚    â”” <function Matcher.simple_run at 0x7fd948ae3b80>
          â”” <Matcher from src.plugins.ping, type=message, priority=1, temp=False>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 635, in simple_run
    await handler(
          â”” <Dependent call=<function ping_handle at 0x7fd8db4e18b0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField...
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/dependencies/__init__.py", line 92, in __call__
    return await self.call(**values)
                 â”‚    â”‚      â”” {'bot': <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>, 'event': GroupMessageEvent(time=1647055353, self_id=5...
                 â”‚    â”” <function ping_handle at 0x7fd8db4e18b0>
                 â”” <Dependent call=<function ping_handle at 0x7fd8db4e18b0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField...

  File "./src/plugins/ping.py", line 15, in ping_handle
    await ping.send(result)
          â”‚    â”‚    â”” 'Pong!   (520 ms)'
          â”‚    â”” <classmethod object at 0x7fd948adebe0>
          â”” <Matcher from src.plugins.ping, type=message, priority=1, temp=False>

  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/matcher.py", line 449, in send
    return await bot.send(event=event, message=_message, **kwargs)
                 â”‚   â”‚          â”‚              â”‚           â”” {}
                 â”‚   â”‚          â”‚              â”” 'Pong!   (520 ms)'
                 â”‚   â”‚          â”” GroupMessageEvent(time=1647055353, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
                 â”‚   â”” <function Bot.send at 0x7fd9468e3c10>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 247, in send
    return await self.__class__.send_handler(self, event, message, **kwargs)
                 â”‚    â”‚                      â”‚     â”‚      â”‚          â”” {}
                 â”‚    â”‚                      â”‚     â”‚      â”” 'Pong!   (520 ms)'
                 â”‚    â”‚                      â”‚     â”” GroupMessageEvent(time=1647055353, self_id=507346814, post_type='message', sub_type='normal', user_id=2560359315, message_typ...
                 â”‚    â”‚                      â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                 â”‚    â”” <attribute '__class__' of 'object' objects>
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 175, in send
    return await bot.send_msg(**params)
                 â”‚              â”” {'user_id': 2560359315, 'group_id': 277620613, 'message_type': 'group', 'message': [MessageSegment(type='text', data={'text':...
                 â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/bot.py", line 208, in call_api
    return await super().call_api(api, **data)
                                  â”‚      â”” {'user_id': 2560359315, 'group_id': 277620613, 'message_type': 'group', 'message': [MessageSegment(type='text', data={'text':...
                                  â”” 'send_msg'
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 117, in call_api
    raise exception
          â”” <ActionFailed data=None, echo={'seq': 19}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/internal/adapter/bot.py", line 94, in call_api
    result = await self.adapter._call_api(self, api, **data)
                   â”‚    â”‚       â”‚         â”‚     â”‚      â”” {'user_id': 2560359315, 'group_id': 277620613, 'message_type': 'group', 'message': [MessageSegment(type='text', data={'text':...
                   â”‚    â”‚       â”‚         â”‚     â”” 'send_msg'
                   â”‚    â”‚       â”‚         â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
                   â”‚    â”‚       â”” <function Adapter._call_api at 0x7fd9468f1040>
                   â”‚    â”” <nonebot.adapters.onebot.v11.adapter.Adapter object at 0x7fd9469d3a30>
                   â”” <nonebot.adapters.onebot.v11.bot.Bot object at 0x7fd8da69d9a0>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/adapter.py", line 107, in _call_api
    return _handle_api_result(
           â”” <function _handle_api_result at 0x7fd946977670>
  File "/usr/local/python3/lib/python3.8/site-packages/nonebot/adapters/onebot/v11/utils.py", line 81, in _handle_api_result
    raise ActionFailed(**result)
          â”‚              â”” {'data': None, 'echo': {'seq': 19}, 'msg': 'SEND_MSG_API_ERROR', 'retcode': 100, 'status': 'failed', 'wording': 'è¯·å‚è€ƒ go-cqhtt...
          â”” <class 'nonebot.adapters.onebot.v11.exception.ActionFailed'>

nonebot.adapters.onebot.v11.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 19}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=è¯·å‚è€ƒ go-cqhttp ç«¯è¾“å‡º>
[36mATRI[0m | 03-12 11:22:38 | DEBUG ATRI.exceptions >> A bug has been cumming!!! Track ID: XK1jVhny
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_private_msg
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:22:38 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:38 | DEBUG src.plugins.nonebot_plugin_repeater >> /ping
[36mATRI[0m | 03-12 11:22:38 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:22:38 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:22:38 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:38 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:39 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -9691585 from 3479060093@[ç¾¤:962699166] "æ²³å—1äº¿äººå£çš„å¤§çœ"
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:22:39 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:39 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:22:39 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:39 | DEBUG src.plugins.nonebot_plugin_repeater >> æ²³å—1äº¿äººå£çš„å¤§çœ
[36mATRI[0m | 03-12 11:22:39 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:22:39 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:22:39 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:22:39 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:22:40 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:22:40 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:22:43 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:43 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:48 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:48 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:22:49 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -2006241623 from 3479060093@[ç¾¤:962699166] "æ€»å…±å°±ä¸€ä¸ªæœ«æµ211"
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:22:49 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:49 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:22:49 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:22:49 | DEBUG src.plugins.nonebot_plugin_repeater >> æ€»å…±å°±ä¸€ä¸ªæœ«æµ211
[36mATRI[0m | 03-12 11:22:49 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:22:49 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:22:49 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:22:49 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:22:53 | WARNING nonebot >> OneBot V11 | WebSocket for Bot 507346814 closed by peer
[36mATRI[0m | 03-12 11:22:53 | INFO websockets >> connection closed
[36mATRI[0m | 03-12 11:23:04 | INFO uvicorn >> ('127.0.0.1', 48700) - "WebSocket /onebot/v11/ws/" [accepted]
[36mATRI[0m | 03-12 11:23:04 | INFO nonebot >> OneBot V11 | Bot 507346814 connected
[36mATRI[0m | 03-12 11:23:04 | INFO websockets >> connection open
[36mATRI[0m | 03-12 11:23:04 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.LifecycleMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:04 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.LifecycleMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:09 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:09 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:14 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:14 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:19 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -506033463 from 2560359315@[ç¾¤:277620613] "è´´è´´"
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:23:19 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:23:19 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:19 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:19 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:23:19 | INFO nonebot >> Event will be handled by <Matcher from é—²èŠ, type=message, priority=5, temp=False>
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.message >> Running matcher <Matcher from é—²èŠ, type=message, priority=5, temp=False>
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _chat at 0x7fd932f81550>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.utils >> OneBot V11 | Calling API send_msg
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:19 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:24 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:24 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:24 | DEBUG nonebot.internal.adapter.bot >> Running CalledAPI hooks...
[36mATRI[0m | 03-12 11:23:24 | INFO nonebot >> Matcher <Matcher from é—²èŠ, type=message, priority=5, temp=False> running complete
[36mATRI[0m | 03-12 11:23:24 | DEBUG nonebot.message >> Stop event propagation
[36mATRI[0m | 03-12 11:23:24 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:23:29 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1091174198 from 3479060093@[ç¾¤:962699166] "æˆ‘ä»¬ç­ä¸Šå‘¨èµ°çš„ä¸€ä¸ªç­é‡ŒæŽ’åä¸­ç­‰çš„å­¦ç”Ÿ"
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:23:29 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:29 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:23:29 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:29 | DEBUG src.plugins.nonebot_plugin_repeater >> æˆ‘ä»¬ç­ä¸Šå‘¨èµ°çš„ä¸€ä¸ªç­é‡ŒæŽ’åä¸­ç­‰çš„å­¦ç”Ÿ
[36mATRI[0m | 03-12 11:23:29 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:23:29 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:23:29 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:29 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:34 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:34 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:35 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -906940324 from 3479060093@[ç¾¤:962699166] "åˆ°è¥¿å®‰ç¬¬ä¸€æ¬¡æµ‹è¯•"
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:23:35 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:35 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:23:35 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:35 | DEBUG src.plugins.nonebot_plugin_repeater >> åˆ°è¥¿å®‰ç¬¬ä¸€æ¬¡æµ‹è¯•
[36mATRI[0m | 03-12 11:23:35 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:23:35 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:23:35 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:23:35 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:23:39 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 1358455270 from 3479060093@[ç¾¤:962699166] "ç¬¬ä¸€"
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:23:39 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:39 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:23:39 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:39 | DEBUG src.plugins.nonebot_plugin_repeater >> ç¬¬ä¸€
[36mATRI[0m | 03-12 11:23:39 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:23:39 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:23:39 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:39 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:40 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1764640161 from 2560359315@[ç¾¤:277620613] "å¾—æ¢å·äº†"
[36mATRI[0m | 03-12 11:23:40 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:23:40 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:40 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:40 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:23:40 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:40 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:40 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:40 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:40 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:40 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:23:41 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:41 | DEBUG src.plugins.nonebot_plugin_repeater >> å¾—æ¢å·äº†
[36mATRI[0m | 03-12 11:23:41 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:23:41 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:23:41 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:23:41 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:23:42 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message 671043952 from 3479060093@[ç¾¤:962699166] "[CQ:image,file=fea382bbcf114c0705aaa9f68a5f36cd.image,url=https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-2217289980-FEA382BBCF114C0705AAA9F68A5F36CD/0?term=3,subType=1]"
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:23:42 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:42 | DEBUG ATRI.utils.request >> GET https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-2217289980-FEA382BBCF114C0705AAA9F68A5F36CD/0?term=3 by {'all://': 'http://127.0.0.1:20172'} | MORE: 
 {}
[36mATRI[0m | 03-12 11:23:42 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:23:42 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:42 | DEBUG src.plugins.nonebot_plugin_repeater >> [CQ:image,file=fea382bbcf114c0705aaa9f68a5f36cd.image,url=https://gchat.qpic.cn/gchatpic_new/3479060093/962699166-2217289980-FEA382BBCF114C0705AAA9F68A5F36CD/0?term=3,subType=1]
[36mATRI[0m | 03-12 11:23:42 | DEBUG src.plugins.nonebot_plugin_repeater >> CQ:image
[36mATRI[0m | 03-12 11:23:42 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:23:42 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:23:42 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:23:44 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:44 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:49 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:49 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:54 | SUCCESS nonebot >> ONEBOT V11 507346814 | [message.group.normal]: Message -1180973869 from 2560359315@[ç¾¤:962699166] "ï¼Ÿï¼Ÿï¼"
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 1...
[36mATRI[0m | 03-12 11:23:54 | INFO nonebot >> Event will be handled by <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Running matcher <Matcher from è€å©†, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _tietie_superuser at 0x7fd932f63790>, params=[ModelField(name='event', type=MessageEvent, required=True)], parameterless=[DependParam()]>
[36mATRI[0m | 03-12 11:23:54 | INFO nonebot >> Event will be handled by <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Running matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False>
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function _setu_catcher at 0x7fd8db6703a0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=MessageEvent, required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:54 | INFO nonebot >> Matcher <Matcher from æ¶©å›¾, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:54 | INFO nonebot >> Matcher <Matcher from è€å©†, type=message, priority=1, temp=False> running complete
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 2...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 5...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 8...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 10...
[36mATRI[0m | 03-12 11:23:54 | INFO nonebot >> Event will be handled by <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Running matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False>
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.internal.matcher >> Running handler <Dependent call=<function repeater at 0x7fd93143fdc0>, params=[ModelField(name='bot', type=Bot, required=True), ModelField(name='event', type=GroupMessageEvent, required=True), ModelField(name='state', type=Mapping[Any, Any], required=True)], parameterless=[]>
[36mATRI[0m | 03-12 11:23:54 | DEBUG src.plugins.nonebot_plugin_repeater >> ï¼Ÿï¼Ÿï¼
[36mATRI[0m | 03-12 11:23:54 | DEBUG src.plugins.nonebot_plugin_repeater >> Normal
[36mATRI[0m | 03-12 11:23:54 | DEBUG src.plugins.nonebot_plugin_repeater >> None
[36mATRI[0m | 03-12 11:23:54 | INFO nonebot >> Matcher <Matcher from src.plugins.nonebot_plugin_repeater, type=message, priority=10, temp=False> running complete
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 11...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 12...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 13...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Checking for matchers in priority 15...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.message >> Running PostProcessors...
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:54 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:59 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:23:59 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:24:04 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:24:04 | DEBUG nonebot.internal.params >> Event type <class 'nonebot.adapters.onebot.v11.event.HeartbeatMetaEvent'> not match annotation MessageEvent, ignored
[36mATRI[0m | 03-12 11:24:08 | INFO uvicorn >> Shutting down
[36mATRI[0m | 03-12 11:24:08 | WARNING nonebot >> OneBot V11 | WebSocket for Bot 507346814 closed by peer
[36mATRI[0m | 03-12 11:24:08 | INFO websockets >> connection closed
[36mATRI[0m | 03-12 11:24:08 | INFO uvicorn >> Waiting for application shutdown.
[36mATRI[0m | 03-12 11:24:08 | INFO nonebot_plugin_htmlrender >> Browser Stoped.
[36mATRI[0m | 03-12 11:24:08 | INFO src >> Browser Stoped.
[36mATRI[0m | 03-12 11:24:08 | INFO uvicorn >> Application shutdown complete.
[36mATRI[0m | 03-12 11:24:08 | INFO uvicorn >> Finished server process [2457]
